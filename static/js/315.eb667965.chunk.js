"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[315],{49957:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/view"),f={activityFrontWork:void 0,primaveraId:void 0,activityName:void 0,activityDiscipline:void 0,activityTotalAmount:void 0,activityPreviousAcumulatedAmount:void 0,activityActualShiftQuantity:void 0,activityAccumulatedAcvancePercent:void 0,activityUnit:void 0,activityHoursSpendPrevius:void 0,activityHoursSpendShift:void 0,activityHoursAccumulated:void 0},{getData:N}=(0,b.A)(),g=N("basics"),[C,S]=(0,t.useState)(f),[F,W]=(0,t.useState)([]),[A,O]=(0,t.useState)(!1),{storeActivity:M,removeActivity:D,activityList:q}=(0,j.A)(),H=e=>{O(!1),"activityFrontWork"===e.target.id&&(S(f),S({[e.target.id]:e.target.value})),"activityTotalAmount"===e.target.id||"activityPreviousAcumulatedAmount"===e.target.id||"activityActualShiftQuantity"===e.target.id||"activityAccumulatedAcvancePercent"===e.target.id||"activityHoursSpendPrevius"===e.target.id||"activityHoursSpendShift"===e.target.id||"activityHoursAccumulated"===e.target.id?(0,v.t)(e.target.value)&&S({...C,[e.target.id]:e.target.value}):S({...C,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{const e=C.activityHoursSpendShift?Number(C.activityHoursSpendShift):0,r=C.activityHoursSpendPrevius?Number(C.activityHoursSpendPrevius):0;S({...C,activityHoursAccumulated:r+e})}),[C.activityHoursSpendShift,C.activityHoursSpendPrevius]),(0,t.useEffect)((()=>{if(C.activityPreviousAcumulatedAmount&&C.activityActualShiftQuantity&&C.activityTotalAmount){const e=C.activityPreviousAcumulatedAmount?Number(C.activityPreviousAcumulatedAmount):0,r=((C.activityActualShiftQuantity?Number(C.activityActualShiftQuantity):0)+e)/(C.activityTotalAmount?Number(C.activityTotalAmount):0);S({...C,activityAccumulatedAcvancePercent:r.toFixed(2)})}}),[C.activityPreviousAcumulatedAmount,C.activityActualShiftQuantity,C.activityTotalAmount]);return(0,t.useEffect)((()=>{i||M(F)}),[F]),(0,k.jsxs)("div",{className:"work-force-report",children:[!i&&(0,k.jsxs)(k.Fragment,{children:[A&&(0,k.jsx)(a.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{O(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el frente de trabajo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"activityFrontWork",label:"Frente de trabajo",value:null!==(e=C.activityFrontWork)&&void 0!==e?e:0,onChange:e=>{H(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),g.workFront.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,k.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"primaveraId",value:C.primaveraId||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityName",value:C.activityName||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"activityDiscipline",value:null!==(r=C.activityDiscipline)&&void 0!==r?r:"0",onChange:e=>{H(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),(0,k.jsx)("option",{value:"Obras_civiles",children:"Obras Civiles"}),(0,k.jsx)("option",{value:"Movimiento_de_tierra",children:"Movimiento de tierra"})]})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityTotalAmount",value:C.activityTotalAmount||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityPreviousAcumulatedAmount",value:C.activityPreviousAcumulatedAmount||"",text:"",onChange:e=>{H(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,k.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityActualShiftQuantity",value:C.activityActualShiftQuantity||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityAccumulatedAcvancePercent",value:C.activityAccumulatedAcvancePercent||"",disabled:!0,text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityUnit",value:C.activityUnit||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursSpendPrevius",value:C.activityHoursSpendPrevius||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursSpendShift",value:C.activityHoursSpendShift||"",text:"",onChange:e=>{H(e)}})})]}),(0,k.jsx)(s.Y,{children:(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"})}),(0,k.jsx)(s.Y,{children:(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursAccumulated",value:C.activityHoursAccumulated||"",disabled:!0,text:"",onChange:e=>{H(e)}})})})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.activityFrontWork&&"0"!==C.activityFrontWork){const e={id:(0,p.A)(),activityFrontWork:C.activityFrontWork,primaveraId:C.primaveraId,activityName:C.activityName,activityDiscipline:C.activityDiscipline,activityTotalAmount:C.activityTotalAmount,activityPreviousAcumulatedAmount:C.activityPreviousAcumulatedAmount,activityActualShiftQuantity:C.activityActualShiftQuantity,activityAccumulatedAcvancePercent:C.activityAccumulatedAcvancePercent,activityUnit:C.activityUnit,activityHoursSpendPrevius:C.activityHoursSpendPrevius,activityHoursSpendShift:C.activityHoursSpendShift,activityHoursAccumulated:C.activityHoursAccumulated};S(f),W([...F,e])}else O(!0)})()},children:"Registrar"})]}),q.length>0&&q[0].activityFrontWork&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,k.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,k.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"}),(0,k.jsx)(d.$,{scope:"col"})]})}),(0,k.jsx)(u.C,{children:q.map(((e,r)=>{const t=g.workFront.find((r=>r.id==e.activityFrontWork));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:t.name}),(0,k.jsx)(h.c,{children:e.primaveraId}),(0,k.jsx)(h.c,{children:e.activityName}),(0,k.jsx)(h.c,{children:e.activityDiscipline}),(0,k.jsx)(h.c,{children:e.activityTotalAmount}),(0,k.jsx)(h.c,{children:e.activityPreviousAcumulatedAmount}),(0,k.jsx)(h.c,{children:e.activityActualShiftQuantity}),(0,k.jsx)(h.c,{children:e.activityAccumulatedAcvancePercent}),(0,k.jsx)(h.c,{children:e.activityUnit}),(0,k.jsx)(h.c,{children:e.activityHoursSpendPrevius}),(0,k.jsx)(h.c,{children:e.activityHoursSpendShift}),(0,k.jsx)(h.c,{children:e.activityHoursAccumulated}),(0,k.jsx)(h.c,{children:!i&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));S(r),D(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},85930:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(18767),f=i(55316),N=i(70579);const g=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/view"),g=(0,t.useRef)(null),C={machinery:void 0,asarcoMachineryEffectiveTime:void 0,asarcoMachineryUnscheduleMaintenance:void 0,asarcoMachineryScheduleMaintenance:void 0,asarcoMachineryUnscheduleDelay:void 0,asarcoMachineryReserves:void 0,asarcoMachineryHorometer:void 0,asarcoMachineryOpperationalLoss:void 0,asarcoMachineryScheduleDelay:void 0,machineryPlate:void 0},{getData:S}=(0,b.A)(),F=S("basics"),[W,A]=(0,t.useState)(C),[O,M]=(0,t.useState)([]),[D,q]=(0,t.useState)({asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0,machineryPlate:0}),[H,P]=(0,t.useState)(),[$,E]=(0,t.useState)(!1),[w,T]=(0,t.useState)(),[L,R]=(0,t.useState)([["Task","Hours per Day"],["Tiempo Efectivo (Hrs)",0],["Mantenci\xf3n Programada (Hrs)",0],["Demora Programada (Hrs)",0],["Perdida Operacional (Hrs)",0],["Mantenci\xf3n No Programada (Hrs)",0],["Demora No Programada (Hrs)",0],["Reservas (Hrs)",0]]),{storeAsarcoMachinery:Y,removeAsarcoMachinery:Q,asarcoMachineryList:I,storeGraphs:B}=(0,j.A)(),V=e=>{if(E(!1),"machinery"===e.target.id)if(A(C),A({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=F.machinery.find((r=>r.id.toString()===e.target.value.toString()));P(r.plate)}else P();else"machineryPlate"===e.target.id?"0"!==e.target.value?A({...W,[e.target.id]:e.target.value}):A({...W,[e.target.id]:"0"}):(0,v.t)(e.target.value)&&A({...W,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{i||Y(O)}),[O]),(0,t.useEffect)((()=>{let e={asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0};for(let s of I){var r,i,t,a,c,n,o,l;e={asarcoMachineryEffectiveTime:Number(e.asarcoMachineryEffectiveTime)+Number(null!==(r=s.asarcoMachineryEffectiveTime)&&void 0!==r?r:0),asarcoMachineryUnscheduleMaintenance:Number(e.asarcoMachineryUnscheduleMaintenance)+Number(null!==(i=s.asarcoMachineryUnscheduleMaintenance)&&void 0!==i?i:0),asarcoMachineryScheduleMaintenance:Number(e.asarcoMachineryScheduleMaintenance)+Number(null!==(t=s.asarcoMachineryScheduleMaintenance)&&void 0!==t?t:0),asarcoMachineryUnscheduleDelay:Number(e.asarcoMachineryUnscheduleDelay)+Number(null!==(a=s.asarcoMachineryUnscheduleDelay)&&void 0!==a?a:0),asarcoMachineryReserves:Number(e.asarcoMachineryReserves)+Number(null!==(c=s.asarcoMachineryReserves)&&void 0!==c?c:0),asarcoMachineryHorometer:Number(e.asarcoMachineryHorometer)+Number(null!==(n=s.asarcoMachineryHorometer)&&void 0!==n?n:0),asarcoMachineryOpperationalLoss:Number(e.asarcoMachineryOpperationalLoss)+Number(null!==(o=s.asarcoMachineryOpperationalLoss)&&void 0!==o?o:0),asarcoMachineryScheduleDelay:Number(e.asarcoMachineryScheduleDelay)+Number(null!==(l=s.asarcoMachineryScheduleDelay)&&void 0!==l?l:0)}}q(e)}),[I]);return(0,t.useEffect)((()=>{R([["Task","Hours per Day"],["Tiempo Efectivo (Hrs)",D.asarcoMachineryEffectiveTime],["Mantenci\xf3n Programada (Hrs)",D.asarcoMachineryScheduleMaintenance],["Demora Programada (Hrs)",D.asarcoMachineryScheduleDelay],["Perdida Operacional (Hrs)",D.asarcoMachineryOpperationalLoss],["Mantenci\xf3n No Programada (Hrs)",D.asarcoMachineryUnscheduleMaintenance],["Demora No Programada (Hrs)",D.asarcoMachineryUnscheduleDelay],["Reservas (Hrs)",D.asarcoMachineryReserves]])}),[D]),(0,t.useEffect)((()=>{(0,f.$E)(g.current,{cacheBust:!1}).then((e=>{"data:,"!==e&&T(e)})).catch((e=>{}))}),[L]),(0,t.useEffect)((()=>{i||B({name:"asarcoChart",value:w})}),[w]),(0,N.jsxs)("div",{className:"work-force-report",children:[!i&&(0,N.jsxs)(N.Fragment,{children:[$&&(0,N.jsx)(a.J,{autohide:!0,visible:$,color:"danger",onClose:()=>{E(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(c.B,{children:"Debe seleccionar la m\xe1quina y su patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Maquinaria",id:"machinery",value:null!==(e=W.machinery)&&void 0!==e?e:0,onChange:e=>{V(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),F.machinery.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),H&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"machineryPlate",value:null!==(r=W.machineryPlate)&&void 0!==r?r:0,onChange:e=>{V(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),H.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryEffectiveTime",value:W.asarcoMachineryEffectiveTime||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleMaintenance",value:W.asarcoMachineryUnscheduleMaintenance||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleMaintenance",value:W.asarcoMachineryScheduleMaintenance||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleDelay",value:W.asarcoMachineryUnscheduleDelay||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryReserves",value:W.asarcoMachineryReserves||"",text:"",onChange:e=>{V(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryHorometer",value:W.asarcoMachineryHorometer||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryOpperationalLoss",value:W.asarcoMachineryOpperationalLoss||"",text:"",onChange:e=>{V(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleDelay",value:W.asarcoMachineryScheduleDelay||"",text:"",onChange:e=>{V(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(W.machinery&&W.machineryPlate){P();const e={id:(0,p.A)(),machinery:W.machinery,asarcoMachineryEffectiveTime:W.asarcoMachineryEffectiveTime,asarcoMachineryUnscheduleMaintenance:W.asarcoMachineryUnscheduleMaintenance,asarcoMachineryScheduleMaintenance:W.asarcoMachineryScheduleMaintenance,asarcoMachineryUnscheduleDelay:W.asarcoMachineryUnscheduleDelay,asarcoMachineryReserves:W.asarcoMachineryReserves,asarcoMachineryHorometer:W.asarcoMachineryHorometer,asarcoMachineryOpperationalLoss:W.asarcoMachineryOpperationalLoss,asarcoMachineryScheduleDelay:W.asarcoMachineryScheduleDelay,machineryPlate:W.machineryPlate};A(C),M([...O,e])}else E(!0)})()},children:"Registrar"})]}),I.length>0&&I[0].machinery&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Maquinaria"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]})}),(0,N.jsxs)(u.C,{children:[I.map(((e,r)=>{const t=F.machinery.find((r=>r.id==e.machinery)),a=t.plate.find((r=>r.id.toString()===e.machineryPlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:t.name}),(0,N.jsx)(h.c,{children:a.label}),(0,N.jsx)(h.c,{children:e.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:e.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:e.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:e.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleDelay}),(0,N.jsx)(h.c,{children:!i&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=O.filter((r=>r.id!==e));M(r),Q(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{}),(0,N.jsx)(h.c,{children:D.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:D.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:D.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:D.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:D.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:D.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:D.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:D.asarcoMachineryScheduleDelay})]},"total")]})]}),(0,N.jsx)("div",{ref:g,children:(0,N.jsx)(k.t1,{chartType:"PieChart",data:L,width:"100%",height:"300px"})})]})}},17564:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(65043),a=i(64231),c=i(54451),n=i(73216),o=i(70579);const l=()=>{const e=(0,n.zy)().pathname.includes("/view"),[r,i]=(0,t.useState)({comment:""}),{storeComment:l,comment:s}=(0,c.A)();return(0,t.useEffect)((()=>{e||l(r)}),[r]),(0,o.jsx)("div",{className:"work-force-report",children:(0,o.jsx)(a.I,{id:"comment",label:"Comentarios y alertas en genenral",disabled:e,value:e?s.comment:r.comment,onChange:e=>{(e=>{i({...r,[e.target.id]:e.target.value})})(e)},rows:3,text:""})})}},25762:(e,r,i)=>{i.d(r,{A:()=>x});i(65043);var t=i(81917),a=i(44101),c=i(44227),n=i(10825),o=i(97397),l=i(54451),s=i(84998),d=i(35761),u=i(73216),h=i(49634),m=i(70579);const x=()=>{const e=(0,u.zy)().pathname.includes("/view"),{storeCompanyData:r,company:i}=(0,l.A)(),{registerData:x}=(0,s.A)(),{getProject:j,getContract:p}=(0,d.A)(),v=(JSON.parse(j()),JSON.parse(p())),{getData:b}=(0,h.A)(),y=b("basics"),k=e=>{r(e)};return(0,m.jsx)("div",{className:"company-report",children:(0,m.jsxs)(t.q,{children:[(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"date",id:"dailyReportDate",label:"Fecha",value:i.dailyReportDate||"",disabled:e,placeholder:"Fecha",text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportNumber",label:"Informe diario N\xb0",placeholder:"Informe diario N\xb0",text:"",disabled:e,value:i.dailyReportNumber||"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContratistName",label:"Nombre de contratista",placeholder:"Detalle",value:i.dailyReportContratistName||"",text:"",disabled:e,onChange:e=>{k(e)}})})]}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContratistNumber",label:"N\xb0 de contrato",placeholder:"N\xb0 de contrato",disabled:!0,value:i.dailyReportContratistNumber||v.code,text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContractName",label:"Nombre de contrato",placeholder:"Nombre de contrato",value:i.dailyReportContractName||v.name,disabled:!0,text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContractManagerName",label:"Administrador de contrato",placeholder:"Administrador de contrato",value:i.dailyReportContractManagerName||"",text:"",disabled:e,onChange:e=>{k(e)}})})]}),(0,m.jsx)(a.s,{children:(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Clima",id:"dailyReportWeather",value:i.dailyReportWeather||"0",label:"Clima",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.weather.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Turno (Personal directo)",id:"dailyReportDirectPersonalShift",label:"Turno (Personal directo)",value:i.dailyReportDirectPersonalShift||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.direct_staff_shift.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportDirectPersonalHours",label:"Horas turno (Personal directo)",placeholder:"Horas turno (Personal directo)",value:i.dailyReportDirectPersonalHours||"",text:"",disabled:e,onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Jornada (Personal directo)",id:"dailyReportDirectPersonalJourney",label:"Jornada (Personal directo)",value:i.dailyReportDirectPersonalJourney||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.shifts.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Turno (Personal indirecto)",id:"dailyReportIndirectPersonalShift",label:"Turno (Personal indirecto)",value:i.dailyReportIndirectPersonalShift||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.indirect_staff_shift.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportIndirectPersonalHours",label:"Horas turno (Personal indirecto)",placeholder:"Horas turno (Personal indirecto)",value:i.dailyReportIndirectPersonalHours||"",text:"",disabled:e,onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Jornada (Personal indirecto)",id:"dailyReportIndirectPersonalJourney",label:"Jornada (Personal indirecto)",value:i.dailyReportIndirectPersonalJourney||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.shifts.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]})]})})}},34974:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),p=i(54451),v=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname.includes("/view"),r={directWorkFront:void 0,directDotationWorkForceObservation:void 0,directSubWorkFront:void 0,directWorkFrontCharge:void 0,directWorkFrontQuantity:void 0,directDotationWorkForceObservation:void 0},{getData:i}=(0,y.A)(),N=i("basics"),[g,C]=(0,t.useState)(r),[S,F]=(0,t.useState)([]),[W,A]=(0,t.useState)(!1),[O,M]=(0,t.useState)(!1),{storeDirectDotationWorkForceData:D,removeDirectDotationWorkForce:q,directDotationWorkForceList:H}=(0,p.A)(),P=e=>{if(M(!1),"directWorkFront"===e.target.id){const r=N.workFront.find((r=>r.id.toString()===e.target.value.toString()));A(r.hasSubFront)}"directSubWorkFront"===e.target.id||"directWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...g,[e.target.id]:e.target.value}):C({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||D(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[O&&(0,f.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, cargo y cantidad para registrar el personal"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFront",label:"Frente de trabajo",value:g.directWorkFront||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),N.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),W&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directSubWorkFront",label:"SubFrente de trabajo",value:g.directSubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFrontCharge",value:g.directWorkFrontCharge||"",label:"Cargo",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),N.directPersonal.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directWorkFrontQuantity",label:"Cantidad",value:g.directWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"directDotationWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:g.directDotationWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.directWorkFront&&g.directWorkFrontCharge&&g.directWorkFrontQuantity){A(!1);const e={id:(0,v.A)(),directDotationWorkForceObservation:g.directDotationWorkForceObservation,directWorkFront:g.directWorkFront,directSubWorkFront:g.directSubWorkFront,directWorkFrontCharge:g.directWorkFrontCharge,directWorkFrontQuantity:g.directWorkFrontQuantity};C(r),F([...S,e])}else M(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].id&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Personal"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:H.map(((r,i)=>{var t;const a=N.workFront.find((e=>e.id==r.directWorkFront)),c=N.directPersonal.find((e=>e.id==r.directWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:a.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(t=r.directSubWorkFront)&&void 0!==t?t:"N/A"},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.directWorkFrontQuantity},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.directDotationWorkForceObservation},r.id)}),(0,f.jsx)(j.c,{children:!e&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));F(r),q(e)})(r.id)},children:"eliminar"})})]},r.id)}))})]})})]})}},43357:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(18767),f=i(55316),N=i(70579);const g=()=>{const e=(0,y.zy)().pathname.includes("/view"),r=(0,t.useRef)(null),i={directWorkForce:void 0,directWorkForceOfferedNumber:void 0,directWorkForceContractedNumber:void 0,directWorkForceCertifiedNumber:void 0,directWorkForceBreakNumber:void 0,directWorkForceWorkNumber:void 0,directWorkForceHHNumber:void 0},{getData:g}=(0,b.A)(),C=g("basics"),[S,F]=(0,t.useState)(i),[W,A]=(0,t.useState)([]),[O,M]=(0,t.useState)(!1),[D,q]=(0,t.useState)(0),[H,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(),[w,T]=(0,t.useState)([["Dotaci\xf3n","Dotaci\xf3n",{role:"style"}],["Dotaci\xf3n Planeada Directos Total",0,"#b87333"],["Dotaci\xf3n Directos Obra Total",0,"silver"]]),{storeDirectWorkForce:L,removeDirectWorkForce:R,directWorkForceList:Y,storeGraphs:Q}=(0,j.A)(),I=e=>{M(!1),"directWorkForce"===e.target.id&&(F(i),F({[e.target.id]:e.target.value})),(0,v.t)(e.target.value)&&F({...S,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{e||L(W)}),[W]),(0,t.useEffect)((()=>{let e=0,r=0;Y.map((i=>{e+=Number(i.offeredNumber),r+=Number(i.workNumber)})),q(e),P(r)}),[Y]);return(0,t.useEffect)((()=>{T([["Dotaci\xf3n","Dotaci\xf3n",{role:"style"}],["Dotaci\xf3n Planeada Directos Total",D,"#b87333"],["Dotaci\xf3n Directos Obra Total",H,"silver"]])}),[D,H]),(0,t.useEffect)((()=>{(0,f.$E)(r.current,{cacheBust:!1}).then((e=>{"data:,"!==e&&E(e)})).catch((e=>{}))}),[w]),(0,t.useEffect)((()=>{e||Q({name:"dotationChart",value:$})}),[$]),(0,N.jsxs)("div",{className:"work-force-report",children:[!e&&(0,N.jsxs)(N.Fragment,{children:[O&&(0,N.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(c.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkForce",value:S.directWorkForce||"",label:"Cargo",onChange:e=>{I(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),C.directPersonal.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceOfferedNumber",placeholder:"N\xb0 Ofertado",value:S.directWorkForceOfferedNumber||"",onChange:e=>{I(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceContractedNumber",placeholder:"N\xb0 Contratados",value:S.directWorkForceContractedNumber||"",onChange:e=>{I(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceCertifiedNumber",placeholder:"N\xb0 Acreditados",value:S.directWorkForceCertifiedNumber||"",onChange:e=>{I(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceBreakNumber",placeholder:"N\xb0 Descanso",value:S.directWorkForceBreakNumber||"",onChange:e=>{I(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceWorkNumber",placeholder:"N\xb0 Obra",value:S.directWorkForceWorkNumber||"",onChange:e=>{I(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceHHNumber",placeholder:"HH (Turno)",value:S.directWorkForceHHNumber||"",onChange:e=>{I(e)}})})]})]})]})]}),!e&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(S.directWorkForce){const e={id:(0,p.A)(),directWorkForce:S.directWorkForce,offeredNumber:S.directWorkForceOfferedNumber,contractedNumber:S.directWorkForceContractedNumber,certified:S.directWorkForceCertifiedNumber,breakNumber:S.directWorkForceBreakNumber,workNumber:S.directWorkForceWorkNumber,hh:S.directWorkForceHHNumber};F(i),A([...W,e])}else M(!0)})()},children:"Registrar"}),Y.length>0&&Y[0].directWorkForce&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,N.jsx)(d.$,{scope:"col"})]})}),(0,N.jsx)(u.C,{children:Y.map(((r,i)=>{const t=C.directPersonal.find((e=>e.id==r.directWorkForce));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:t.name}),(0,N.jsx)(h.c,{children:r.offeredNumber}),(0,N.jsx)(h.c,{children:r.contractedNumber}),(0,N.jsx)(h.c,{children:r.certified}),(0,N.jsx)(h.c,{children:r.breakNumber}),(0,N.jsx)(h.c,{children:r.workNumber}),(0,N.jsx)(h.c,{children:r.hh}),(0,N.jsx)(h.c,{children:!e&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=W.filter((r=>r.id!==e));A(r),R(e)})(r.id)},children:"eliminar"})})]},i)}))})]}),(0,N.jsx)("div",{ref:r,style:{width:"100%"},children:(0,N.jsx)(k.t1,{chartType:"ColumnChart",width:"100%",height:"400px",data:w})})]})}},54823:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i,f;const N=(0,y.zy)().pathname.includes("/view"),g={equipment:void 0,equipmentOfferedNumber:void 0,equipmentCertifiedNumber:void 0,equipmentWorkNumber:void 0},{getData:C}=(0,b.A)(),S=C("basics"),[F,W]=(0,t.useState)(g),[A,O]=(0,t.useState)([]),[M,D]=(0,t.useState)({equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0}),[q,H]=(0,t.useState)(!1),{storeEquipment:P,removeEquipment:$,equipmentList:E}=(0,j.A)(),w=e=>{H(!1),"equipment"===e.target.id&&(W(g),W({[e.target.id]:e.target.value})),(0,v.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{N||P(A)}),[A]),(0,t.useEffect)((()=>{let e={equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0};for(let a of E){var r,i,t;e={equipmentOfferedNumber:Number(e.equipmentOfferedNumber)+Number(null!==(r=a.actions.equipmentOfferedNumber)&&void 0!==r?r:0),equipmentCertifiedNumber:Number(e.equipmentCertifiedNumber)+Number(null!==(i=a.actions.equipmentCertifiedNumber)&&void 0!==i?i:0),equipmentWorkNumber:Number(e.equipmentWorkNumber)+Number(null!==(t=a.actions.equipmentWorkNumber)&&void 0!==t?t:0)}}D(e)}),[E]),(0,k.jsxs)("div",{className:"work-force-report",children:[!N&&(0,k.jsxs)(k.Fragment,{children:[" ",q&&(0,k.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{H(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=F.equipment)&&void 0!==e?e:0,onChange:e=>{w(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),S.equipment.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentOfferedNumber",value:F.equipmentOfferedNumber||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentCertifiedNumber",value:F.equipmentCertifiedNumber||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentWorkNumber",value:F.equipmentWorkNumber||"",text:"",onChange:e=>{w(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.equipment&&"0"!==F.equipment){const e={id:(0,p.A)(),equipment:F.equipment,actions:{equipmentOfferedNumber:F.equipmentOfferedNumber,equipmentCertifiedNumber:F.equipmentCertifiedNumber,equipmentWorkNumber:F.equipmentWorkNumber}};W(g),O([...A,e])}else H(!0)})()},children:"Registrar"})]}),E.length>0&&E[0].equipment&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[E.map(((e,r)=>{var i,t,a;const c=S.equipment.find((r=>r.id==e.equipment));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:c.name}),(0,k.jsx)(h.c,{children:null!==(i=e.actions.equipmentOfferedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.equipmentCertifiedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.equipmentWorkNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:!N&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=A.filter((r=>r.id!==e));O(r),$(e)})(e.id)},children:"eliminar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:null!==(r=M.equipmentOfferedNumber)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=M.equipmentCertifiedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(f=M.equipmentWorkNumber)&&void 0!==f?f:0})]},"total")]})]})]})}},44619:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/view"),f={equipment:void 0,equipmentEffectiveTime:void 0,equipmentCorrectiveMaintenance:void 0,equipmentPreventiveMaintenance:void 0,equipmentOutOfService:void 0,equipmentWaiting:void 0,equipmentNoOperator:void 0,equipmentInitialHorometer:void 0,equipmentFinalHorometer:void 0,equipmentPlate:void 0},{getData:N}=(0,b.A)(),g=N("basics"),[C,S]=(0,t.useState)(f),[F,W]=(0,t.useState)([]),[A,O]=(0,t.useState)(),[M,D]=(0,t.useState)(!1),{storeEquipmentPlate:q,removeEquipmentPlate:H,equipmentPlateList:P}=(0,j.A)(),$=e=>{if(D(!1),"equipment"===e.target.id)if(S(f),S({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=g.equipment.find((r=>r.id.toString()===e.target.value.toString()));O(r.plate)}else O();else"equipmentPlate"===e.target.id?"0"!==e.target.value?S({...C,[e.target.id]:e.target.value}):S({...C,[e.target.id]:"0"}):(0,v.t)(e.target.value)&&S({...C,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{i||q(F)}),[F]),(0,k.jsxs)("div",{className:"work-force-report",children:[!i&&(0,k.jsxs)(k.Fragment,{children:[M&&(0,k.jsx)(a.J,{autohide:!0,visible:M,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo y su patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=C.equipment)&&void 0!==e?e:0,onChange:e=>{$(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),g.equipment.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),A&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"equipmentPlate",value:null!==(r=C.equipmentPlate)&&void 0!==r?r:0,onChange:e=>{$(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),A.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentEffectiveTime",value:C.equipmentEffectiveTime||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentCorrectiveMaintenance",value:C.equipmentCorrectiveMaintenance||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentPreventiveMaintenance",value:C.equipmentPreventiveMaintenance||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentOutOfService",value:C.equipmentOutOfService||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentWaiting",value:C.equipmentWaiting||"",text:"",onChange:e=>{$(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentNoOperator",value:C.equipmentNoOperator||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentInitialHorometer",value:C.equipmentInitialHorometer||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentFinalHorometer",value:C.equipmentFinalHorometer||"",text:"",onChange:e=>{$(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.equipment&&"0"!==C.equipment&&C.equipmentPlate&&"0"!==C.equipmentPlate){O();const e={id:(0,p.A)(),equipment:C.equipment,equipmentEffectiveTime:C.equipmentEffectiveTime,equipmentCorrectiveMaintenance:C.equipmentCorrectiveMaintenance,equipmentPreventiveMaintenance:C.equipmentPreventiveMaintenance,equipmentOutOfService:C.equipmentOutOfService,equipmentWaiting:C.equipmentWaiting,equipmentNoOperator:C.equipmentNoOperator,equipmentInitialHorometer:C.equipmentInitialHorometer,equipmentFinalHorometer:C.equipmentFinalHorometer,equipmentPlate:C.equipmentPlate};S(f),W([...F,e])}else D(!0)})()},children:"Registrar"})]}),P.length>0&&P[0].equipment&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Equipo"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]})}),(0,k.jsx)(u.C,{children:P.map(((e,r)=>{const t=g.equipment.find((r=>r.id==e.equipment)),a=t.plate.find((r=>r.id.toString()===e.equipmentPlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:t.name}),(0,k.jsx)(h.c,{children:a.label}),(0,k.jsx)(h.c,{children:e.equipmentEffectiveTime}),(0,k.jsx)(h.c,{children:e.equipmentCorrectiveMaintenance}),(0,k.jsx)(h.c,{children:e.equipmentPreventiveMaintenance}),(0,k.jsx)(h.c,{children:e.equipmentOutOfService}),(0,k.jsx)(h.c,{children:e.equipmentWaiting}),(0,k.jsx)(h.c,{children:e.equipmentNoOperator}),(0,k.jsx)(h.c,{children:e.equipmentInitialHorometer}),(0,k.jsx)(h.c,{children:e.equipmentFinalHorometer}),(0,k.jsx)(h.c,{children:!i&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},42566:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),p=i(54451),v=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname.includes("/view"),r={equipmentWorkForce:void 0,equipmentWorkForceObservation:void 0,equipmentSubWorkFront:void 0,equipmentWorkFrontCharge:void 0,equipmentWorkFrontQuantity:void 0},{getData:i}=(0,y.A)(),N=i("basics"),[g,C]=(0,t.useState)(r),[S,F]=(0,t.useState)([]),[W,A]=(0,t.useState)(!1),[O,M]=(0,t.useState)(!1),{storeEquipmentWorkForce:D,removeEquipmentWorkForce:q,equipmentWorkForceList:H}=(0,p.A)(),P=e=>{if(M(!1),"equipmentWorkForce"===e.target.id){const r=N.workFront.find((r=>r.id.toString()===e.target.value.toString()));A(r.hasSubFront)}"equipmentSubWorkFront"===e.target.id||"equipmentWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...g,[e.target.id]:e.target.value}):C({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||D(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[" ",O&&(0,f.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, equipo y cantidad para registrar el equipo"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"equipmentWorkForce",value:g.equipmentWorkForce||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),N.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),W&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentSubWorkFront",label:"SubFrente de trabajo",value:g.equipmentSubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"equipmentWorkFrontCharge",value:g.equipmentWorkFrontCharge||"",label:"Equipo",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),N.equipment.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentWorkFrontQuantity",label:"Cantidad",value:g.equipmentWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"equipmentWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:g.equipmentWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.equipmentWorkForce&&g.equipmentWorkFrontCharge&&g.equipmentWorkFrontQuantity){A(!1);const e={id:(0,v.A)(),equipmentWorkForce:g.equipmentWorkForce,equipmentWorkForceObservation:g.equipmentWorkForceObservation,equipmentSubWorkFront:g.equipmentSubWorkFront,equipmentWorkFrontCharge:g.equipmentWorkFrontCharge,equipmentWorkFrontQuantity:g.equipmentWorkFrontQuantity};C(r),F([...S,e])}else M(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].equipmentWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Equipo"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:H.map(((r,i)=>{var t;const a=N.workFront.find((e=>e.id==r.equipmentWorkForce)),c=N.equipment.find((e=>e.id==r.equipmentWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:a.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(t=r.equipmentSubWorkFront)&&void 0!==t?t:"N/A"},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.equipmentWorkFrontQuantity},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.equipmentWorkForceObservation},r.id)}),(0,f.jsx)(j.c,{children:!e&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));F(r),q(e)})(r.id)},children:"eliminar"})})]},r.id)}))})]})})})]})}},87921:(e,r,i)=>{i(65043),i(33906),i(54451),i(55316),i(70579)},90761:(e,r,i)=>{i.d(r,{A:()=>b});var t=i(65043),a=i(56351),c=i(77955),n=i(64231),o=i(84709),l=i(9580),s=i(4303),d=i(67861),u=i(96528),h=i(92845),m=i(2657),x=i(54451),j=i(92073),p=i(73216),v=i(70579);const b=()=>{var e,r,i,b;const y=(0,p.zy)().pathname.includes("/view"),k={incident:"",nonConformity:""},[f,N]=(0,t.useState)(k),[g,C]=(0,t.useState)([]),[S,F]=(0,t.useState)(!1),{storeIncident:W,removeIncident:A,incident:O}=(0,x.A)(),M=e=>{switch(F(!1),e.target.id){case"incident":e.target.value.length<=200&&N({...f,incident:e.target.value});break;case"nonConformity":e.target.value.length<=200&&N({...f,nonConformity:e.target.value})}};return(0,t.useEffect)((()=>{y||W(g)}),[g]),(0,v.jsxs)("div",{className:"work-force-report",children:[!y&&(0,v.jsxs)(v.Fragment,{children:[" ",S&&(0,v.jsx)(a.J,{autohide:!0,visible:S,color:"danger",onClose:()=>{F(!1)},className:"text-white align-items-center",children:(0,v.jsx)("div",{className:"d-flex",children:(0,v.jsx)(c.B,{children:"Debe ingresar un incidente o una no conformidad para generar el registro"})})}),(0,v.jsx)(n.I,{id:"incident",label:"Incidentes lesiones y eventos",rows:3,value:f.incident,text:"".concat(null!==(e=null===f||void 0===f||null===(r=f.incident)||void 0===r?void 0:r.length)&&void 0!==e?e:0," de ").concat(200," caracteres"),onChange:e=>{M(e)}}),(0,v.jsx)(n.I,{id:"nonConformity",label:"No conformidades o interferencias",rows:3,text:"".concat(null!==(i=null===f||void 0===f||null===(b=f.nonConformity)||void 0===b?void 0:b.length)&&void 0!==i?i:0," de ").concat(200," caracteres"),value:f.nonConformity,onChange:e=>{M(e)}}),(0,v.jsx)("br",{}),(0,v.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(()=>{const e={id:(0,j.A)(),incident:f.incident,nonConformity:f.nonConformity};N(k),C([...g,e])})()},children:"Registrar"})]}),O.length>0&&O[0].id&&(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(l._,{className:"resume-table",children:[(0,v.jsx)(s.w,{children:(0,v.jsxs)(d.Y,{children:[(0,v.jsx)(u.$,{scope:"col",children:"Incidente, lesi\xf3n y evento"}),(0,v.jsx)(u.$,{scope:"col",children:"No conformidad o interferencia"})]})}),(0,v.jsx)(h.C,{children:O.map(((e,r)=>(0,v.jsxs)(d.Y,{children:[(0,v.jsx)(m.c,{children:e.incident}),(0,v.jsx)(m.c,{children:e.nonConformity}),(0,v.jsx)(m.c,{children:!y&&(0,v.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=g.filter((r=>r.id!==e));N(r),A(e)})(e.id)},children:"eliminar"})})]},r)))})]})})]})}},8270:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{const e=(0,y.zy)().pathname.includes("/view"),r={indirectWorkForce:void 0,indirectWorkForceOfferedNumber:void 0,indirectWorkForceContractedNumber:void 0,indirectWorkForceCertifiedNumber:void 0,indirectWorkForceBreakNumber:void 0,indirectWorkForceWorkNumber:void 0,indirectWorkForceHHNumber:void 0},{getData:i}=(0,b.A)(),f=i("basics"),[N,g]=(0,t.useState)(r),[C,S]=(0,t.useState)([]),[F,W]=(0,t.useState)(!1),{storeIndirectWorkForceData:A,removeIndirectWorkForce:O,indirectWorkForceList:M}=(0,j.A)(),D=e=>{W(!1),"indirectWorkForce"===e.target.id&&(g(r),g({[e.target.id]:e.target.value})),(0,v.t)(e.target.value)&&g({...N,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{e||A(C)}),[C]);return(0,k.jsxs)("div",{className:"work-force-report",children:[!e&&(0,k.jsxs)(k.Fragment,{children:[F&&(0,k.jsx)(a.J,{autohide:!0,visible:F,color:"danger",onClose:()=>{W(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"indirectWorkForce",label:"Cargo",value:N.indirectWorkForce||"",onChange:e=>{D(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),f.indirectPersonal.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorOfferedNumber",placeholder:"N\xb0 Ofertado",value:N.contractAdministratorOfferedNumber||"",text:"",onChange:e=>{D(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorContractedNumber",placeholder:"N\xb0 Contratados",value:N.contractAdministratorContractedNumber||"",text:"",onChange:e=>{D(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorCertified",placeholder:"Acreditados",value:N.contractAdministratorCertified||"",text:"",onChange:e=>{D(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,k.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorBreakNumber",placeholder:"N\xb0 Descanso",value:N.contractAdministratorBreakNumber||"",text:"",onChange:e=>{D(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorWorkNumber",placeholder:"N\xb0 Obra",value:N.contractAdministratorWorkNumber||"",text:"",onChange:e=>{D(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorHHNumber",placeholder:"HH (Turno)",value:N.contractAdministratorHHNumber||"",text:"",onChange:e=>{D(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(N.indirectWorkForce){const e={id:(0,p.A)(),indirectWorkForce:N.indirectWorkForce,offeredNumber:N.contractAdministratorOfferedNumber,contractedNumber:N.contractAdministratorContractedNumber,certified:N.contractAdministratorCertified,breakNumber:N.contractAdministratorBreakNumber,workNumber:N.contractAdministratorWorkNumber,hh:N.contractAdministratorHHNumber};g(r),S([...C,e])}else W(!0)})()},children:"Registrar"})]}),M.length>0&&M[0].indirectWorkForce&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,k.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,k.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,k.jsx)(d.$,{scope:"col"})]})}),(0,k.jsx)(u.C,{children:M.map(((r,i)=>{const t=f.indirectPersonal.find((e=>e.id==r.indirectWorkForce));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:t.name}),(0,k.jsx)(h.c,{children:r.offeredNumber}),(0,k.jsx)(h.c,{children:r.contractedNumber}),(0,k.jsx)(h.c,{children:r.certified}),(0,k.jsx)(h.c,{children:r.breakNumber}),(0,k.jsx)(h.c,{children:r.workNumber}),(0,k.jsx)(h.c,{children:r.hh}),(0,k.jsx)(h.c,{children:!e&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=C.filter((r=>r.id!==e));S(r),O(e)})(r.id)},children:"eliminar"})})]},i)}))})]})]})}},81925:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i,f,N,g;const C=(0,y.zy)().pathname.includes("/view"),S={aljibe:void 0,aljibeCachimbaName:void 0,aljibeQuantityTurns:void 0,aljibeM3:void 0,aljibePlate:void 0,aljibeOfferedNumber:void 0,aljibeCertifiedNumber:void 0,aljibeWorkNumber:void 0},{getData:F}=(0,b.A)(),W=F("basics"),[A,O]=(0,t.useState)(S),[M,D]=(0,t.useState)([]),[q,H]=(0,t.useState)({aljibeCachimbaName:0,aljibeQuantityTurns:0,aljibeM3:0,aljibePlate:0,aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeWorkNumber:0}),[P,$]=(0,t.useState)(),[E,w]=(0,t.useState)(!1),{storealjibe:T,removealjibe:L,aljibeList:R}=(0,j.A)(),Y=e=>{if(w(!1),"aljibe"===e.target.id)if(O(S),O({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=W.aljibe.find((r=>r.id.toString()===e.target.value.toString()));$(r.plate)}else $();else"aljibePlate"===e.target.id?"0"!==e.target.value?O({...A,[e.target.id]:e.target.value}):O({...A,[e.target.id]:"0"}):("aljibeCachimbaName"===e.target.id&&O({...A,aljibeCachimbaName:e.target.value}),(0,v.t)(e.target.value)&&O({...A,[e.target.id]:e.target.value}))};return(0,t.useEffect)((()=>{C||T(M)}),[M]),(0,t.useEffect)((()=>{let e={aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeM3:0,aljibeWorkNumber:0,aljibeQuantityTurns:0};for(let n of R){var r,i,t,a,c;e={aljibeOfferedNumber:Number(e.aljibeOfferedNumber)+Number(null!==(r=n.aljibeOfferedNumber)&&void 0!==r?r:0),aljibeCertifiedNumber:Number(e.aljibeCertifiedNumber)+Number(null!==(i=n.aljibeCertifiedNumber)&&void 0!==i?i:0),aljibeM3:Number(e.aljibeM3)+Number(null!==(t=n.aljibeM3)&&void 0!==t?t:0),aljibeWorkNumber:Number(e.aljibeWorkNumber)+Number(null!==(a=n.aljibeWorkNumber)&&void 0!==a?a:0),aljibeQuantityTurns:Number(e.aljibeQuantityTurns)+Number(null!==(c=n.aljibeQuantityTurns)&&void 0!==c?c:0)}}H(e)}),[R]),(0,k.jsxs)("div",{className:"work-force-report",children:[!C&&(0,k.jsxs)(k.Fragment,{children:[" ",E&&(0,k.jsx)(a.J,{autohide:!0,visible:E,color:"danger",onClose:()=>{w(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el aljibe y su patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Aljibe",id:"aljibe",value:A.aljibe||"",onChange:e=>{Y(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),W.aljibe.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),P&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"aljibePlate",value:null!==(e=A.aljibePlate)&&void 0!==e?e:0,onChange:e=>{Y(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),P.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeOfferedNumber",value:A.aljibeOfferedNumber||"",text:"",onChange:e=>{Y(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeCertifiedNumber",value:A.aljibeCertifiedNumber||"",text:"",onChange:e=>{Y(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeWorkNumber",value:A.aljibeWorkNumber||"",text:"",onChange:e=>{Y(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de m3"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeCachimbaName",value:A.aljibeCachimbaName||"",text:"",onChange:e=>{Y(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeQuantityTurns",value:A.aljibeQuantityTurns||"",text:"",onChange:e=>{Y(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeM3",value:A.aljibeM3||"",text:"",onChange:e=>{Y(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(A.aljibe&&"0"!==A.aljibe&&A.aljibePlate&&"0"!==A.aljibePlate){$();const e={id:(0,p.A)(),aljibe:A.aljibe,aljibeCachimbaName:A.aljibeCachimbaName,aljibeQuantityTurns:A.aljibeQuantityTurns,aljibeM3:A.aljibeM3,aljibePlate:A.aljibePlate,aljibeOfferedNumber:A.aljibeOfferedNumber,aljibeCertifiedNumber:A.aljibeCertifiedNumber,aljibeWorkNumber:A.aljibeWorkNumber};O(S),D([...M,e])}else w(!0)})()},children:"Registrar"})]}),R.length>0&&R[0].aljibe&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Aljibe"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de m3"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[R.map(((e,r)=>{var i,t,a,c,n,o,l,d;const u=W.aljibe.find((r=>r.id==e.aljibe)),m=u.plate.find((r=>r.id.toString()===e.aljibePlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:null!==(i=u.name)&&void 0!==i?i:""}),(0,k.jsx)(h.c,{children:null!==(t=m.label)&&void 0!==t?t:""}),(0,k.jsx)(h.c,{children:null!==(a=e.aljibeCachimbaName)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:null!==(c=e.aljibeQuantityTurns)&&void 0!==c?c:0}),(0,k.jsx)(h.c,{children:null!==(n=e.aljibeM3)&&void 0!==n?n:0}),(0,k.jsx)(h.c,{children:null!==(o=e.aljibeOfferedNumber)&&void 0!==o?o:0}),(0,k.jsx)(h.c,{children:null!==(l=e.aljibeCertifiedNumber)&&void 0!==l?l:0}),(0,k.jsx)(h.c,{children:null!==(d=e.aljibeWorkNumber)&&void 0!==d?d:0}),(0,k.jsx)(h.c,{children:!C&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=M.filter((r=>r.id!==e));D(r),L(e)})(e.id)},children:"eliminar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{}),(0,k.jsx)(h.c,{}),(0,k.jsx)(h.c,{children:null!==(r=q.aljibeQuantityTurns)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=q.aljibeM3)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(f=q.aljibeOfferedNumber)&&void 0!==f?f:0}),(0,k.jsx)(h.c,{children:null!==(N=q.aljibeCertifiedNumber)&&void 0!==N?N:0}),(0,k.jsx)(h.c,{children:null!==(g=q.aljibeWorkNumber)&&void 0!==g?g:0})]},"total")]})]})]})}},31486:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),p=i(54451),v=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname.includes("/view"),r={machineryWorkForce:void 0,machineryWorkForceObservation:void 0,machinerySubWorkFront:void 0,machineryWorkFrontCharge:void 0,machineryWorkFrontQuantity:void 0},{getData:i}=(0,y.A)(),N=i("basics"),[g,C]=(0,t.useState)(r),[S,F]=(0,t.useState)([]),[W,A]=(0,t.useState)(!1),[O,M]=(0,t.useState)(!1),{storeMachineryWorkForce:D,removeMachineryWorkForce:q,machineryWorkForceList:H}=(0,p.A)(),P=e=>{if(M(!1),"machineryWorkForce"===e.target.id){const r=N.workFront.find((r=>r.id.toString()===e.target.value.toString()));A(r.hasSubFront)}"machinerySubWorkFront"===e.target.id||"machineryWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...g,[e.target.id]:e.target.value}):C({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||D(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[" ",O&&(0,f.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, maquinaria y cantidad para registrar la maquinaria."})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"machineryWorkForce",value:g.machineryWorkForce||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),N.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),W&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machinerySubWorkFront",label:"SubFrente de trabajo",value:g.machinerySubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"machineryWorkFrontCharge",value:g.machineryWorkFrontCharge||"",label:"Maquinaria",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),N.machinery.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machineryWorkFrontQuantity",label:"Cantidad",value:g.machineryWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"machineryWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:g.machineryWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.machineryWorkForce&&g.machineryWorkFrontCharge&&g.machineryWorkFrontQuantity){A(!1);const e={id:(0,v.A)(),machineryWorkForceObservation:g.machineryWorkForceObservation,machineryWorkForce:g.machineryWorkForce,machinerySubWorkFront:g.machinerySubWorkFront,machineryWorkFrontCharge:g.machineryWorkFrontCharge,machineryWorkFrontQuantity:g.machineryWorkFrontQuantity};C(r),F([...S,e])}else M(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].machineryWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Maquinaria"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:H.map(((r,i)=>{var t;const a=N.workFront.find((e=>e.id==r.machineryWorkForce)),c=N.machinery.find((e=>e.id==r.machineryWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:a.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(t=r.machinerySubWorkFront)&&void 0!==t?t:"N/A"},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.machineryWorkFrontQuantity},r.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:r.machineryWorkForceObservation},r.id)}),(0,f.jsx)(j.c,{children:!e&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));F(r),q(e)})(r.id)},children:"eliminar"})})]},r.id)}))})]})})]})}},89756:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname.includes("/view"),i={machinery:void 0,machineryOfferedNumber:void 0,machineryCertifiedNumber:void 0,machineryWorkNumber:void 0},{getData:f}=(0,b.A)(),N=f("basics"),[g,C]=(0,t.useState)(i),[S,F]=(0,t.useState)([]),[W,A]=(0,t.useState)({machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0}),[O,M]=(0,t.useState)(!1),{storeMachinery:D,removeMachinery:q,machineryList:H}=(0,j.A)(),P=e=>{M(!1),"machinery"===e.target.id&&(C(i),C({[e.target.id]:e.target.value})),(0,v.t)(e.target.value)&&C({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{r||D(S)}),[S]),(0,t.useEffect)((()=>{let e={machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0};for(let a of H){var r,i,t;e={machineryOfferedNumber:Number(e.machineryOfferedNumber)+Number(null!==(r=a.actions.machineryOfferedNumber)&&void 0!==r?r:0),machineryCertifiedNumber:Number(e.machineryCertifiedNumber)+Number(null!==(i=a.actions.machineryCertifiedNumber)&&void 0!==i?i:0),machineryWorkNumber:Number(e.machineryWorkNumber)+Number(null!==(t=a.actions.machineryWorkNumber)&&void 0!==t?t:0)}}A(e)}),[H]),(0,k.jsxs)("div",{className:"work-force-report",children:[!r&&(0,k.jsxs)(k.Fragment,{children:[" ",O&&(0,k.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar la maquinaria para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"machinery",value:null!==(e=g.machinery)&&void 0!==e?e:0,label:"Maquinaria",onChange:e=>{P(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),N.machinery.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryOfferedNumber",value:g.machineryOfferedNumber||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryCertifiedNumber",value:g.machineryCertifiedNumber||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryWorkNumber",value:g.machineryWorkNumber||"",text:"",onChange:e=>{P(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.machinery){const e={id:(0,p.A)(),machinery:g.machinery,actions:{machineryOfferedNumber:g.machineryOfferedNumber,machineryCertifiedNumber:g.machineryCertifiedNumber,machineryWorkNumber:g.machineryWorkNumber}};C(i),F([...S,e])}else M(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].machinery&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,k.jsxs)(u.C,{children:[H.map(((e,i)=>{var t,a,c;const n=N.machinery.find((r=>r.id==e.machinery));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:n.name}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.machineryOfferedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.machineryCertifiedNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:null!==(c=e.actions.machineryWorkNumber)&&void 0!==c?c:0}),(0,k.jsx)(h.c,{children:!r&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));F(r),q(e)})(e.id)},children:"eliminar"})})]},i)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:W.machineryOfferedNumber}),(0,k.jsx)(h.c,{children:W.machineryCertifiedNumber}),(0,k.jsx)(h.c,{children:W.machineryWorkNumber})]},"total")]})]})]})}},56732:(e,r,i)=>{i.d(r,{A:()=>o});i(65043);var t=i(44101),a=i(44227),c=i(10825),n=(i(54451),i(70579));const o=()=>(0,n.jsx)("div",{className:"work-force-report",children:(0,n.jsx)("section",{children:Array.from({length:10},((e,r)=>(0,n.jsxs)(t.s,{children:[(0,n.jsx)(a.U,{children:(0,n.jsx)(c.O,{type:"text",id:"equipmentCorrectiveMaintenance",label:"Descripci\xf3n",text:""})}),(0,n.jsx)(a.U,{children:(0,n.jsx)(c.O,{type:"file",id:"inputGroupFile03","aria-describedby":"inputGroupFileAddon03",label:"Fotograf\xeda","aria-label":"Upload"})})]},r)))})})},31148:(e,r,i)=>{i.d(r,{A:()=>j});var t=i(65043),a=i(9580),c=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const j=()=>{const e=(0,m.zy)().pathname.includes("/view"),r={directSubtotalOfferedNumber:void 0,directSubtotalContractedNumber:void 0,directSubtotalCertifiedNumber:void 0,directSubtotalBreakNumber:void 0,directSubtotalWorkNumber:void 0,directSubtotalHHNumber:void 0,directPreviusAccumulated:void 0,directCurrentAccumulated:void 0},{storeTotalDirectWorkForce:i,directWorkForceList:j,totalDirectWorkForce:p}=(0,u.A)(),[v,b]=(0,t.useState)(r),[y,k]=(0,t.useState)(0),[f,N]=(0,t.useState)(0),[g,C]=(0,t.useState)(0),[S,F]=(0,t.useState)(0),[W,A]=(0,t.useState)(0),[O,M]=(0,t.useState)(0),[D,q]=(0,t.useState)(0),[H,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(0);return(0,t.useEffect)((()=>{b({...v,directCurrentAccumulated:H})}),[H]),(0,t.useEffect)((()=>{if(e)k(p.directSubstotalHHNumber),N(p.directSubtotalOfferedNumber),C(p.directSubtotalContractedNumber),F(p.directSubtotalCertifiedNumber),A(p.directSubtotalBreakNumber),M(p.directSubtotalWorkNumber),P(p.directCurrentAccumulated),q(p.directPreviusAccumulated);else{let e=0,r=0,i=0,t=0,a=0,c=0,n=0;for(let l of j)n++,E(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),a+=Number(l.breakNumber),c+=Number(l.workNumber);k(e),N(r),C(i),F(t),A(a),M(c),P(Number(v.directPreviusAccumulated)+Number(e));const o={directSubtotalOfferedNumber:r,directSubtotalContractedNumber:i,directSubtotalCertifiedNumber:t,directSubtotalBreakNumber:a,directSubtotalWorkNumber:c,directSubstotalHHNumber:e,directPreviusAccumulated:v.directPreviusAccumulated||0,directCurrentAccumulated:Number(v.directPreviusAccumulated)+Number(e)};b(o)}}),[j]),(0,t.useEffect)((()=>{!e&&$>0&&i(v)}),[v]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(a._,{children:[(0,x.jsx)(c.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal Directos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalOfferedNumber",value:f||"0",placeholder:"N\xb0 Ofertado",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalContractedNumber",placeholder:"N\xb0 Contratados",value:g||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalCertifiedNumber",placeholder:"Acreditados",value:S||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalBreakNumber",placeholder:"N\xb0 Descanso",value:W||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalWorkNumber",placeholder:"N\xb0 Obra",value:O||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalHHNumber",placeholder:"HH (Turno)",value:y||"0",text:"",disabled:!0})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directPreviusAccumulated",value:e?D:v.directPreviusAccumulated||"",disabled:e,placeholder:"Total",text:"",onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(b({...v,directPreviusAccumulated:e.target.value}),P(Number(e.target.value)+Number(y)))})(e)}})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directCurrentAccumulated",value:H||"0",placeholder:"Total",text:"",disabled:!0})})]})]})]})})}},56627:(e,r,i)=>{i.d(r,{A:()=>j});var t=i(65043),a=i(9580),c=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const j=()=>{const e=(0,m.zy)().pathname.includes("/view"),r={indirectSubtotalOfferedNumber:void 0,indirectSubtotalContractedNumber:void 0,indirectSubtotalCertifiedNumber:void 0,indirectSubtotalBreakNumber:void 0,indirectSubtotalWorkNumber:void 0,indirectSubtotalHHNumber:void 0,indirectPreviusAccumulated:void 0,indirectCurrentAccumulated:void 0},{storeTotalIndirectWorkForce:i,indirectWorkForceList:j,totalIndirectWorkForce:p}=(0,u.A)(),[v,b]=(0,t.useState)(r),[y,k]=(0,t.useState)(0),[f,N]=(0,t.useState)(0),[g,C]=(0,t.useState)(0),[S,F]=(0,t.useState)(0),[W,A]=(0,t.useState)(0),[O,M]=(0,t.useState)(0),[D,q]=(0,t.useState)(0),[H,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(0);return(0,t.useEffect)((()=>{b({...v,indirectCurrentAccumulated:H})}),[H]),(0,t.useEffect)((()=>{if(e)k(p.indirectSubstotalHHNumber),N(p.indirectSubtotalOfferedNumber),C(p.indirectSubtotalContractedNumber),F(p.indirectSubtotalCertifiedNumber),A(p.indirectSubtotalBreakNumber),M(p.indirectSubtotalWorkNumber),P(p.indirectCurrentAccumulated),q(p.indirectPreviusAccumulated);else{let e=0,r=0,i=0,t=0,a=0,c=0,n=0;for(let l of j)n++,E(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),a+=Number(l.breakNumber),c+=Number(l.workNumber);k(e),N(r),C(i),F(t),A(a),M(c),P(Number(v.indirectPreviusAccumulated)+Number(e));const o={indirectSubtotalOfferedNumber:r,indirectSubtotalContractedNumber:i,indirectSubtotalCertifiedNumber:t,indirectSubtotalBreakNumber:a,indirectSubtotalWorkNumber:c,indirectSubstotalHHNumber:e,indirectPreviusAccumulated:v.indirectPreviusAccumulated||0,indirectCurrentAccumulated:Number(v.indirectPreviusAccumulated)+Number(e)};b(o)}}),[j]),(0,t.useEffect)((()=>{!e&&$>0&&i(v)}),[v]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(a._,{children:[(0,x.jsx)(c.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal indirectos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalOfferedNumber",value:f||"0",disabled:!0,placeholder:"N\xb0 Ofertado",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalContractedNumber",value:g||"0",disabled:!0,placeholder:"N\xb0 Contratados",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalCertifiedNumber",value:S||"0",placeholder:"Acreditados",disabled:!0,text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalBreakNumber",value:W||"0",disabled:!0,placeholder:"N\xb0 Descanso",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalWorkNumber",value:O||"0",disabled:!0,placeholder:"N\xb0 Obra",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalHHNumber",value:y||"0",disabled:!0,placeholder:"HH (Turno)",text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectPreviusAccumulated",value:e?D:v.indirectPreviusAccumulated||"",disabled:e,onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(b({...v,indirectPreviusAccumulated:e.target.value}),P(Number(e.target.value)+Number(y)))})(e)},text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectCurrentAccumulated",value:H||"0",disabled:!0,placeholder:"Total",text:""})})]})]})]})})}},63171:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname.includes("/view"),i={vehicle:void 0,vehicleEffectiveTime:void 0,vehicleCorrectiveMaintenance:void 0,vehiclePreventiveMaintenance:void 0,vehicleOutOfService:void 0,vehicleWaiting:void 0,vehicleNoOperator:void 0,vehicleInitialHorometer:void 0,vehicleFinalHorometer:void 0,vehiclePlate:void 0},{getData:f}=(0,b.A)(),N=f("basics"),[g,C]=(0,t.useState)(i),[S,F]=(0,t.useState)([]),[W,A]=(0,t.useState)(),[O,M]=(0,t.useState)(!1),{storeVehiclePlate:D,removeVehiclePlate:q,vehiclePlateList:H}=(0,j.A)(),P=e=>{if(M(!1),"vehicle"===e.target.id)if(C(i),C({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=N.vehicles.find((r=>r.id.toString()===e.target.value.toString()));A(r.plate)}else A();else"vehiclePlate"===e.target.id?"0"!==e.target.value?C({...g,[e.target.id]:e.target.value}):C({...g,[e.target.id]:"0"}):(0,v.t)(e.target.value)&&C({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{r||D(S)}),[S]),(0,k.jsxs)("div",{className:"work-force-report",children:[!r&&(0,k.jsxs)(k.Fragment,{children:[O&&(0,k.jsx)(a.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo y la patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",value:g.vehicle||0,label:"Veh\xedculo",onChange:e=>{P(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),N.vehicles.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),W&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"vehiclePlate",value:null!==(e=g.vehiclePlate)&&void 0!==e?e:0,onChange:e=>{P(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),W.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleEffectiveTime",value:g.vehicleEffectiveTime||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleCorrectiveMaintenance",value:g.vehicleCorrectiveMaintenance||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehiclePreventiveMaintenance",value:g.vehiclePreventiveMaintenance||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleOutOfService",value:g.vehicleOutOfService||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleWaiting",value:g.vehicleWaiting||"",text:"",onChange:e=>{P(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleNoOperator",value:g.vehicleNoOperator||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleInitialHorometer",value:g.vehicleInitialHorometer||"",text:"",onChange:e=>{P(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleFinalHorometer",value:g.vehicleFinalHorometer||"",text:"",onChange:e=>{P(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.vehicle&&"0"!==g.vehicle&&g.vehiclePlate&&"0"!==g.vehiclePlate){A();const e={id:(0,p.A)(),vehicle:g.vehicle,vehicleEffectiveTime:g.vehicleEffectiveTime,vehicleCorrectiveMaintenance:g.vehicleCorrectiveMaintenance,vehiclePreventiveMaintenance:g.vehiclePreventiveMaintenance,vehicleOutOfService:g.vehicleOutOfService,vehicleWaiting:g.vehicleWaiting,vehicleNoOperator:g.vehicleNoOperator,vehicleInitialHorometer:g.vehicleInitialHorometer,vehicleFinalHorometer:g.vehicleFinalHorometer,vehiclePlate:g.vehiclePlate};C(i),F([...S,e])}else M(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].vehicle&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Veh\xedculo"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]})}),(0,k.jsx)(u.C,{children:H.map(((e,i)=>{var t,a,c,n,o,l,d,u;const m=N.vehicles.find((r=>r.id==e.vehicle)),j=m.plate.find((r=>r.id.toString()===e.vehiclePlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:m.name}),(0,k.jsx)(h.c,{children:j.label}),(0,k.jsx)(h.c,{children:null!==(t=e.vehicleEffectiveTime)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.vehicleCorrectiveMaintenance)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:null!==(c=e.vehiclePreventiveMaintenance)&&void 0!==c?c:0}),(0,k.jsx)(h.c,{children:null!==(n=e.vehicleOutOfService)&&void 0!==n?n:0}),(0,k.jsx)(h.c,{children:null!==(o=e.vehicleWaiting)&&void 0!==o?o:0}),(0,k.jsx)(h.c,{children:null!==(l=e.vehicleNoOperator)&&void 0!==l?l:0}),(0,k.jsx)(h.c,{children:null!==(d=e.vehicleInitialHorometer)&&void 0!==d?d:0}),(0,k.jsx)(h.c,{children:null!==(u=e.vehicleFinalHorometer)&&void 0!==u?u:0}),(0,k.jsx)(h.c,{children:!r&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));F(r),q(e)})(e.id)},children:"eliminar"})})]},i)}))})]})]})}},26460:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),p=i(92073),v=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i;const f=(0,y.zy)().pathname.includes("/view"),N={vehicle:void 0,vehicleOfferedNumber:void 0,vehicleCertifiedNumber:void 0,vehicleWorkNumber:void 0},{getData:g}=(0,b.A)(),C=g("basics"),[S,F]=(0,t.useState)(N),[W,A]=(0,t.useState)([]),[O,M]=(0,t.useState)({vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0}),[D,q]=(0,t.useState)(!1),{storeVehicle:H,removeVehicle:P,vehicleList:$}=(0,j.A)(),E=e=>{q(!1),"vehicle"===e.target.id&&(F(N),F({[e.target.id]:e.target.value})),(0,v.t)(e.target.value)&&F({...S,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{f||H(W)}),[W]),(0,t.useEffect)((()=>{let e={vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0};for(let a of $){var r,i,t;e={vehicleOfferedNumber:Number(e.vehicleOfferedNumber)+Number(null!==(r=a.actions.vehicleOfferedNumber)&&void 0!==r?r:0),vehicleCertifiedNumber:Number(e.vehicleCertifiedNumber)+Number(null!==(i=a.actions.vehicleCertifiedNumber)&&void 0!==i?i:0),vehicleWorkNumber:Number(e.vehicleWorkNumber)+Number(null!==(t=a.actions.vehicleWorkNumber)&&void 0!==t?t:0)}}M(e)}),[$]),(0,k.jsxs)("div",{className:"work-force-report",children:[!f&&(0,k.jsxs)(k.Fragment,{children:[D&&(0,k.jsx)(a.J,{autohide:!0,visible:D,color:"danger",onClose:()=>{q(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",label:"Veh\xedculo",value:S.vehicle||"",onChange:e=>{E(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),C.vehicles.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleOfferedNumber",value:S.vehicleOfferedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleCertifiedNumber",value:S.vehicleCertifiedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleWorkNumber",value:S.vehicleWorkNumber||"",text:"",onChange:e=>{E(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(S.vehicle&&"0"!==S.vehicle){const e={id:(0,p.A)(),vehicle:S.vehicle,actions:{vehicleOfferedNumber:S.vehicleOfferedNumber,vehicleCertifiedNumber:S.vehicleCertifiedNumber,vehicleWorkNumber:S.vehicleWorkNumber}};F(N),A([...W,e])}else q(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].vehicle&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[$.map(((e,r)=>{var i,t,a;const c=C.vehicles.find((r=>r.id==e.vehicle));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:c.name}),(0,k.jsx)(h.c,{children:null!==(i=e.actions.vehicleOfferedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.vehicleCertifiedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.vehicleWorkNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:!f&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=W.filter((r=>r.id!==e));A(r),P(e)})(e.id)},children:"eliminar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:null!==(e=O.vehicleOfferedNumber)&&void 0!==e?e:0}),(0,k.jsx)(h.c,{children:null!==(r=O.vehicleCertifiedNumber)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=O.vehicleWorkNumber)&&void 0!==i?i:0})]},"total")]})]})]})}},27304:(e,r,i)=>{i.d(r,{A:()=>o});i(65043);var t=i(93750),a=i.n(t);const c=JSON.parse('{"v":"5.5.9","fr":60,"ip":0,"op":107,"w":700,"h":700,"nm":"loading 19","ddd":1,"assets":[],"layers":[{"ddd":1,"ind":1,"ty":3,"nm":"Null 12","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.197],"y":[1]},"o":{"x":[0.82],"y":[0]},"t":0,"s":[0]},{"t":107,"s":[-360]}],"ix":9},"rz":{"a":1,"k":[{"i":{"x":[0.425],"y":[1]},"o":{"x":[0.478],"y":[0]},"t":0,"s":[0]},{"t":107,"s":[-90]}],"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[350,350,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":390,"st":0,"bm":0},{"ddd":1,"ind":2,"ty":4,"nm":"Shape Layer 9","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":50,"s":[0]},{"t":106,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-5,"op":440,"st":50,"bm":0},{"ddd":1,"ind":3,"ty":4,"nm":"Shape Layer 8","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":42,"s":[0]},{"t":98,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-13,"op":432,"st":42,"bm":0},{"ddd":1,"ind":4,"ty":4,"nm":"Shape Layer 7","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":36,"s":[0]},{"t":92,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-19,"op":426,"st":36,"bm":0},{"ddd":1,"ind":5,"ty":4,"nm":"Shape Layer 6","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":32,"s":[0]},{"t":88,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-13,"op":422,"st":32,"bm":0},{"ddd":1,"ind":6,"ty":4,"nm":"Shape Layer 5","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":24,"s":[0]},{"t":80,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[22,22,22],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-21,"op":414,"st":24,"bm":0},{"ddd":1,"ind":7,"ty":4,"nm":"Shape Layer 4","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[0]},{"t":74,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-27,"op":408,"st":18,"bm":0},{"ddd":1,"ind":8,"ty":4,"nm":"Shape Layer 3","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":14,"s":[0]},{"t":70,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-2,"op":404,"st":14,"bm":0},{"ddd":1,"ind":9,"ty":4,"nm":"Shape Layer 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":6,"s":[0]},{"t":62,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-10,"op":396,"st":6,"bm":0},{"ddd":1,"ind":10,"ty":4,"nm":"Shape Layer 1","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[0]},{"t":56,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-16,"op":390,"st":0,"bm":0}],"markers":[]}');var n=i(70579);const o=()=>(0,n.jsx)(a(),{animationData:c,loop:!0,width:20,className:"loading"})},84998:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(47097),a=i(65043),c=i(77154),n=i(28452),o=i(35761);const l=()=>{const{getProject:e,getContract:r}=(0,o.A)(),i=JSON.parse(e()),l=JSON.parse(r()),[s,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),{company:j,indirectWorkForceList:p,directWorkForceList:v,totalIndirectWorkForce:b,totalDirectWorkForce:y,directDotationWorkForceList:k,machineryWorkForceList:f,equipmentWorkForceList:N,vehicleWorkForceList:g,incident:C,comment:S,machineryList:F,equipmentList:W,vehicleList:A,activityList:O,asarcoMachineryList:M,equipmentPlateList:D,vehiclePlateList:q,aljibeList:H,clearContext:P,graphList:$}=(0,a.useContext)(n.D),{mutate:E}=(0,t.n)({mutationFn:async e=>c.A.post("https://pyg-production.up.railway.app/api/v1/reports",e),onSuccess:()=>{d(!1),x(!0),P()},onError:e=>{d(!1),x(!1),h("Recuerda rellenar todos los campos")}});let w=[],T={};for(let t of W)T={},T.equipment=t.equipment,T.actions=JSON.stringify(t.actions),w.push(T);let L=[],R={};for(let t of F)R={},R.machinery=t.machinery,R.actions=JSON.stringify(t.actions),L.push(R);let Y=[],Q={};for(let t of A)Q={},Q.vehicle=t.vehicle,Q.actions=JSON.stringify(t.actions),Y.push(Q);return{registerData:async()=>{d(!0),h(),x(!1);return E({projectId:i.id,contractId:l.id,company:j,indirectWorkForceList:p,totalIndirectWorkForce:b,directWorkForceList:v,totalDirectWorkForce:y,directDotationWorkForceList:k,machineryList:L,machineryWorkForceList:f,equipmentList:w,equipmentWorkForceList:N,vehicleList:Y,vehiclePlateList:q,activityList:O,comment:S,incident:C,asarcoMachineryList:M,equipmentPlateList:D,aljibeList:H,graphList:$})},loading:s,error:u,success:m,clearData:()=>{P()}}}},54451:(e,r,i)=>{i.d(r,{A:()=>c});var t=i(65043),a=i(28452);const c=()=>{const{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:c,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:j,indirectDotationWorkForceList:p,storeDirectDotationWorkForceData:v,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:k,machineryWorkForceList:f,storeMachineryWorkForce:N,removeMachineryWorkForce:g,storeEquipmentWorkForce:C,removeEquipmentWorkForce:S,equipmentWorkForceList:F,storeVehicleWorkForce:W,removeVehicleWorkForce:A,vehicleWorkForceList:O,storeComment:M,comment:D,storeIncident:q,incident:H,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:w,storeEquipment:T,removeEquipment:L,equipmentList:R,storeVehicle:Y,removeVehicle:Q,vehicleList:I,storeActivity:B,removeActivity:V,activityList:U,storeAsarcoMachinery:G,removeAsarcoMachinery:_,asarcoMachineryList:J,storeEquipmentPlate:z,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ae,clearContext:ce,storeGraphs:ne,graphList:oe}=(0,t.useContext)(a.D);return{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:c,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:j,indirectDotationWorkForceList:p,storeDirectDotationWorkForceData:v,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:k,machineryWorkForceList:f,storeMachineryWorkForce:N,removeMachineryWorkForce:g,storeEquipmentWorkForce:C,removeEquipmentWorkForce:S,equipmentWorkForceList:F,storeVehicleWorkForce:W,removeVehicleWorkForce:A,vehicleWorkForceList:O,storeComment:M,comment:D,storeIncident:q,incident:H,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:w,storeEquipment:T,removeEquipment:L,equipmentList:R,storeVehicle:Y,removeVehicle:Q,vehicleList:I,storeActivity:B,removeActivity:V,activityList:U,storeAsarcoMachinery:G,removeAsarcoMachinery:_,asarcoMachineryList:J,storeEquipmentPlate:z,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ae,clearContext:ce,storeGraphs:ne,graphList:oe}}},83866:(e,r,i)=>{i.d(r,{t:()=>t});const t=e=>e.match(/^[0-9]*\.?[0-9]*$/)}}]);
//# sourceMappingURL=315.eb667965.chunk.js.map