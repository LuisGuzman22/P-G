"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[535],{92535:(t,e,s)=>{s.d(e,{I:()=>lt});var i,n,r,a,h,o,l,u,c,d,A,p,f,v,b,w,y,R,g,k,O,C,S,m=s(39790),W=s(55149),M=s(61187),E=s(64137),U=s(53167),Q=s(99723),F=s(11454),P=s(3491),T=s(60329),D=s(49210),I=(i=new WeakMap,n=new WeakMap,r=new WeakMap,a=new WeakMap,h=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,A=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakSet,w=new WeakSet,y=new WeakSet,R=new WeakSet,g=new WeakSet,k=new WeakSet,O=new WeakSet,C=new WeakSet,S=new WeakSet,class extends T.Q{constructor(t,e){super(),(0,m.A)(this,S),(0,m.A)(this,C),(0,m.A)(this,O),(0,m.A)(this,k),(0,m.A)(this,g),(0,m.A)(this,R),(0,m.A)(this,y),(0,m.A)(this,w),(0,m.A)(this,b),(0,W.A)(this,i,{writable:!0,value:void 0}),(0,W.A)(this,n,{writable:!0,value:void 0}),(0,W.A)(this,r,{writable:!0,value:void 0}),(0,W.A)(this,a,{writable:!0,value:void 0}),(0,W.A)(this,h,{writable:!0,value:void 0}),(0,W.A)(this,o,{writable:!0,value:void 0}),(0,W.A)(this,l,{writable:!0,value:void 0}),(0,W.A)(this,u,{writable:!0,value:void 0}),(0,W.A)(this,c,{writable:!0,value:void 0}),(0,W.A)(this,d,{writable:!0,value:void 0}),(0,W.A)(this,A,{writable:!0,value:void 0}),(0,W.A)(this,p,{writable:!0,value:void 0}),(0,W.A)(this,f,{writable:!0,value:void 0}),(0,W.A)(this,v,{writable:!0,value:new Set}),this.options=e,(0,U.A)(this,i,t),(0,U.A)(this,l,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,E.A)(this,n).addObserver(this),H((0,E.A)(this,n),this.options)?(0,M.A)(this,b,L).call(this):this.updateResult(),(0,M.A)(this,g,x).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J((0,E.A)(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J((0,E.A)(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M.A)(this,k,B).call(this),(0,M.A)(this,O,G).call(this),(0,E.A)(this,n).removeObserver(this)}setOptions(t,e){const s=this.options,r=(0,E.A)(this,n);if(this.options=(0,E.A)(this,i).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");(0,M.A)(this,C,z).call(this),(0,E.A)(this,n).setOptions(this.options),s._defaulted&&!(0,Q.f8)(this.options,s)&&(0,E.A)(this,i).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,E.A)(this,n),observer:this});const a=this.hasListeners();a&&K((0,E.A)(this,n),r,this.options,s)&&(0,M.A)(this,b,L).call(this),this.updateResult(e),!a||(0,E.A)(this,n)===r&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||(0,M.A)(this,w,j).call(this);const h=(0,M.A)(this,y,_).call(this);!a||(0,E.A)(this,n)===r&&this.options.enabled===s.enabled&&h===(0,E.A)(this,f)||(0,M.A)(this,R,q).call(this,h)}getOptimisticResult(t){const e=(0,E.A)(this,i).getQueryCache().build((0,E.A)(this,i),t),s=this.createResult(e,t);return function(t,e){if(!(0,Q.f8)(t.getCurrentResult(),e))return!0;return!1}(this,s)&&((0,U.A)(this,a,s),(0,U.A)(this,o,this.options),(0,U.A)(this,h,(0,E.A)(this,n).state)),s}getCurrentResult(){return(0,E.A)(this,a)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null===e||void 0===e||e(i),t[i])})})),s}trackProp(t){(0,E.A)(this,v).add(t)}getCurrentQuery(){return(0,E.A)(this,n)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){const e=(0,E.A)(this,i).defaultQueryOptions(t),s=(0,E.A)(this,i).getQueryCache().build((0,E.A)(this,i),e);return s.isFetchingOptimistic=!0,s.fetch().then((()=>this.createResult(s,e)))}fetch(t){var e;return(0,M.A)(this,b,L).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then((()=>(this.updateResult(),(0,E.A)(this,a))))}createResult(t,e){const s=(0,E.A)(this,n),i=this.options,A=(0,E.A)(this,a),p=(0,E.A)(this,h),f=(0,E.A)(this,o),v=t!==s?t.state:(0,E.A)(this,r),{state:b}=t;let w,y={...b},R=!1;if(e._optimisticResults){const n=this.hasListeners(),r=!n&&H(t,e),a=n&&K(t,s,e,i);(r||a)&&(y={...y,...(0,D.k)(b.data,t.options)}),"isRestoring"===e._optimisticResults&&(y.fetchStatus="idle")}let{error:g,errorUpdatedAt:k,status:O}=y;if(e.select&&void 0!==y.data)if(A&&y.data===(null===p||void 0===p?void 0:p.data)&&e.select===(0,E.A)(this,u))w=(0,E.A)(this,c);else try{(0,U.A)(this,u,e.select),w=e.select(y.data),w=(0,Q.pl)(null===A||void 0===A?void 0:A.data,w,e),(0,U.A)(this,c,w),(0,U.A)(this,l,null)}catch(P){(0,U.A)(this,l,P)}else w=y.data;if(void 0!==e.placeholderData&&void 0===w&&"pending"===O){let t;var C;if(null!==A&&void 0!==A&&A.isPlaceholderData&&e.placeholderData===(null===f||void 0===f?void 0:f.placeholderData))t=A.data;else if(t="function"===typeof e.placeholderData?e.placeholderData(null===(C=(0,E.A)(this,d))||void 0===C?void 0:C.state.data,(0,E.A)(this,d)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,U.A)(this,l,null)}catch(P){(0,U.A)(this,l,P)}void 0!==t&&(O="success",w=(0,Q.pl)(null===A||void 0===A?void 0:A.data,t,e),R=!0)}(0,E.A)(this,l)&&(g=(0,E.A)(this,l),w=(0,E.A)(this,c),k=Date.now(),O="error");const S="fetching"===y.fetchStatus,m="pending"===O,W="error"===O,M=m&&S,F=void 0!==w;return{status:O,fetchStatus:y.fetchStatus,isPending:m,isSuccess:"success"===O,isError:W,isInitialLoading:M,isLoading:M,data:w,dataUpdatedAt:y.dataUpdatedAt,error:g,errorUpdatedAt:k,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:S,isRefetching:S&&!m,isLoadingError:W&&!F,isPaused:"paused"===y.fetchStatus,isPlaceholderData:R,isRefetchError:W&&F,isStale:N(t,e),refetch:this.refetch}}updateResult(t){const e=(0,E.A)(this,a),s=this.createResult((0,E.A)(this,n),this.options);if((0,U.A)(this,h,(0,E.A)(this,n).state),(0,U.A)(this,o,this.options),void 0!==(0,E.A)(this,h).data&&(0,U.A)(this,d,(0,E.A)(this,n)),(0,Q.f8)(s,e))return;(0,U.A)(this,a,s);const i={};!1!==(null===t||void 0===t?void 0:t.listeners)&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"===typeof t?t():t;if("all"===s||!s&&!(0,E.A)(this,v).size)return!0;const i=new Set(null!==s&&void 0!==s?s:(0,E.A)(this,v));return this.options.throwOnError&&i.add("error"),Object.keys((0,E.A)(this,a)).some((t=>{const s=t;return(0,E.A)(this,a)[s]!==e[s]&&i.has(s)}))})()&&(i.listeners=!0),(0,M.A)(this,S,$).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M.A)(this,g,x).call(this)}});function L(t){(0,M.A)(this,C,z).call(this);let e=(0,E.A)(this,n).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(Q.lQ)),e}function j(){if((0,M.A)(this,k,B).call(this),Q.S$||(0,E.A)(this,a).isStale||!(0,Q.gn)(this.options.staleTime))return;const t=(0,Q.j3)((0,E.A)(this,a).dataUpdatedAt,this.options.staleTime)+1;(0,U.A)(this,A,setTimeout((()=>{(0,E.A)(this,a).isStale||this.updateResult()}),t))}function _(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,E.A)(this,n)):this.options.refetchInterval)&&void 0!==t&&t}function q(t){(0,M.A)(this,O,G).call(this),(0,U.A)(this,f,t),!Q.S$&&!1!==this.options.enabled&&(0,Q.gn)((0,E.A)(this,f))&&0!==(0,E.A)(this,f)&&(0,U.A)(this,p,setInterval((()=>{(this.options.refetchIntervalInBackground||P.m.isFocused())&&(0,M.A)(this,b,L).call(this)}),(0,E.A)(this,f)))}function x(){(0,M.A)(this,w,j).call(this),(0,M.A)(this,R,q).call(this,(0,M.A)(this,y,_).call(this))}function B(){(0,E.A)(this,A)&&(clearTimeout((0,E.A)(this,A)),(0,U.A)(this,A,void 0))}function G(){(0,E.A)(this,p)&&(clearInterval((0,E.A)(this,p)),(0,U.A)(this,p,void 0))}function z(){const t=(0,E.A)(this,i).getQueryCache().build((0,E.A)(this,i),this.options);if(t===(0,E.A)(this,n))return;const e=(0,E.A)(this,n);(0,U.A)(this,n,t),(0,U.A)(this,r,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}function $(t){F.j.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t((0,E.A)(this,a))})),(0,E.A)(this,i).getQueryCache().notify({query:(0,E.A)(this,n),type:"observerResultsUpdated"})}))}function H(t,e){return function(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&J(t,e,e.refetchOnMount)}function J(t,e,s){if(!1!==e.enabled){const i="function"===typeof s?s(t):s;return"always"===i||!1!==i&&N(t,e)}return!1}function K(t,e,s,i){return(t!==e||!1===i.enabled)&&(!s.suspense||"error"!==t.state.status)&&N(t,s)}function N(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}var V=s(65043);s(70579);function X(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Y=V.createContext(X()),Z=()=>V.useContext(Y),tt=s(63248),et=s(12371),st=s(13247),it=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},nt=t=>{V.useEffect((()=>{t.clearReset()}),[t])},rt=t=>{let{result:e,errorResetBoundary:s,throwOnError:i,query:n}=t;return e.isError&&!s.isReset()&&!e.isFetching&&n&&(0,st.G)(i,[e.error,n])},at=t=>{t.suspense&&"number"!==typeof t.staleTime&&(t.staleTime=1e3)},ht=(t,e)=>(null===t||void 0===t?void 0:t.suspense)&&e.isPending,ot=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function lt(t,e){return function(t,e,s){const i=(0,tt.jE)(s),n=(0,et.w)(),r=Z(),a=i.defaultQueryOptions(t);a._optimisticResults=n?"isRestoring":"optimistic",at(a),it(a,r),nt(r);const[h]=V.useState((()=>new e(i,a))),o=h.getOptimisticResult(a);if(V.useSyncExternalStore(V.useCallback((t=>{const e=n?()=>{}:h.subscribe(F.j.batchCalls(t));return h.updateResult(),e}),[h,n]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),V.useEffect((()=>{h.setOptions(a,{listeners:!1})}),[a,h]),ht(a,o))throw ot(a,h,r);if(rt({result:o,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash)}))throw o.error;return a.notifyOnChangeProps?o:h.trackResult(o)}(t,I,e)}}}]);
//# sourceMappingURL=535.14336bc5.chunk.js.map