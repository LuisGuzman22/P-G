"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[196],{36566:(e,a,t)=>{t.d(a,{MS:()=>o,OZ:()=>i,XU:()=>c,b:()=>s,ny:()=>l});var r=t(92535),n=t(77154);localStorage.getItem("USER_TYPE");const s=e=>(0,r.I)({queryKey:["projects"],refetchType:"all",refetchOnWindowFocus:!0,queryFn:async()=>(async e=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/projects",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()}),i=e=>(0,r.I)({queryKey:["contracts"],refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://2b3570b8072a44e09ce5b5a80a4c8012.api.mockbin.io/")).data.data)()}),o=e=>(0,r.I)({queryKey:["basics"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/basicData",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()}),c=()=>(0,r.I)({queryKey:["users"],refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://b4b07e25f42d4135b6fc3791a6e1d1f8.api.mockbin.io/")).data.data)()}),l=()=>(0,r.I)({queryKey:["reports"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/reports",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()})},59196:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var r=t(65043),n=t(4082),s=t(80861),i=t(25104),o=t(96105),c=t(23682),l=t(44101),d=t(44227),h=t(84709),p=t(73216),u=t(322),y=t(35761),m=t(36566),j=t(49634);const g=e=>{const{data:a,isLoading:t,error:r}=(0,m.MS)(e);return{data:a,isLoading:t,error:r}};var x=t(84998),b=t(18767),f=t(83372),v=(t(52420),t(70579));const A=()=>{let e=(0,p.Zp)();const{getProject:a,getContract:t}=(0,y.A)(),{clearData:A}=(0,x.A)(),k=JSON.parse(a()),w=JSON.parse(t()),{data:C,isLoading:E,error:T}=g(w.id),{getData:I}=(0,j.A)(),{isFetching:N}=(0,m.ny)(),S=I("reports");(0,r.useEffect)((()=>{localStorage.removeItem("daily_report"),A()}),[]),(0,r.useEffect)((()=>{k&&w||e("/project_selector")}),[k,w]);const F=a=>{e(a)};return(0,v.jsxs)("div",{className:"dashboard",children:[(0,v.jsx)("div",{style:{display:"none"},children:(0,v.jsx)(b.Ay,{chartType:"ColumnChart",width:"100%",height:"400px",data:[["Element","Density",{role:"style"}],["Copper",8.94,"#b87333"],["Silver",10.49,"silver"],["Gold",19.3,"gold"],["Platinum",21.45,"color: #e5e4e2"]]})}),(0,v.jsxs)(s.E,{children:[(0,v.jsx)(i.V,{children:"Panel Informativo"}),(0,v.jsx)(o.W,{children:(0,v.jsx)(c.d,{children:(0,v.jsx)(n.A,{})})})]}),S&&S.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:N?(0,v.jsx)(f.A,{count:2}):(0,v.jsx)(c.d,{children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{children:["Tienes ",S.length," informes diarios generados."]}),(0,v.jsx)(l.s,{children:S.sort(((e,a)=>a.id-e.id)).map((e=>(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.U,{children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{localStorage.setItem("daily_report",e.id),F("/informe-diario/view")},children:e.id})})})))})]})})})})]}),(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:(0,v.jsx)(c.d,{children:(0,v.jsx)(u.A,{})})})}),(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:N?(0,v.jsx)(f.A,{count:2}):(0,v.jsx)(c.d,{children:(0,v.jsxs)("div",{children:[(0,v.jsxs)(l.s,{children:[(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/informe-diario")},children:"Informe Diario"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/trisemanal")},children:"Trisemanal"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/carta-gantt")},children:"Carta Gantt"})})]}),(0,v.jsxs)(l.s,{children:[(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/avance")},children:"Avance"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",children:"TOP NO+PAPEL"})}),(0,v.jsx)(d.U,{sm:4})]})]})})})})]})}},52420:()=>{},83372:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(65043);const n=r.createContext({}),s=!0;function i(e){let{baseColor:a,highlightColor:t,width:r,height:n,borderRadius:i,circle:o,direction:c,duration:l,enableAnimation:d=s}=e;const h={};return"rtl"===c&&(h["--animation-direction"]="reverse"),"number"===typeof l&&(h["--animation-duration"]="".concat(l,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(h.width=r),"string"!==typeof n&&"number"!==typeof n||(h.height=n),"string"!==typeof i&&"number"!==typeof i||(h.borderRadius=i),o&&(h.borderRadius="50%"),"undefined"!==typeof a&&(h["--base-color"]=a),"undefined"!==typeof t&&(h["--highlight-color"]=t),h}function o(e){let{count:a=1,wrapper:t,className:o,containerClassName:c,containerTestId:l,circle:d=!1,style:h,...p}=e;var u,y,m;const j=r.useContext(n),g={...p};for(const[r,n]of Object.entries(p))"undefined"===typeof n&&delete g[r];const x={...j,...g,circle:d},b={...h,...i(x)};let f="react-loading-skeleton";o&&(f+=" ".concat(o));const v=null!==(u=x.inline)&&void 0!==u&&u,A=[],k=Math.ceil(a);for(let n=0;n<k;n++){let e=b;if(k>a&&n===k-1){const t=null!==(y=e.width)&&void 0!==y?y:"100%",r=a%1,n="number"===typeof t?t*r:"calc(".concat(t," * ").concat(r,")");e={...e,width:n}}const t=r.createElement("span",{className:f,style:e,key:n},"\u200c");v?A.push(t):A.push(r.createElement(r.Fragment,{key:n},t,r.createElement("br",null)))}return r.createElement("span",{className:c,"data-testid":l,"aria-live":"polite","aria-busy":null!==(m=x.enableAnimation)&&void 0!==m?m:s},t?A.map(((e,a)=>r.createElement(t,{key:a},e))):A)}}}]);
//# sourceMappingURL=196.9f0242cd.chunk.js.map