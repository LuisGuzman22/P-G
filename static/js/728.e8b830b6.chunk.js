"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[728],{99349:(e,a,s)=>{s.d(a,{A:()=>x});s(65043);var t=s(4398),r=s(11418),c=s(89689),l=s(16323),n=s(81917),o=s(44101),i=s(44227),d=s(10825),m=s(85968),h=s(84709),p=s(70579);const x=e=>{const a=()=>{e.sendDataToParent(!1)};return(0,p.jsxs)(t.z,{scrollable:!0,visible:e.visible,onClose:()=>a(),"aria-labelledby":"ScrollingLongContentExampleLabel2",size:"xl",className:"project-creation-modal",children:[(0,p.jsx)(r.E,{children:(0,p.jsx)(c.l,{id:"ScrollingLongContentExampleLabel2",children:"A\xf1adir Contrato"})}),(0,p.jsx)(l.T,{children:(0,p.jsxs)(n.q,{children:[(0,p.jsxs)(o.s,{children:[(0,p.jsx)(i.U,{sm:6,children:(0,p.jsx)(d.O,{type:"text",id:"contractName",label:"Nombre",placeholder:"Nombre",text:"",onChange:e=>{}})}),(0,p.jsx)(i.U,{sm:6,children:(0,p.jsx)(d.O,{type:"text",id:"contractDetail",label:"Detalle",placeholder:"Detalle",text:""})})]}),(0,p.jsxs)(o.s,{children:[(0,p.jsx)(i.U,{sm:6,children:(0,p.jsx)(d.O,{type:"text",id:"contractUrl",label:"URL",placeholder:"URL",text:""})}),(0,p.jsxs)(i.U,{sm:6,children:[(0,p.jsx)(d.O,{type:"text",id:"contractPhone",label:"Tel\xe9fono",placeholder:"Tel\xe9fono",text:""})," "]})]}),(0,p.jsx)(o.s,{children:(0,p.jsx)(i.U,{sm:6,children:(0,p.jsx)(d.O,{type:"text",id:"contractMail",label:"Email",placeholder:"Email",text:""})})})]})}),(0,p.jsxs)(m.I,{children:[(0,p.jsx)(h.Q,{color:"secondary",onClick:()=>a(),children:"Cerrar"}),(0,p.jsx)(h.Q,{className:"btn-add",children:"A\xf1adir contrato"})]})]})}},52347:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(65043),r=s(73216),c=s(44227),l=s(80861),n=s(64907),o=s(96105),i=s(23682),d=s(44101),m=s(30529),h=s(3526),p=s(35761),x=s(6145),j=s(36566);const N=e=>{const{data:a,isLoading:s,error:t}=(0,j.OZ)(e);return{data:a,isLoading:s,error:t}};var f=s(49634),u=s(99349),v=s(70579);const y=()=>{const e=(0,r.Zp)(),{getProject:a,saveContract:s}=(0,p.A)(),[j,y]=(0,t.useState)(),{getData:g}=(0,f.A)(),T=g("projects"),C=localStorage.getItem("USER_TYPE"),{data:b}=N(1),E=JSON.parse(a()),[A,U]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{if("admin"!==C)if(E&&T){const e=T.find((e=>e.id===E.id));y(e.contracts)}else e("/project_selector")}),[T,E]),(0,t.useEffect)((()=>{"admin"===C&&(null===b||void 0===b?void 0:b.contract)&&y(b.contract)}),[b]),(0,v.jsxs)(v.Fragment,{children:[A&&(0,v.jsx)(u.A,{visible:!0,sendDataToParent:e=>{U(e)}}),(0,v.jsx)(c.U,{sm:6,className:"contract-selector-container",children:(0,v.jsxs)(l.E,{children:[(0,v.jsx)(n.Q,{children:(0,v.jsx)("h3",{children:"Seleccion de Contrato"})}),(0,v.jsx)(o.W,{children:(0,v.jsxs)(i.d,{children:[void 0===j&&(0,v.jsx)("h3",{children:"No se encontraron contratos asociados"}),j&&(null===j||void 0===j?void 0:j.map(((a,t)=>(0,v.jsx)(d.s,{children:(0,v.jsx)(c.U,{children:(0,v.jsx)(m.$,{onClick:()=>{(a=>{if("admin"!==C){const t={name:a.name,id:a.id,code:a.code};s(t),e("/dashboard")}else{const t={name:a.name,id:a.id,code:a.code};s(t),e("/project_selector")}})(a)},className:"mb-3",icon:(0,v.jsx)(x.A,{className:"my-4 text-white",icon:"https://pgproject.cl/uploads/1705996608_a41c61e65ecf2a35c699.jpg",height:52}),chart:(0,v.jsx)(h.T,{className:"project-selector-container",children:(0,v.jsx)(d.s,{children:(0,v.jsx)("span",{className:"project-title",children:a.name})})}),style:{"--cui-card-cap-bg":"#1A4D55",cursor:"pointer"},values:[{title:"Trisemanales",value:a.trisemanal},{title:"Avance",value:a.progress}]})})},t)))),(0,v.jsx)(d.s,{children:(0,v.jsx)(c.U,{children:(0,v.jsx)(m.$,{onClick:()=>{U(!A)},className:"mb-3",icon:(0,v.jsx)(x.A,{className:"my-4 text-white",icon:"https://pgproject.cl/uploads/1705996608_a41c61e65ecf2a35c699.jpg",height:52}),chart:(0,v.jsx)(h.T,{className:"project-selector-container",children:(0,v.jsx)(d.s,{children:(0,v.jsx)("span",{className:"project-title",children:"Crear nuevo contrato"})})}),style:{"--cui-card-cap-bg":"#1A4D55",cursor:"pointer"}})})},0)]})})]})})]})}},25104:(e,a,s)=>{s.d(a,{V:()=>o});var t=s(22378),r=s(65043),c=s(65173),l=s.n(c),n=s(25196),o=(0,r.forwardRef)((function(e,a){var s=e.children,c=e.as,l=void 0===c?"div":c,o=e.className,i=(0,t.Tt)(e,["children","as","className"]);return r.createElement(l,(0,t.Cl)({className:(0,n.A)("card-header",o)},i,{ref:a}),s)}));o.propTypes={as:l().elementType,children:l().node,className:l().string},o.displayName="CCardHeader"},23682:(e,a,s)=>{s.d(a,{d:()=>o});var t=s(22378),r=s(65043),c=s(65173),l=s.n(c),n=s(25196),o=(0,r.forwardRef)((function(e,a){var s=e.children,c=e.as,l=void 0===c?"p":c,o=e.className,i=(0,t.Tt)(e,["children","as","className"]);return r.createElement(l,(0,t.Cl)({className:(0,n.A)("card-text",o)},i,{ref:a}),s)}));o.propTypes={as:l().elementType,children:l().node,className:l().string},o.displayName="CCardText"},64907:(e,a,s)=>{s.d(a,{Q:()=>o});var t=s(22378),r=s(65043),c=s(65173),l=s.n(c),n=s(25196),o=(0,r.forwardRef)((function(e,a){var s=e.children,c=e.as,l=void 0===c?"h5":c,o=e.className,i=(0,t.Tt)(e,["children","as","className"]);return r.createElement(l,(0,t.Cl)({className:(0,n.A)("card-title",o)},i,{ref:a}),s)}));o.propTypes={as:l().elementType,children:l().node,className:l().string},o.displayName="CCardTitle"},89689:(e,a,s)=>{s.d(a,{l:()=>o});var t=s(22378),r=s(65043),c=s(65173),l=s.n(c),n=s(25196),o=(0,r.forwardRef)((function(e,a){var s=e.children,c=e.as,l=void 0===c?"h5":c,o=e.className,i=(0,t.Tt)(e,["children","as","className"]);return r.createElement(l,(0,t.Cl)({className:(0,n.A)("modal-title",o)},i,{ref:a}),s)}));o.propTypes={as:l().elementType,children:l().node,className:l().string},o.displayName="CModalTitle"},30529:(e,a,s)=>{s.d(a,{$:()=>p});var t=s(22378),r=s(65043),c=s(65173),l=s.n(c),n=s(25196),o=s(80861),i=s(96105),d=s(25104),m=s(44227),h=s(75232),p=(0,r.forwardRef)((function(e,a){var s,c=e.className,l=e.chart,h=e.color,p=e.icon,x=e.values,j=(0,t.Tt)(e,["className","chart","color","icon","values"]);return r.createElement(o.E,(0,t.Cl)({className:c},j,{ref:a}),r.createElement(d.V,{className:(0,n.A)("position-relative d-flex justify-content-center align-items-center",(s={},s["bg-".concat(h)]=h,s))},p,l),r.createElement(i.W,{className:"row text-center"},x&&x.map((function(e,a){return r.createElement(r.Fragment,{key:a},a%2!==0&&r.createElement("div",{className:"vr"}),r.createElement(m.U,null,r.createElement("div",{className:"fs-5 fw-semibold"},e.value),r.createElement("div",{className:"text-uppercase text-body-secondary small"},e.title)))}))))}));p.propTypes={chart:l().oneOfType([l().string,l().node]),className:l().string,color:h.TX,icon:l().oneOfType([l().string,l().node]),values:l().arrayOf(l().any)},p.displayName="CWidgetStatsD"}}]);
//# sourceMappingURL=728.e8b830b6.chunk.js.map