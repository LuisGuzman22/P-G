"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[196],{36566:(e,t,a)=>{a.d(t,{MS:()=>o,OZ:()=>i,XU:()=>c,b:()=>s,ny:()=>l});var r=a(92535),n=a(77154);localStorage.getItem("USER_TYPE");const s=e=>(0,r.I)({queryKey:["projects"],refetchType:"all",refetchOnWindowFocus:!0,queryFn:async()=>(async e=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/projects",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()}),i=e=>(0,r.I)({queryKey:["contracts"],refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://2b3570b8072a44e09ce5b5a80a4c8012.api.mockbin.io/")).data.data)()}),o=e=>(0,r.I)({queryKey:["basics"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://mpm.pgproject.cl/api/v1/basicData",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()}),c=()=>(0,r.I)({queryKey:["users"],refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://b4b07e25f42d4135b6fc3791a6e1d1f8.api.mockbin.io/")).data.data)()}),l=()=>(0,r.I)({queryKey:["reports"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/reports",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data.data)()})},59196:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(65043),n=a(4082),s=a(80861),i=a(25104),o=a(96105),c=a(23682),l=a(44101),d=a(44227),h=a(84709),p=a(73216),u=a(322),m=a(35761),y=a(36566),j=a(49634);const g=e=>{const{data:t,isLoading:a,error:r}=(0,y.MS)(e);return{data:t,isLoading:a,error:r}};var x=a(84998),b=a(18767),f=a(83372),v=(a(52420),a(70579));const A=()=>{let e=(0,p.Zp)();const{getProject:t,getContract:a}=(0,m.A)(),{clearData:A}=(0,x.A)(),k=JSON.parse(t()),w=JSON.parse(a()),{data:C,isLoading:E,error:T}=g(w.id),{getData:I}=(0,j.A)(),{isFetching:N}=(0,y.ny)(),S=I("reports");(0,r.useEffect)((()=>{localStorage.removeItem("daily_report"),A()}),[]),(0,r.useEffect)((()=>{k&&w||e("/project_selector")}),[k,w]);const F=t=>{e(t)};return(0,v.jsxs)("div",{className:"dashboard",children:[(0,v.jsx)("div",{style:{display:"none"},children:(0,v.jsx)(b.Ay,{chartType:"ColumnChart",width:"100%",height:"400px",data:[["Element","Density",{role:"style"}],["Copper",8.94,"#b87333"],["Silver",10.49,"silver"],["Gold",19.3,"gold"],["Platinum",21.45,"color: #e5e4e2"]]})}),(0,v.jsxs)(s.E,{children:[(0,v.jsx)(i.V,{children:"Panel Informativo"}),(0,v.jsx)(o.W,{children:(0,v.jsx)(c.d,{children:(0,v.jsx)(n.A,{})})})]}),S&&S.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:N?(0,v.jsx)(f.A,{count:2}):(0,v.jsx)(c.d,{children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("span",{children:["Tienes ",S.length," informes diarios generados."]}),(0,v.jsx)(l.s,{children:S.sort(((e,t)=>t.id-e.id)).map((e=>(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.U,{children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{localStorage.setItem("daily_report",e.id),F("/informe-diario/view")},children:e.id})})})))})]})})})})]}),(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:(0,v.jsx)(c.d,{children:(0,v.jsx)(u.A,{})})})}),(0,v.jsx)("br",{}),(0,v.jsx)(s.E,{children:(0,v.jsx)(o.W,{children:N?(0,v.jsx)(f.A,{count:2}):(0,v.jsx)(c.d,{children:(0,v.jsxs)("div",{children:[(0,v.jsxs)(l.s,{children:[(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/informe-diario")},children:"Informe Diario"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/trisemanal")},children:"Trisemanal"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/carta-gantt")},children:"Carta Gantt"})})]}),(0,v.jsxs)(l.s,{children:[(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",onClick:()=>{F("/avance")},children:"Avance"})}),(0,v.jsx)(d.U,{sm:4,children:(0,v.jsx)(h.Q,{className:"dashboard-button",children:"TOP NO+PAPEL"})}),(0,v.jsx)(d.U,{sm:4})]})]})})})})]})}},52420:()=>{},83372:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(65043);const n=r.createContext({}),s=!0;function i(e){let{baseColor:t,highlightColor:a,width:r,height:n,borderRadius:i,circle:o,direction:c,duration:l,enableAnimation:d=s}=e;const h={};return"rtl"===c&&(h["--animation-direction"]="reverse"),"number"===typeof l&&(h["--animation-duration"]="".concat(l,"s")),d||(h["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(h.width=r),"string"!==typeof n&&"number"!==typeof n||(h.height=n),"string"!==typeof i&&"number"!==typeof i||(h.borderRadius=i),o&&(h.borderRadius="50%"),"undefined"!==typeof t&&(h["--base-color"]=t),"undefined"!==typeof a&&(h["--highlight-color"]=a),h}function o(e){let{count:t=1,wrapper:a,className:o,containerClassName:c,containerTestId:l,circle:d=!1,style:h,...p}=e;var u,m,y;const j=r.useContext(n),g={...p};for(const[r,n]of Object.entries(p))"undefined"===typeof n&&delete g[r];const x={...j,...g,circle:d},b={...h,...i(x)};let f="react-loading-skeleton";o&&(f+=" ".concat(o));const v=null!==(u=x.inline)&&void 0!==u&&u,A=[],k=Math.ceil(t);for(let n=0;n<k;n++){let e=b;if(k>t&&n===k-1){const a=null!==(m=e.width)&&void 0!==m?m:"100%",r=t%1,n="number"===typeof a?a*r:"calc(".concat(a," * ").concat(r,")");e={...e,width:n}}const a=r.createElement("span",{className:f,style:e,key:n},"\u200c");v?A.push(a):A.push(r.createElement(r.Fragment,{key:n},a,r.createElement("br",null)))}return r.createElement("span",{className:c,"data-testid":l,"aria-live":"polite","aria-busy":null!==(y=x.enableAnimation)&&void 0!==y?y:s},a?A.map(((e,t)=>r.createElement(a,{key:t},e))):A)}}}]);
//# sourceMappingURL=196.f0115f1b.chunk.js.map