"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[10],{49957:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/edit"),f={activityFrontWork:void 0,primaveraId:void 0,activityName:void 0,activityDiscipline:void 0,activityTotalAmount:void 0,activityPreviousAcumulatedAmount:void 0,activityActualShiftQuantity:void 0,activityAccumulatedAcvancePercent:void 0,activityUnit:void 0,activityHoursSpendPrevius:void 0,activityHoursSpendShift:void 0,activityHoursAccumulated:void 0},{getData:g}=(0,b.A)(),k=g("basics"),[C,F]=(0,t.useState)(f),[W,S]=(0,t.useState)([]),[O,A]=(0,t.useState)(!1),{storeActivity:M,removeActivity:q,activityList:H}=(0,j.A)(),D=e=>{A(!1),"activityFrontWork"===e.target.id&&(F(f),F({[e.target.id]:e.target.value})),"activityTotalAmount"===e.target.id||"activityPreviousAcumulatedAmount"===e.target.id||"activityActualShiftQuantity"===e.target.id||"activityAccumulatedAcvancePercent"===e.target.id||"activityHoursSpendPrevius"===e.target.id||"activityHoursSpendShift"===e.target.id||"activityHoursAccumulated"===e.target.id?(0,p.t)(e.target.value)&&F({...C,[e.target.id]:e.target.value}):F({...C,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{const e=C.activityHoursSpendShift?Number(C.activityHoursSpendShift):0,r=C.activityHoursSpendPrevius?Number(C.activityHoursSpendPrevius):0;F({...C,activityHoursAccumulated:r+e})}),[C.activityHoursSpendShift,C.activityHoursSpendPrevius]),(0,t.useEffect)((()=>{if(C.activityPreviousAcumulatedAmount&&C.activityActualShiftQuantity&&C.activityTotalAmount){const e=C.activityPreviousAcumulatedAmount?Number(C.activityPreviousAcumulatedAmount):0,r=((C.activityActualShiftQuantity?Number(C.activityActualShiftQuantity):0)+e)/(C.activityTotalAmount?Number(C.activityTotalAmount):0);F({...C,activityAccumulatedAcvancePercent:r.toFixed(2)})}}),[C.activityPreviousAcumulatedAmount,C.activityActualShiftQuantity,C.activityTotalAmount]);return(0,t.useEffect)((()=>{i||M(W)}),[W]),(0,N.jsxs)("div",{className:"work-force-report",children:[!i&&(0,N.jsxs)(N.Fragment,{children:[" ",O&&(0,N.jsx)(c.J,{autohide:!0,visible:O,color:"danger",onClose:()=>{A(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el frente de trabajo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"activityFrontWork",label:"Frente de trabajo",value:null!==(e=C.activityFrontWork)&&void 0!==e?e:0,onChange:e=>{D(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),k.workFront.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,N.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,N.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"primaveraId",value:C.primaveraId||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityName",value:C.activityName||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"activityDiscipline",value:null!==(r=C.activityDiscipline)&&void 0!==r?r:"0",onChange:e=>{D(e)},children:[(0,N.jsx)("option",{value:"0",children:"Seleccione"}),(0,N.jsx)("option",{value:"Obras_civiles",children:"Obras Civiles"}),(0,N.jsx)("option",{value:"Movimiento_de_tierra",children:"Movimiento de tierra"})]})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityTotalAmount",value:C.activityTotalAmount||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityPreviousAcumulatedAmount",value:C.activityPreviousAcumulatedAmount||"",text:"",onChange:e=>{D(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,N.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,N.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Anterior"}),(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityActualShiftQuantity",value:C.activityActualShiftQuantity||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityAccumulatedAcvancePercent",value:C.activityAccumulatedAcvancePercent||"",disabled:!0,text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityUnit",value:C.activityUnit||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityHoursSpendPrevius",value:C.activityHoursSpendPrevius||"",text:"",onChange:e=>{D(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityHoursSpendShift",value:C.activityHoursSpendShift||"",text:"",onChange:e=>{D(e)}})})]}),(0,N.jsx)(s.Y,{children:(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"})}),(0,N.jsx)(s.Y,{children:(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"activityHoursAccumulated",value:C.activityHoursAccumulated||"",disabled:!0,text:"",onChange:e=>{D(e)}})})})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.activityFrontWork&&"0"!==C.activityFrontWork){const e={id:(0,v.A)(),activityFrontWork:C.activityFrontWork,primaveraId:C.primaveraId,activityName:C.activityName,activityDiscipline:C.activityDiscipline,activityTotalAmount:C.activityTotalAmount,activityPreviousAcumulatedAmount:C.activityPreviousAcumulatedAmount,activityActualShiftQuantity:C.activityActualShiftQuantity,activityAccumulatedAcvancePercent:C.activityAccumulatedAcvancePercent,activityUnit:C.activityUnit,activityHoursSpendPrevius:C.activityHoursSpendPrevius,activityHoursSpendShift:C.activityHoursSpendShift,activityHoursAccumulated:C.activityHoursAccumulated};F(f),S([...W,e])}else A(!0)})()},children:"Registrar"})]}),H.length>0&&H[0].activityFrontWork&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col"}),(0,N.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,N.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,N.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,N.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,N.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Anterior"}),(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"}),(0,N.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"}),(0,N.jsx)(d.$,{scope:"col"})]})}),(0,N.jsx)(u.C,{children:H.map(((e,r)=>{const i=k.workFront.find((r=>r.id==e.activityFrontWork));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:e.primaveraId}),(0,N.jsx)(h.c,{children:e.activityName}),(0,N.jsx)(h.c,{children:e.activityDiscipline}),(0,N.jsx)(h.c,{children:e.activityTotalAmount}),(0,N.jsx)(h.c,{children:e.activityPreviousAcumulatedAmount}),(0,N.jsx)(h.c,{children:e.activityActualShiftQuantity}),(0,N.jsx)(h.c,{children:e.activityAccumulatedAcvancePercent}),(0,N.jsx)(h.c,{children:e.activityUnit}),(0,N.jsx)(h.c,{children:e.activityHoursSpendPrevius}),(0,N.jsx)(h.c,{children:e.activityHoursSpendShift}),(0,N.jsx)(h.c,{children:e.activityHoursAccumulated}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=W.filter((r=>r.id!==e));F(r),q(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},85930:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/edit"),f={machinery:void 0,asarcoMachineryEffectiveTime:void 0,asarcoMachineryUnscheduleMaintenance:void 0,asarcoMachineryScheduleMaintenance:void 0,asarcoMachineryUnscheduleDelay:void 0,asarcoMachineryReserves:void 0,asarcoMachineryHorometer:void 0,asarcoMachineryOpperationalLoss:void 0,asarcoMachineryScheduleDelay:void 0,machineryPlate:void 0},{getData:g}=(0,b.A)(),k=g("basics"),[C,F]=(0,t.useState)(f),[W,S]=(0,t.useState)([]),[O,A]=(0,t.useState)({asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0,machineryPlate:0}),[M,q]=(0,t.useState)(),[H,D]=(0,t.useState)(!1),{storeAsarcoMachinery:P,removeAsarcoMachinery:$,asarcoMachineryList:E}=(0,j.A)(),T=e=>{if(D(!1),"machinery"===e.target.id)if(F(f),F({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=k.machinery.find((r=>r.id.toString()===e.target.value.toString()));q(r.plate)}else q();else"machineryPlate"===e.target.id?"0"!==e.target.value?F({...C,[e.target.id]:e.target.value}):F({...C,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&F({...C,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{i||P(W)}),[W]),(0,t.useEffect)((()=>{let e={asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0};for(let s of E){var r,i,t,c,a,n,o,l;e={asarcoMachineryEffectiveTime:Number(e.asarcoMachineryEffectiveTime)+Number(null!==(r=s.asarcoMachineryEffectiveTime)&&void 0!==r?r:0),asarcoMachineryUnscheduleMaintenance:Number(e.asarcoMachineryUnscheduleMaintenance)+Number(null!==(i=s.asarcoMachineryUnscheduleMaintenance)&&void 0!==i?i:0),asarcoMachineryScheduleMaintenance:Number(e.asarcoMachineryScheduleMaintenance)+Number(null!==(t=s.asarcoMachineryScheduleMaintenance)&&void 0!==t?t:0),asarcoMachineryUnscheduleDelay:Number(e.asarcoMachineryUnscheduleDelay)+Number(null!==(c=s.asarcoMachineryUnscheduleDelay)&&void 0!==c?c:0),asarcoMachineryReserves:Number(e.asarcoMachineryReserves)+Number(null!==(a=s.asarcoMachineryReserves)&&void 0!==a?a:0),asarcoMachineryHorometer:Number(e.asarcoMachineryHorometer)+Number(null!==(n=s.asarcoMachineryHorometer)&&void 0!==n?n:0),asarcoMachineryOpperationalLoss:Number(e.asarcoMachineryOpperationalLoss)+Number(null!==(o=s.asarcoMachineryOpperationalLoss)&&void 0!==o?o:0),asarcoMachineryScheduleDelay:Number(e.asarcoMachineryScheduleDelay)+Number(null!==(l=s.asarcoMachineryScheduleDelay)&&void 0!==l?l:0)}}A(e)}),[E]),(0,N.jsxs)("div",{className:"work-force-report",children:[!i&&(0,N.jsxs)(N.Fragment,{children:[" ",H&&(0,N.jsx)(c.J,{autohide:!0,visible:H,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar la m\xe1quina y su patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Maquinaria",id:"machinery",value:null!==(e=C.machinery)&&void 0!==e?e:0,onChange:e=>{T(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),k.machinery.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),M&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"machineryPlate",value:null!==(r=C.machineryPlate)&&void 0!==r?r:0,onChange:e=>{T(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),M.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryEffectiveTime",value:C.asarcoMachineryEffectiveTime||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleMaintenance",value:C.asarcoMachineryUnscheduleMaintenance||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleMaintenance",value:C.asarcoMachineryScheduleMaintenance||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleDelay",value:C.asarcoMachineryUnscheduleDelay||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryReserves",value:C.asarcoMachineryReserves||"",text:"",onChange:e=>{T(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryHorometer",value:C.asarcoMachineryHorometer||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryOpperationalLoss",value:C.asarcoMachineryOpperationalLoss||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleDelay",value:C.asarcoMachineryScheduleDelay||"",text:"",onChange:e=>{T(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.machinery&&C.machineryPlate){q();const e={id:(0,v.A)(),machinery:C.machinery,asarcoMachineryEffectiveTime:C.asarcoMachineryEffectiveTime,asarcoMachineryUnscheduleMaintenance:C.asarcoMachineryUnscheduleMaintenance,asarcoMachineryScheduleMaintenance:C.asarcoMachineryScheduleMaintenance,asarcoMachineryUnscheduleDelay:C.asarcoMachineryUnscheduleDelay,asarcoMachineryReserves:C.asarcoMachineryReserves,asarcoMachineryHorometer:C.asarcoMachineryHorometer,asarcoMachineryOpperationalLoss:C.asarcoMachineryOpperationalLoss,asarcoMachineryScheduleDelay:C.asarcoMachineryScheduleDelay,machineryPlate:C.machineryPlate};F(f),S([...W,e])}else D(!0)})()},children:"Registrar"})]}),E.length>0&&E[0].machinery&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Maquinaria"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]})}),(0,N.jsxs)(u.C,{children:[E.map(((e,r)=>{const i=k.machinery.find((r=>r.id==e.machinery)),t=i.plate.find((r=>r.id.toString()===e.machineryPlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:t.label}),(0,N.jsx)(h.c,{children:e.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:e.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:e.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:e.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleDelay}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=W.filter((r=>r.id!==e));S(r),$(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{}),(0,N.jsx)(h.c,{children:O.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:O.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:O.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:O.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:O.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:O.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:O.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:O.asarcoMachineryScheduleDelay})]},"total")]})]})]})}},17564:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(65043),c=i(64231),a=i(54451),n=i(73216),o=i(70579);const l=()=>{const e=(0,n.zy)().pathname.includes("/edit"),[r,i]=(0,t.useState)({comment:""}),{storeComment:l,comment:s}=(0,a.A)();return(0,t.useEffect)((()=>{e||l(r)}),[r]),(0,o.jsx)("div",{className:"work-force-report",children:(0,o.jsx)(c.I,{id:"comment",label:"Comentarios y alertas en genenral",disabled:e,value:e?s.comment:r.comment,onChange:e=>{(e=>{i({...r,[e.target.id]:e.target.value})})(e)},rows:3,text:""})})}},25762:(e,r,i)=>{i.d(r,{A:()=>m});i(65043);var t=i(81917),c=i(44101),a=i(44227),n=i(10825),o=i(97397),l=i(54451),s=i(84998),d=i(35761),u=i(73216),h=i(70579);const m=()=>{const e=(0,u.zy)().pathname,{storeCompanyData:r,company:i}=(0,l.A)(),{registerData:m}=(0,s.A)(),{getProject:x,getContract:j}=(0,d.A)(),v=(JSON.parse(x()),JSON.parse(j())),p=e=>{r(e)};return(0,h.jsx)("div",{className:"company-report",children:(0,h.jsxs)(t.q,{children:[(0,h.jsxs)(c.s,{children:[(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"date",id:"dailyReportDate",label:"Fecha",value:i.dailyReportDate||"",disabled:e.includes("/edit"),placeholder:"Fecha",text:"",onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportNumber",label:"Informe diario N\xb0",placeholder:"Informe diario N\xb0",text:"",disabled:e.includes("/edit"),value:i.dailyReportNumber||"",onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportContratistName",label:"Nombre de contratista",placeholder:"Detalle",value:i.dailyReportContratistName||"",text:"",disabled:e.includes("/edit"),onChange:e=>{p(e)}})})]}),(0,h.jsxs)(c.s,{children:[(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportContratistNumber",label:"N\xb0 de contrato",placeholder:"N\xb0 de contrato",disabled:!0,value:i.dailyReportContratistNumber||v.id,text:"",onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportContractName",label:"Nombre de contrato",placeholder:"Nombre de contrato",value:i.dailyReportContractName||v.name,disabled:!0,text:"",onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportContractManagerName",label:"Administrador de contrato",placeholder:"Administrador de contrato",value:i.dailyReportContractManagerName||"",text:"",disabled:e.includes("/edit"),onChange:e=>{p(e)}})})]}),(0,h.jsx)(c.s,{children:(0,h.jsx)(a.U,{sm:4,children:(0,h.jsxs)(o.M,{"aria-label":"Clima",id:"dailyReportWeather",value:i.dailyReportWeather||"0",label:"Clima",disabled:e.includes("/edit"),onChange:e=>{p(e)},children:[(0,h.jsx)("option",{value:"0",children:"Seleccione"}),(0,h.jsx)("option",{value:"1",children:"Calor moderado"}),(0,h.jsx)("option",{value:"2",children:"Calor intenso"}),(0,h.jsx)("option",{value:"3",children:"Fr\xedo moderado"}),(0,h.jsx)("option",{value:"4",children:"Fr\xedo intenso"}),(0,h.jsx)("option",{value:"5",children:"Lluvia d\xe9bil"}),(0,h.jsx)("option",{value:"6",children:"Lluvia moderada"}),(0,h.jsx)("option",{value:"7",children:"Lluvia intensa"}),(0,h.jsx)("option",{value:"8",children:"Viento d\xe9bil"}),(0,h.jsx)("option",{value:"9",children:"Viento moderado"}),(0,h.jsx)("option",{value:"10",children:"Viento intenso"})]})})}),(0,h.jsxs)(c.s,{children:[(0,h.jsx)(a.U,{sm:4,children:(0,h.jsxs)(o.M,{"aria-label":"Turno (Personal directo)",id:"dailyReportDirectPersonalShift",label:"Turno (Personal directo)",value:i.dailyReportDirectPersonalShift||"0",disabled:e.includes("/edit"),onChange:e=>{p(e)},children:[(0,h.jsx)("option",{value:"0",children:"Seleccione"}),(0,h.jsx)("option",{value:"14x14",children:"14x14"}),(0,h.jsx)("option",{value:"7x7",children:"7x7"})]})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportDirectPersonalHours",label:"Horas turno (Personal directo)",placeholder:"Horas turno (Personal directo)",value:i.dailyReportDirectPersonalHours||"",text:"",disabled:e.includes("/edit"),onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsxs)(o.M,{"aria-label":"Jornada (Personal directo)",id:"dailyReportDirectPersonalJourney",label:"Jornada (Personal directo)",value:i.dailyReportDirectPersonalJourney||"0",disabled:e.includes("/edit"),onChange:e=>{p(e)},children:[(0,h.jsx)("option",{value:"0",children:"Seleccione"}),(0,h.jsx)("option",{value:"dia",children:"D\xeda"}),(0,h.jsx)("option",{value:"noche",children:"Noche"})]})})]}),(0,h.jsxs)(c.s,{children:[(0,h.jsx)(a.U,{sm:4,children:(0,h.jsxs)(o.M,{"aria-label":"Turno (Personal indirecto)",id:"dailyReportIndirectPersonalShift",label:"Turno (Personal indirecto)",value:i.dailyReportIndirectPersonalShift||"0",disabled:e.includes("/edit"),onChange:e=>{p(e)},children:[(0,h.jsx)("option",{value:"0",children:"Seleccione"}),(0,h.jsx)("option",{value:"4x3",children:"4x3"}),(0,h.jsx)("option",{value:"5x2",children:"5x2"})]})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsx)(n.O,{type:"text",id:"dailyReportIndirectPersonalHours",label:"Horas turno (Personal indirecto)",placeholder:"Horas turno (Personal indirecto)",value:i.dailyReportIndirectPersonalHours||"",text:"",disabled:e.includes("/edit"),onChange:e=>{p(e)}})}),(0,h.jsx)(a.U,{sm:4,children:(0,h.jsxs)(o.M,{"aria-label":"Jornada (Personal indirecto)",id:"dailyReportIndirectPersonalJourney",label:"Jornada (Personal indirecto)",value:i.dailyReportIndirectPersonalJourney||"0",disabled:e.includes("/edit"),onChange:e=>{p(e)},children:[(0,h.jsx)("option",{value:"0",children:"Seleccione"}),(0,h.jsx)("option",{value:"dia",children:"D\xeda"}),(0,h.jsx)("option",{value:"noche",children:"Noche"})]})})]})]})})}},34974:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),v=i(54451),p=i(92073),b=i(83866),y=i(49634),N=i(73216),f=i(70579);const g=()=>{const e=(0,N.zy)().pathname.includes("/edit"),r={directWorkFront:void 0,directDotationWorkForceObservation:void 0,directSubWorkFront:void 0,directWorkFrontCharge:void 0,directWorkFrontQuantity:void 0,directDotationWorkForceObservation:void 0},{getData:i}=(0,y.A)(),g=i("basics"),[k,C]=(0,t.useState)(r),[F,W]=(0,t.useState)([]),[S,O]=(0,t.useState)(!1),[A,M]=(0,t.useState)(!1),{storeDirectDotationWorkForceData:q,removeDirectDotationWorkForce:H,directDotationWorkForceList:D}=(0,v.A)(),P=e=>{if(M(!1),"directWorkFront"===e.target.id){const r=g.workFront.find((r=>r.id.toString()===e.target.value.toString()));O(r.hasSubFront)}"directSubWorkFront"===e.target.id||"directWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...k,[e.target.id]:e.target.value}):C({...k,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||q(F)}),[F]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[A&&(0,f.jsx)(c.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(a.B,{children:"Debe completar los datos de frente de trabajo, cargo y cantidad para registrar el personal"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFront",label:"Frente de trabajo",value:k.directWorkFront||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),g.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),S&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directSubWorkFront",label:"SubFrente de trabajo",value:k.directSubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFrontCharge",value:k.directWorkFrontCharge||"",label:"Cargo",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),g.directPersonal.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directWorkFrontQuantity",label:"Cantidad",value:k.directWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"directDotationWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:k.directDotationWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(k.directWorkFront&&k.directWorkFrontCharge&&k.directWorkFrontQuantity){O(!1);const e={id:(0,p.A)(),directDotationWorkForceObservation:k.directDotationWorkForceObservation,directWorkFront:k.directWorkFront,directSubWorkFront:k.directSubWorkFront,directWorkFrontCharge:k.directWorkFrontCharge,directWorkFrontQuantity:k.directWorkFrontQuantity};C(r),W([...F,e])}else M(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].id&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Personal"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:D.map(((e,r)=>{var i;const t=g.workFront.find((r=>r.id==e.directWorkFront)),c=g.directPersonal.find((r=>r.id==e.directWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:t.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(i=e.directSubWorkFront)&&void 0!==i?i:"N/A"},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.directWorkFrontQuantity},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.directDotationWorkForceObservation},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},e.id)}))})]})})]})}},43357:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{const e=(0,y.zy)().pathname.includes("/edit"),r={directWorkForce:void 0,directWorkForceOfferedNumber:void 0,directWorkForceContractedNumber:void 0,directWorkForceCertifiedNumber:void 0,directWorkForceBreakNumber:void 0,directWorkForceWorkNumber:void 0,directWorkForceHHNumber:void 0},{getData:i}=(0,b.A)(),f=i("basics"),[g,k]=(0,t.useState)(r),[C,F]=(0,t.useState)([]),[W,S]=(0,t.useState)(!1),{storeDirectWorkForce:O,removeDirectWorkForce:A,directWorkForceList:M}=(0,j.A)(),q=e=>{S(!1),"directWorkForce"===e.target.id&&(k(r),k({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&k({...g,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||O(C)}),[C]),(0,N.jsxs)("div",{className:"work-force-report",children:[!e&&(0,N.jsxs)(N.Fragment,{children:[W&&(0,N.jsx)(c.J,{autohide:!0,visible:W,color:"danger",onClose:()=>{S(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkForce",value:g.directWorkForce||"",label:"Cargo",onChange:e=>{q(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),f.directPersonal.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceOfferedNumber",placeholder:"N\xb0 Ofertado",value:g.directWorkForceOfferedNumber||"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceContractedNumber",placeholder:"N\xb0 Contratados",value:g.directWorkForceContractedNumber||"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceCertifiedNumber",placeholder:"N\xb0 Acreditados",value:g.directWorkForceCertifiedNumber||"",onChange:e=>{q(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceBreakNumber",placeholder:"N\xb0 Descanso",value:g.directWorkForceBreakNumber||"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceWorkNumber",placeholder:"N\xb0 Obra",value:g.directWorkForceWorkNumber||"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceHHNumber",placeholder:"HH (Turno)",value:g.directWorkForceHHNumber||"",onChange:e=>{q(e)}})})]})]})]})]}),M.length>0&&M[0].directWorkForce&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,N.jsx)(d.$,{scope:"col"})]})}),(0,N.jsx)(u.C,{children:M.map(((e,r)=>{const i=f.directPersonal.find((r=>r.id==e.directWorkForce));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:e.offeredNumber}),(0,N.jsx)(h.c,{children:e.contractedNumber}),(0,N.jsx)(h.c,{children:e.certified}),(0,N.jsx)(h.c,{children:e.breakNumber}),(0,N.jsx)(h.c,{children:e.workNumber}),(0,N.jsx)(h.c,{children:e.hh}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=C.filter((r=>r.id!==e));F(r),A(e)})(e.id)},children:"eliminar"})})]},r)}))})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.directWorkForce){const e={id:(0,v.A)(),directWorkForce:g.directWorkForce,offeredNumber:g.directWorkForceOfferedNumber,contractedNumber:g.directWorkForceContractedNumber,certified:g.directWorkForceCertifiedNumber,breakNumber:g.directWorkForceBreakNumber,workNumber:g.directWorkForceWorkNumber,hh:g.directWorkForceHHNumber};k(r),F([...C,e])}else S(!0)})()},children:"Registrar"})]})}},54823:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r,i,f;const g=(0,y.zy)().pathname.includes("/edit"),k={equipment:void 0,equipmentOfferedNumber:void 0,equipmentCertifiedNumber:void 0,equipmentWorkNumber:void 0},{getData:C}=(0,b.A)(),F=C("basics"),[W,S]=(0,t.useState)(k),[O,A]=(0,t.useState)([]),[M,q]=(0,t.useState)({equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0}),[H,D]=(0,t.useState)(!1),{storeEquipment:P,removeEquipment:$,equipmentList:E}=(0,j.A)(),T=e=>{D(!1),"equipment"===e.target.id&&(S(k),S({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&S({...W,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{g||P(O)}),[O]),(0,t.useEffect)((()=>{let e={equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0};for(let c of E){var r,i,t;e={equipmentOfferedNumber:Number(e.equipmentOfferedNumber)+Number(null!==(r=c.actions.equipmentOfferedNumber)&&void 0!==r?r:0),equipmentCertifiedNumber:Number(e.equipmentCertifiedNumber)+Number(null!==(i=c.actions.equipmentCertifiedNumber)&&void 0!==i?i:0),equipmentWorkNumber:Number(e.equipmentWorkNumber)+Number(null!==(t=c.actions.equipmentWorkNumber)&&void 0!==t?t:0)}}q(e)}),[E]),(0,N.jsxs)("div",{className:"work-force-report",children:[!g&&(0,N.jsxs)(N.Fragment,{children:[" ",H&&(0,N.jsx)(c.J,{autohide:!0,visible:H,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=W.equipment)&&void 0!==e?e:0,onChange:e=>{T(e)},children:[(0,N.jsx)("option",{value:"0",children:"Seleccione"}),F.equipment.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,N.jsx)(u.C,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentOfferedNumber",value:W.equipmentOfferedNumber||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentCertifiedNumber",value:W.equipmentCertifiedNumber||"",text:"",onChange:e=>{T(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentWorkNumber",value:W.equipmentWorkNumber||"",text:"",onChange:e=>{T(e)}})})]})})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(W.equipment&&"0"!==W.equipment){const e={id:(0,v.A)(),equipment:W.equipment,actions:{equipmentOfferedNumber:W.equipmentOfferedNumber,equipmentCertifiedNumber:W.equipmentCertifiedNumber,equipmentWorkNumber:W.equipmentWorkNumber}};S(k),A([...O,e])}else D(!0)})()},children:"Registrar"})]}),E.length>0&&E[0].equipment&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,N.jsxs)(u.C,{children:[E.map(((e,r)=>{var i,t,c;const a=F.equipment.find((r=>r.id==e.equipment));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:a.name}),(0,N.jsx)(h.c,{children:null!==(i=e.actions.equipmentOfferedNumber)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(t=e.actions.equipmentCertifiedNumber)&&void 0!==t?t:0}),(0,N.jsx)(h.c,{children:null!==(c=e.actions.equipmentWorkNumber)&&void 0!==c?c:0}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=O.filter((r=>r.id!==e));A(r),$(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{children:null!==(r=M.equipmentOfferedNumber)&&void 0!==r?r:0}),(0,N.jsx)(h.c,{children:null!==(i=M.equipmentCertifiedNumber)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(f=M.equipmentWorkNumber)&&void 0!==f?f:0})]},"total")]})]})]})}},44619:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname.includes("/edit"),f={equipment:void 0,equipmentEffectiveTime:void 0,equipmentCorrectiveMaintenance:void 0,equipmentPreventiveMaintenance:void 0,equipmentOutOfService:void 0,equipmentWaiting:void 0,equipmentNoOperator:void 0,equipmentInitialHorometer:void 0,equipmentFinalHorometer:void 0,equipmentPlate:void 0},{getData:g}=(0,b.A)(),k=g("basics"),[C,F]=(0,t.useState)(f),[W,S]=(0,t.useState)([]),[O,A]=(0,t.useState)(),[M,q]=(0,t.useState)(!1),{storeEquipmentPlate:H,removeEquipmentPlate:D,equipmentPlateList:P}=(0,j.A)(),$=e=>{if(q(!1),"equipment"===e.target.id)if(F(f),F({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=k.equipment.find((r=>r.id.toString()===e.target.value.toString()));A(r.plate)}else A();else"equipmentPlate"===e.target.id?"0"!==e.target.value?F({...C,[e.target.id]:e.target.value}):F({...C,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&F({...C,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{i||H(W)}),[W]),(0,N.jsxs)("div",{className:"work-force-report",children:[!i&&(0,N.jsxs)(N.Fragment,{children:[M&&(0,N.jsx)(c.J,{autohide:!0,visible:M,color:"danger",onClose:()=>{q(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el equipo y su patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=C.equipment)&&void 0!==e?e:0,onChange:e=>{$(e)},children:[(0,N.jsx)("option",{value:"0",children:"Seleccione"}),k.equipment.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),O&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"equipmentPlate",value:null!==(r=C.equipmentPlate)&&void 0!==r?r:0,onChange:e=>{$(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),O.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentEffectiveTime",value:C.equipmentEffectiveTime||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentCorrectiveMaintenance",value:C.equipmentCorrectiveMaintenance||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentPreventiveMaintenance",value:C.equipmentPreventiveMaintenance||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentOutOfService",value:C.equipmentOutOfService||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentWaiting",value:C.equipmentWaiting||"",text:"",onChange:e=>{$(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentNoOperator",value:C.equipmentNoOperator||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentInitialHorometer",value:C.equipmentInitialHorometer||"",text:"",onChange:e=>{$(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"equipmentFinalHorometer",value:C.equipmentFinalHorometer||"",text:"",onChange:e=>{$(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.equipment&&"0"!==C.equipment&&C.equipmentPlate&&"0"!==C.equipmentPlate){A();const e={id:(0,v.A)(),equipment:C.equipment,equipmentEffectiveTime:C.equipmentEffectiveTime,equipmentCorrectiveMaintenance:C.equipmentCorrectiveMaintenance,equipmentPreventiveMaintenance:C.equipmentPreventiveMaintenance,equipmentOutOfService:C.equipmentOutOfService,equipmentWaiting:C.equipmentWaiting,equipmentNoOperator:C.equipmentNoOperator,equipmentInitialHorometer:C.equipmentInitialHorometer,equipmentFinalHorometer:C.equipmentFinalHorometer,equipmentPlate:C.equipmentPlate};F(f),S([...W,e])}else q(!0)})()},children:"Registrar"})]}),P.length>0&&P[0].equipment&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Equipo"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,N.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Final "})]})}),(0,N.jsx)(u.C,{children:P.map(((e,r)=>{const i=k.equipment.find((r=>r.id==e.equipment)),t=i.plate.find((r=>r.id.toString()===e.equipmentPlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:t.label}),(0,N.jsx)(h.c,{children:e.equipmentEffectiveTime}),(0,N.jsx)(h.c,{children:e.equipmentCorrectiveMaintenance}),(0,N.jsx)(h.c,{children:e.equipmentPreventiveMaintenance}),(0,N.jsx)(h.c,{children:e.equipmentOutOfService}),(0,N.jsx)(h.c,{children:e.equipmentWaiting}),(0,N.jsx)(h.c,{children:e.equipmentNoOperator}),(0,N.jsx)(h.c,{children:e.equipmentInitialHorometer}),(0,N.jsx)(h.c,{children:e.equipmentFinalHorometer}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=W.filter((r=>r.id!==e));S(r),D(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},42566:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),v=i(54451),p=i(92073),b=i(83866),y=i(49634),N=i(73216),f=i(70579);const g=()=>{const e=(0,N.zy)().pathname.includes("/edit"),r={equipmentWorkForce:void 0,equipmentWorkForceObservation:void 0,equipmentSubWorkFront:void 0,equipmentWorkFrontCharge:void 0,equipmentWorkFrontQuantity:void 0},{getData:i}=(0,y.A)(),g=i("basics"),[k,C]=(0,t.useState)(r),[F,W]=(0,t.useState)([]),[S,O]=(0,t.useState)(!1),[A,M]=(0,t.useState)(!1),{storeEquipmentWorkForce:q,removeEquipmentWorkForce:H,equipmentWorkForceList:D}=(0,v.A)(),P=e=>{if(M(!1),"equipmentWorkForce"===e.target.id){const r=g.workFront.find((r=>r.id.toString()===e.target.value.toString()));O(r.hasSubFront)}"equipmentSubWorkFront"===e.target.id||"equipmentWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...k,[e.target.id]:e.target.value}):C({...k,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||q(F)}),[F]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[" ",A&&(0,f.jsx)(c.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(a.B,{children:"Debe completar los datos de frente de trabajo, equipo y cantidad para registrar el personal"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"equipmentWorkForce",value:k.equipmentWorkForce||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),g.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),S&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentSubWorkFront",label:"SubFrente de trabajo",value:k.equipmentSubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"equipmentWorkFrontCharge",value:k.equipmentWorkFrontCharge||"",label:"Equipo",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),g.equipment.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentWorkFrontQuantity",label:"Cantidad",value:k.equipmentWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"equipmentWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:k.equipmentWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(k.equipmentWorkForce&&k.equipmentWorkFrontCharge&&k.equipmentWorkFrontQuantity){O(!1);const e={id:(0,p.A)(),equipmentWorkForce:k.equipmentWorkForce,equipmentWorkForceObservation:k.equipmentWorkForceObservation,equipmentSubWorkFront:k.equipmentSubWorkFront,equipmentWorkFrontCharge:k.equipmentWorkFrontCharge,equipmentWorkFrontQuantity:k.equipmentWorkFrontQuantity};C(r),W([...F,e])}else M(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].equipmentWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Personal"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:D.map(((e,r)=>{var i;const t=g.workFront.find((r=>r.id==e.equipmentWorkForce)),c=g.directPersonal.find((r=>r.id==e.equipmentWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:t.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(i=e.equipmentSubWorkFront)&&void 0!==i?i:"N/A"},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.equipmentWorkFrontQuantity},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.equipmentWorkForceObservation},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},e.id)}))})]})})})]})}},87921:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(65043),c=i(33906),a=i(54451),n=i(19223),o=i(70579);const l=()=>{const{asarcoMachineryList:e,totalDirectWorkForce:r}=(0,a.A)(),[i,l]=(0,t.useState)(0),[s,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(0),[m,x]=(0,t.useState)(0),[j,v]=(0,t.useState)(0),[p,b]=(0,t.useState)(0),[y,N]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[k,C]=(0,t.useState)(0),[F,W]=(0,t.useState)(0);return(0,t.useEffect)((()=>{for(let r of e)g(f+Number(r.asarcoMachineryEffectiveTime)+Number(r.asarcoMachineryScheduleMaintenance)+Number(r.asarcoMachineryScheduleDelay)+Number(r.asarcoMachineryOpperationalLoss)+Number(r.asarcoMachineryUnscheduleMaintenance)+Number(r.asarcoMachineryUnscheduleDelay)+Number(r.asarcoMachineryReserves)),l(i+Number(r.asarcoMachineryEffectiveTime)),d(s+Number(r.asarcoMachineryScheduleMaintenance)),h(u+Number(r.asarcoMachineryScheduleDelay)),x(m+Number(r.asarcoMachineryOpperationalLoss)),v(j+Number(r.asarcoMachineryUnscheduleMaintenance)),b(p+Number(r.asarcoMachineryUnscheduleDelay)),N(y+Number(r.asarcoMachineryReserves))}),[e]),(0,t.useEffect)((()=>{C(r.directSubtotalOfferedNumber),W(r.directSubtotalWorkNumber)}),[r]),(0,o.jsxs)("div",{className:"work-force-report",children:[e&&e.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Kf,{type:"pie",data:{labels:["Tiempo Efectivo (Hrs)","Mantenci\xf3n Programada (Hrs)","Demora Programada (Hrs)","Perdida Operacional (Hrs)","Mantenci\xf3n No Programada (Hrs)","Demora No Programada (Hrs)","Reservas (Hrs)"],datasets:[{labels:["Tiempo Efectivo (Hrs)","Mantenci\xf3n Programada (Hrs)","Demora Programada (Hrs)","Perdida Operacional (Hrs)","Mantenci\xf3n No Programada (Hrs)","Demora No Programada (Hrs)","Reservas (Hrs)"],hoverOffset:4,backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16","#F41203","#002312","#A12942"],data:[(i/f*100).toFixed(2),(s/f*100).toFixed(2),(u/f*100).toFixed(2),(m/f*100).toFixed(2),(j/f*100).toFixed(2),(p/f*100).toFixed(2),(y/f*100).toFixed(2)]}]},options:{showAllTooltips:!0,interaction:{intersect:!1,mode:"index"},plugins:{title:{display:!0}}}})}),r&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(c.Kf,{type:"bar",data:{labels:["Dotaci\xf3n Planeada Directos Total","Dotaci\xf3n Directos Obra Total"],datasets:[{label:"Dotaci\xf3n Directa Total",backgroundColor:["rgba(0,103,102,255)","rgba(239,132,60,255)"],borderColor:"rgb(255, 99, 132)",data:[k,F]}]},labels:"Dotaci\xf3n Directa Total",options:{plugins:{legend:{labels:{color:(0,n.A)("--cui-body-color")}}},scales:{x:{grid:{color:(0,n.A)("--cui-border-color-translucent")},ticks:{color:(0,n.A)("--cui-body-color")}},y:{grid:{color:(0,n.A)("--cui-border-color-translucent")},ticks:{color:(0,n.A)("--cui-body-color")}}}}})})]})}},90761:(e,r,i)=>{i.d(r,{A:()=>b});var t=i(65043),c=i(56351),a=i(77955),n=i(64231),o=i(84709),l=i(9580),s=i(4303),d=i(67861),u=i(96528),h=i(92845),m=i(2657),x=i(54451),j=i(92073),v=i(73216),p=i(70579);const b=()=>{var e,r,i,b;const y=(0,v.zy)().pathname.includes("/edit"),N={incident:"",nonConformity:""},[f,g]=(0,t.useState)(N),[k,C]=(0,t.useState)([]),[F,W]=(0,t.useState)(!1),{storeIncident:S,removeIncident:O,incident:A}=(0,x.A)(),M=e=>{switch(W(!1),e.target.id){case"incident":e.target.value.length<=200&&g({...f,incident:e.target.value});break;case"nonConformity":e.target.value.length<=200&&g({...f,nonConformity:e.target.value})}};return(0,t.useEffect)((()=>{y||S(k)}),[k]),(0,p.jsxs)("div",{className:"work-force-report",children:[!y&&(0,p.jsxs)(p.Fragment,{children:[" ",F&&(0,p.jsx)(c.J,{autohide:!0,visible:F,color:"danger",onClose:()=>{W(!1)},className:"text-white align-items-center",children:(0,p.jsx)("div",{className:"d-flex",children:(0,p.jsx)(a.B,{children:"Debe ingresar un incidente o una no conformidad para generar el registro"})})}),(0,p.jsx)(n.I,{id:"incident",label:"Incidentes lesiones y eventos",rows:3,value:f.incident,text:"".concat(null!==(e=null===f||void 0===f||null===(r=f.incident)||void 0===r?void 0:r.length)&&void 0!==e?e:0," de ").concat(200," caracteres"),onChange:e=>{M(e)}}),(0,p.jsx)(n.I,{id:"nonConformity",label:"No conformidades o interferencias",rows:3,text:"".concat(null!==(i=null===f||void 0===f||null===(b=f.nonConformity)||void 0===b?void 0:b.length)&&void 0!==i?i:0," de ").concat(200," caracteres"),value:f.nonConformity,onChange:e=>{M(e)}}),(0,p.jsx)("br",{}),(0,p.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(()=>{const e={id:(0,j.A)(),incident:f.incident,nonConformity:f.nonConformity};g(N),C([...k,e])})()},children:"Registrar"})]}),A.length>0&&A[0].id&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l._,{className:"resume-table",children:[(0,p.jsx)(s.w,{children:(0,p.jsxs)(d.Y,{children:[(0,p.jsx)(u.$,{scope:"col",children:"Incidente, lesi\xf3n y evento"}),(0,p.jsx)(u.$,{scope:"col",children:"No conformidad o interferencia"})]})}),(0,p.jsx)(h.C,{children:A.map(((e,r)=>(0,p.jsxs)(d.Y,{children:[(0,p.jsx)(m.c,{children:e.incident}),(0,p.jsx)(m.c,{children:e.nonConformity}),(0,p.jsx)(m.c,{children:(0,p.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=k.filter((r=>r.id!==e));g(r),O(e)})(e.id)},children:"eliminar"})})]},r)))})]})})]})}},8270:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{const e=(0,y.zy)().pathname.includes("/edit"),r={indirectWorkForce:void 0,indirectWorkForceOfferedNumber:void 0,indirectWorkForceContractedNumber:void 0,indirectWorkForceCertifiedNumber:void 0,indirectWorkForceBreakNumber:void 0,indirectWorkForceWorkNumber:void 0,indirectWorkForceHHNumber:void 0},{getData:i}=(0,b.A)(),f=i("basics"),[g,k]=(0,t.useState)(r),[C,F]=(0,t.useState)([]),[W,S]=(0,t.useState)(!1),{storeIndirectWorkForceData:O,removeIndirectWorkForce:A,indirectWorkForceList:M}=(0,j.A)(),q=e=>{S(!1),"indirectWorkForce"===e.target.id&&(k(r),k({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&k({...g,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{e||O(C)}),[C]);return(0,N.jsxs)("div",{className:"work-force-report",children:[!e&&(0,N.jsxs)(N.Fragment,{children:[W&&(0,N.jsx)(c.J,{autohide:!0,visible:W,color:"danger",onClose:()=>{S(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"indirectWorkForce",label:"Cargo",value:g.indirectWorkForce||"",onChange:e=>{q(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),f.indirectPersonal.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorOfferedNumber",placeholder:"N\xb0 Ofertado",value:g.contractAdministratorOfferedNumber||"",text:"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorContractedNumber",placeholder:"N\xb0 Contratados",value:g.contractAdministratorContractedNumber||"",text:"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorCertified",placeholder:"Acreditados",value:g.contractAdministratorCertified||"",text:"",onChange:e=>{q(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorBreakNumber",placeholder:"N\xb0 Descanso",value:g.contractAdministratorBreakNumber||"",text:"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorWorkNumber",placeholder:"N\xb0 Obra",value:g.contractAdministratorWorkNumber||"",text:"",onChange:e=>{q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"contractAdministratorHHNumber",placeholder:"HH (Turno)",value:g.contractAdministratorHHNumber||"",text:"",onChange:e=>{q(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(g.indirectWorkForce){const e={id:(0,v.A)(),indirectWorkForce:g.indirectWorkForce,offeredNumber:g.contractAdministratorOfferedNumber,contractedNumber:g.contractAdministratorContractedNumber,certified:g.contractAdministratorCertified,breakNumber:g.contractAdministratorBreakNumber,workNumber:g.contractAdministratorWorkNumber,hh:g.contractAdministratorHHNumber};k(r),F([...C,e])}else S(!0)})()},children:"Registrar"})]}),M.length>0&&M[0].indirectWorkForce&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,N.jsx)(d.$,{scope:"col"})]})}),(0,N.jsx)(u.C,{children:M.map(((e,r)=>{const i=f.indirectPersonal.find((r=>r.id==e.indirectWorkForce));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:e.offeredNumber}),(0,N.jsx)(h.c,{children:e.contractedNumber}),(0,N.jsx)(h.c,{children:e.certified}),(0,N.jsx)(h.c,{children:e.breakNumber}),(0,N.jsx)(h.c,{children:e.workNumber}),(0,N.jsx)(h.c,{children:e.hh}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=C.filter((r=>r.id!==e));F(r),A(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},81925:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r,i,f,g,k;const C=(0,y.zy)().pathname.includes("/edit"),F={aljibe:void 0,aljibeCachimbaName:void 0,aljibeQuantityTurns:void 0,aljibeM3:void 0,aljibePlate:void 0,aljibeOfferedNumber:void 0,aljibeCertifiedNumber:void 0,aljibeWorkNumber:void 0},{getData:W}=(0,b.A)(),S=W("basics"),[O,A]=(0,t.useState)(F),[M,q]=(0,t.useState)([]),[H,D]=(0,t.useState)({aljibeCachimbaName:0,aljibeQuantityTurns:0,aljibeM3:0,aljibePlate:0,aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeWorkNumber:0}),[P,$]=(0,t.useState)(),[E,T]=(0,t.useState)(!1),{storealjibe:w,removealjibe:L,aljibeList:Y}=(0,j.A)(),Q=e=>{if(T(!1),"aljibe"===e.target.id)if(A(F),A({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=S.aljibe.find((r=>r.id.toString()===e.target.value.toString()));$(r.plate)}else $();else"aljibePlate"===e.target.id?"0"!==e.target.value?A({...O,[e.target.id]:e.target.value}):A({...O,[e.target.id]:"0"}):("aljibeCachimbaName"===e.target.id&&A({...O,aljibeCachimbaName:e.target.value}),(0,p.t)(e.target.value)&&A({...O,[e.target.id]:e.target.value}))};return(0,t.useEffect)((()=>{C||w(M)}),[M]),(0,t.useEffect)((()=>{let e={aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeM3:0,aljibeWorkNumber:0,aljibeQuantityTurns:0};for(let n of Y){var r,i,t,c,a;e={aljibeOfferedNumber:Number(e.aljibeOfferedNumber)+Number(null!==(r=n.aljibeOfferedNumber)&&void 0!==r?r:0),aljibeCertifiedNumber:Number(e.aljibeCertifiedNumber)+Number(null!==(i=n.aljibeCertifiedNumber)&&void 0!==i?i:0),aljibeM3:Number(e.aljibeM3)+Number(null!==(t=n.aljibeM3)&&void 0!==t?t:0),aljibeWorkNumber:Number(e.aljibeWorkNumber)+Number(null!==(c=n.aljibeWorkNumber)&&void 0!==c?c:0),aljibeQuantityTurns:Number(e.aljibeQuantityTurns)+Number(null!==(a=n.aljibeQuantityTurns)&&void 0!==a?a:0)}}D(e)}),[Y]),(0,N.jsxs)("div",{className:"work-force-report",children:[!C&&(0,N.jsxs)(N.Fragment,{children:[" ",E&&(0,N.jsx)(c.J,{autohide:!0,visible:E,color:"danger",onClose:()=>{T(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el aljibe y su patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Aljibe",id:"aljibe",value:O.aljibe||"",onChange:e=>{Q(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),S.aljibe.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),P&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"aljibePlate",value:null!==(e=O.aljibePlate)&&void 0!==e?e:0,onChange:e=>{Q(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),P.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeOfferedNumber",value:O.aljibeOfferedNumber||"",text:"",onChange:e=>{Q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeCertifiedNumber",value:O.aljibeCertifiedNumber||"",text:"",onChange:e=>{Q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeWorkNumber",value:O.aljibeWorkNumber||"",text:"",onChange:e=>{Q(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad de m3"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeCachimbaName",value:O.aljibeCachimbaName||"",text:"",onChange:e=>{Q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeQuantityTurns",value:O.aljibeQuantityTurns||"",text:"",onChange:e=>{Q(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"aljibeM3",value:O.aljibeM3||"",text:"",onChange:e=>{Q(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(O.aljibe&&"0"!==O.aljibe&&O.aljibePlate&&"0"!==O.aljibePlate){$();const e={id:(0,v.A)(),aljibe:O.aljibe,aljibeCachimbaName:O.aljibeCachimbaName,aljibeQuantityTurns:O.aljibeQuantityTurns,aljibeM3:O.aljibeM3,aljibePlate:O.aljibePlate,aljibeOfferedNumber:O.aljibeOfferedNumber,aljibeCertifiedNumber:O.aljibeCertifiedNumber,aljibeWorkNumber:O.aljibeWorkNumber};A(F),q([...M,e])}else T(!0)})()},children:"Registrar"})]}),Y.length>0&&Y[0].aljibe&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Aljibe"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,N.jsx)(d.$,{scope:"col",children:"Cantidad de m3"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,N.jsxs)(u.C,{children:[Y.map(((e,r)=>{var i,t,c,a,n,o,l,d;const u=S.aljibe.find((r=>r.id==e.aljibe)),m=u.plate.find((r=>r.id.toString()===e.aljibePlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:null!==(i=u.name)&&void 0!==i?i:""}),(0,N.jsx)(h.c,{children:null!==(t=m.label)&&void 0!==t?t:""}),(0,N.jsx)(h.c,{children:null!==(c=e.aljibeCachimbaName)&&void 0!==c?c:0}),(0,N.jsx)(h.c,{children:null!==(a=e.aljibeQuantityTurns)&&void 0!==a?a:0}),(0,N.jsx)(h.c,{children:null!==(n=e.aljibeM3)&&void 0!==n?n:0}),(0,N.jsx)(h.c,{children:null!==(o=e.aljibeOfferedNumber)&&void 0!==o?o:0}),(0,N.jsx)(h.c,{children:null!==(l=e.aljibeCertifiedNumber)&&void 0!==l?l:0}),(0,N.jsx)(h.c,{children:null!==(d=e.aljibeWorkNumber)&&void 0!==d?d:0}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=M.filter((r=>r.id!==e));q(r),L(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{}),(0,N.jsx)(h.c,{}),(0,N.jsx)(h.c,{children:null!==(r=H.aljibeQuantityTurns)&&void 0!==r?r:0}),(0,N.jsx)(h.c,{children:null!==(i=H.aljibeM3)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(f=H.aljibeOfferedNumber)&&void 0!==f?f:0}),(0,N.jsx)(h.c,{children:null!==(g=H.aljibeCertifiedNumber)&&void 0!==g?g:0}),(0,N.jsx)(h.c,{children:null!==(k=H.aljibeWorkNumber)&&void 0!==k?k:0})]},"total")]})]})]})}},31486:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),j=i(2657),v=i(54451),p=i(92073),b=i(83866),y=i(49634),N=i(73216),f=i(70579);const g=()=>{const e=(0,N.zy)().pathname.includes("/edit"),r={machineryWorkForce:void 0,machineryWorkForceObservation:void 0,machinerySubWorkFront:void 0,machineryWorkFrontCharge:void 0,machineryWorkFrontQuantity:void 0},{getData:i}=(0,y.A)(),g=i("basics"),[k,C]=(0,t.useState)(r),[F,W]=(0,t.useState)([]),[S,O]=(0,t.useState)(!1),[A,M]=(0,t.useState)(!1),{storeMachineryWorkForce:q,removeMachineryWorkForce:H,machineryWorkForceList:D}=(0,v.A)(),P=e=>{if(M(!1),"machineryWorkForce"===e.target.id){const r=g.workFront.find((r=>r.id.toString()===e.target.value.toString()));O(r.hasSubFront)}"machinerySubWorkFront"===e.target.id||"machineryWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&C({...k,[e.target.id]:e.target.value}):C({...k,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{e||q(F)}),[F]),(0,f.jsxs)("div",{className:"work-force-report",children:[!e&&(0,f.jsxs)(f.Fragment,{children:[" ",A&&(0,f.jsx)(c.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(a.B,{children:"Debe completar los datos de frente de trabajo, maquinaria y cantidad para registrar el personal"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"machineryWorkForce",value:k.machineryWorkForce||"",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),g.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),S&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machinerySubWorkFront",label:"SubFrente de trabajo",value:k.machinerySubWorkFront||"",text:"",onChange:e=>{P(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"machineryWorkFrontCharge",value:k.machineryWorkFrontCharge||"",label:"Maquinaria",onChange:e=>{P(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),g.machinery.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machineryWorkFrontQuantity",label:"Cantidad",value:k.machineryWorkFrontQuantity||"",text:"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"machineryWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:k.machineryWorkForceObservation||"",onChange:e=>{P(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(k.machineryWorkForce&&k.machineryWorkFrontCharge&&k.machineryWorkFrontQuantity){O(!1);const e={id:(0,p.A)(),machineryWorkForcebservation:k.machineryWorkForceObservation,machineryWorkForce:k.machineryWorkForce,machinerySubWorkFront:k.machinerySubWorkFront,machineryWorkFrontCharge:k.machineryWorkFrontCharge,machineryWorkFrontQuantity:k.machineryWorkFrontQuantity};C(r),W([...F,e])}else M(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].machineryWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Personal"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:D.map(((e,r)=>{var i;const t=g.workFront.find((r=>r.id==e.machineryWorkForce)),c=g.directPersonal.find((r=>r.id==e.machineryWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:t.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:null!==(i=e.machinerySubWorkFront)&&void 0!==i?i:"N/A"},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.machineryWorkFrontQuantity},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)("span",{children:e.machineryWorkForceObservation},e.id)}),(0,f.jsx)(j.c,{children:(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},e.id)}))})]})})]})}},89756:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname.includes("/edit"),i={machinery:void 0,machineryOfferedNumber:void 0,machineryCertifiedNumber:void 0,machineryWorkNumber:void 0},{getData:f}=(0,b.A)(),g=f("basics"),[k,C]=(0,t.useState)(i),[F,W]=(0,t.useState)([]),[S,O]=(0,t.useState)({machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0}),[A,M]=(0,t.useState)(!1),{storeMachinery:q,removeMachinery:H,machineryList:D}=(0,j.A)(),P=e=>{M(!1),"machinery"===e.target.id&&(C(i),C({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&C({...k,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{r||q(F)}),[F]),(0,t.useEffect)((()=>{let e={machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0};for(let c of D){var r,i,t;e={machineryOfferedNumber:Number(e.machineryOfferedNumber)+Number(null!==(r=c.actions.machineryOfferedNumber)&&void 0!==r?r:0),machineryCertifiedNumber:Number(e.machineryCertifiedNumber)+Number(null!==(i=c.actions.machineryCertifiedNumber)&&void 0!==i?i:0),machineryWorkNumber:Number(e.machineryWorkNumber)+Number(null!==(t=c.actions.machineryWorkNumber)&&void 0!==t?t:0)}}O(e)}),[D]),(0,N.jsxs)("div",{className:"work-force-report",children:[!r&&(0,N.jsxs)(N.Fragment,{children:[" ",A&&(0,N.jsx)(c.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar la maquinaria para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"machinery",value:null!==(e=k.machinery)&&void 0!==e?e:0,label:"Maquinaria",onChange:e=>{P(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),g.machinery.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,N.jsx)(u.C,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"machineryOfferedNumber",value:k.machineryOfferedNumber||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"machineryCertifiedNumber",value:k.machineryCertifiedNumber||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"machineryWorkNumber",value:k.machineryWorkNumber||"",text:"",onChange:e=>{P(e)}})})]})})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(k.machinery){const e={id:(0,v.A)(),machinery:k.machinery,actions:{machineryOfferedNumber:k.machineryOfferedNumber,machineryCertifiedNumber:k.machineryCertifiedNumber,machineryWorkNumber:k.machineryWorkNumber}};C(i),W([...F,e])}else M(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].machinery&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,N.jsxs)(u.C,{children:[D.map(((e,r)=>{var i,t,c;const a=g.machinery.find((r=>r.id==e.machinery));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:a.name}),(0,N.jsx)(h.c,{children:null!==(i=e.actions.machineryOfferedNumber)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(t=e.actions.machineryCertifiedNumber)&&void 0!==t?t:0}),(0,N.jsx)(h.c,{children:null!==(c=e.actions.machineryWorkNumber)&&void 0!==c?c:0}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{children:S.machineryOfferedNumber}),(0,N.jsx)(h.c,{children:S.machineryCertifiedNumber}),(0,N.jsx)(h.c,{children:S.machineryWorkNumber})]},"total")]})]})]})}},56732:(e,r,i)=>{i.d(r,{A:()=>o});i(65043);var t=i(44101),c=i(44227),a=i(10825),n=(i(54451),i(70579));const o=()=>(0,n.jsx)("div",{className:"work-force-report",children:(0,n.jsx)("section",{children:Array.from({length:10},((e,r)=>(0,n.jsxs)(t.s,{children:[(0,n.jsx)(c.U,{children:(0,n.jsx)(a.O,{type:"text",id:"equipmentCorrectiveMaintenance",label:"Descripci\xf3n",text:""})}),(0,n.jsx)(c.U,{children:(0,n.jsx)(a.O,{type:"file",id:"inputGroupFile03","aria-describedby":"inputGroupFileAddon03",label:"Fotograf\xeda","aria-label":"Upload"})})]},r)))})})},31148:(e,r,i)=>{i.d(r,{A:()=>j});var t=i(65043),c=i(9580),a=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const j=()=>{const e=(0,m.zy)().pathname.includes("/edit"),r={directSubtotalOfferedNumber:void 0,directSubtotalContractedNumber:void 0,directSubtotalCertifiedNumber:void 0,directSubtotalBreakNumber:void 0,directSubtotalWorkNumber:void 0,directSubtotalHHNumber:void 0,directPreviusAccumulated:void 0,directCurrentAccumulated:void 0},{storeTotalDirectWorkForce:i,directWorkForceList:j,totalDirectWorkForce:v}=(0,u.A)(),[p,b]=(0,t.useState)(r),[y,N]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[k,C]=(0,t.useState)(0),[F,W]=(0,t.useState)(0),[S,O]=(0,t.useState)(0),[A,M]=(0,t.useState)(0),[q,H]=(0,t.useState)(0),[D,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(0);return(0,t.useEffect)((()=>{b({...p,directCurrentAccumulated:D})}),[D]),(0,t.useEffect)((()=>{if(e)N(v.directSubstotalHHNumber),g(v.directSubtotalOfferedNumber),C(v.directSubtotalContractedNumber),W(v.directSubtotalCertifiedNumber),O(v.directSubtotalBreakNumber),M(v.directSubtotalWorkNumber),P(v.directCurrentAccumulated),H(v.directPreviusAccumulated);else{let e=0,r=0,i=0,t=0,c=0,a=0,n=0;for(let l of j)n++,E(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),c+=Number(l.breakNumber),a+=Number(l.workNumber);N(e),g(r),C(i),W(t),O(c),M(a),P(Number(p.directPreviusAccumulated)+Number(e));const o={directSubtotalOfferedNumber:r,directSubtotalContractedNumber:i,directSubtotalCertifiedNumber:t,directSubtotalBreakNumber:c,directSubtotalWorkNumber:a,directSubstotalHHNumber:e,directPreviusAccumulated:p.directPreviusAccumulated||0,directCurrentAccumulated:Number(p.directPreviusAccumulated)+Number(e)};b(o)}}),[j]),(0,t.useEffect)((()=>{!e&&$>0&&i(p)}),[p]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(c._,{children:[(0,x.jsx)(a.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal Directos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalOfferedNumber",value:f||"0",placeholder:"N\xb0 Ofertado",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalContractedNumber",placeholder:"N\xb0 Contratados",value:k||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalCertifiedNumber",placeholder:"Acreditados",value:F||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalBreakNumber",placeholder:"N\xb0 Descanso",value:S||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalWorkNumber",placeholder:"N\xb0 Obra",value:A||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalHHNumber",placeholder:"HH (Turno)",value:y||"0",text:"",disabled:!0})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directPreviusAccumulated",value:e?q:p.directPreviusAccumulated||"",disabled:e,placeholder:"Total",text:"",onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(b({...p,directPreviusAccumulated:e.target.value}),P(Number(e.target.value)+Number(y)))})(e)}})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directCurrentAccumulated",value:D||"0",placeholder:"Total",text:"",disabled:!0})})]})]})]})})}},56627:(e,r,i)=>{i.d(r,{A:()=>j});var t=i(65043),c=i(9580),a=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const j=()=>{const e=(0,m.zy)().pathname,r={indirectSubtotalOfferedNumber:void 0,indirectSubtotalContractedNumber:void 0,indirectSubtotalCertifiedNumber:void 0,indirectSubtotalBreakNumber:void 0,indirectSubtotalWorkNumber:void 0,indirectSubtotalHHNumber:void 0,indirectPreviusAccumulated:void 0,indirectCurrentAccumulated:void 0},{storeTotalIndirectWorkForce:i,indirectWorkForceList:j,totalIndirectWorkForce:v}=(0,u.A)(),[p,b]=(0,t.useState)(r),[y,N]=(0,t.useState)(0),[f,g]=(0,t.useState)(0),[k,C]=(0,t.useState)(0),[F,W]=(0,t.useState)(0),[S,O]=(0,t.useState)(0),[A,M]=(0,t.useState)(0),[q,H]=(0,t.useState)(0),[D,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(0);return(0,t.useEffect)((()=>{b({...p,indirectCurrentAccumulated:D})}),[D]),(0,t.useEffect)((()=>{if(e.includes("/edit"))N(v.indirectSubstotalHHNumber),g(v.indirectSubtotalOfferedNumber),C(v.indirectSubtotalContractedNumber),W(v.indirectSubtotalCertifiedNumber),O(v.indirectSubtotalBreakNumber),M(v.indirectSubtotalWorkNumber),P(v.indirectCurrentAccumulated),H(v.indirectPreviusAccumulated);else{let e=0,r=0,i=0,t=0,c=0,a=0,n=0;for(let l of j)n++,E(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),c+=Number(l.breakNumber),a+=Number(l.workNumber);N(e),g(r),C(i),W(t),O(c),M(a),P(Number(p.indirectPreviusAccumulated)+Number(e));const o={indirectSubtotalOfferedNumber:r,indirectSubtotalContractedNumber:i,indirectSubtotalCertifiedNumber:t,indirectSubtotalBreakNumber:c,indirectSubtotalWorkNumber:a,indirectSubstotalHHNumber:e,indirectPreviusAccumulated:p.indirectPreviusAccumulated||0,indirectCurrentAccumulated:Number(p.indirectPreviusAccumulated)+Number(e)};b(o)}}),[j]),(0,t.useEffect)((()=>{!e.includes("/edit")&&$>0&&i(p)}),[p]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(c._,{children:[(0,x.jsx)(a.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal indirectos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalOfferedNumber",value:f||"0",disabled:!0,placeholder:"N\xb0 Ofertado",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalContractedNumber",value:k||"0",disabled:!0,placeholder:"N\xb0 Contratados",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalCertifiedNumber",value:F||"0",placeholder:"Acreditados",disabled:!0,text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalBreakNumber",value:S||"0",disabled:!0,placeholder:"N\xb0 Descanso",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalWorkNumber",value:A||"0",disabled:!0,placeholder:"N\xb0 Obra",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalHHNumber",value:y||"0",disabled:!0,placeholder:"HH (Turno)",text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectPreviusAccumulated",value:e.includes("/edit")?q:p.indirectPreviusAccumulated||"",disabled:e.includes("/edit"),onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(b({...p,indirectPreviusAccumulated:e.target.value}),P(Number(e.target.value)+Number(y)))})(e)},text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectCurrentAccumulated",value:D||"0",disabled:!0,placeholder:"Total",text:""})})]})]})]})})}},63171:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname.includes("/edit"),i={vehicle:void 0,vehicleEffectiveTime:void 0,vehicleCorrectiveMaintenance:void 0,vehiclePreventiveMaintenance:void 0,vehicleOutOfService:void 0,vehicleWaiting:void 0,vehicleNoOperator:void 0,vehicleInitialHorometer:void 0,vehicleFinalHorometer:void 0,vehiclePlate:void 0},{getData:f}=(0,b.A)(),g=f("basics"),[k,C]=(0,t.useState)(i),[F,W]=(0,t.useState)([]),[S,O]=(0,t.useState)(),[A,M]=(0,t.useState)(!1),{storeVehiclePlate:q,removeVehiclePlate:H,vehiclePlateList:D}=(0,j.A)(),P=e=>{if(M(!1),"vehicle"===e.target.id)if(C(i),C({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=g.vehicles.find((r=>r.id.toString()===e.target.value.toString()));O(r.plate)}else O();else"vehiclePlate"===e.target.id?"0"!==e.target.value?C({...k,[e.target.id]:e.target.value}):C({...k,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&C({...k,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{r||q(F)}),[F]),(0,N.jsxs)("div",{className:"work-force-report",children:[!r&&(0,N.jsxs)(N.Fragment,{children:[A&&(0,N.jsx)(c.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{M(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el equipo y la patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",value:k.vehicle||0,label:"Veh\xedculo",onChange:e=>{P(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),g.vehicles.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),S&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"vehiclePlate",value:null!==(e=k.vehiclePlate)&&void 0!==e?e:0,onChange:e=>{P(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),S.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleEffectiveTime",value:k.vehicleEffectiveTime||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleCorrectiveMaintenance",value:k.vehicleCorrectiveMaintenance||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehiclePreventiveMaintenance",value:k.vehiclePreventiveMaintenance||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleOutOfService",value:k.vehicleOutOfService||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleWaiting",value:k.vehicleWaiting||"",text:"",onChange:e=>{P(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleNoOperator",value:k.vehicleNoOperator||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleInitialHorometer",value:k.vehicleInitialHorometer||"",text:"",onChange:e=>{P(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleFinalHorometer",value:k.vehicleFinalHorometer||"",text:"",onChange:e=>{P(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(k.vehicle&&"0"!==k.vehicle&&k.vehiclePlate&&"0"!==k.vehiclePlate){O();const e={id:(0,v.A)(),vehicle:k.vehicle,vehicleEffectiveTime:k.vehicleEffectiveTime,vehicleCorrectiveMaintenance:k.vehicleCorrectiveMaintenance,vehiclePreventiveMaintenance:k.vehiclePreventiveMaintenance,vehicleOutOfService:k.vehicleOutOfService,vehicleWaiting:k.vehicleWaiting,vehicleNoOperator:k.vehicleNoOperator,vehicleInitialHorometer:k.vehicleInitialHorometer,vehicleFinalHorometer:k.vehicleFinalHorometer,vehiclePlate:k.vehiclePlate};C(i),W([...F,e])}else M(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].vehicle&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Veh\xedculo"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,N.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro Final "})]})}),(0,N.jsx)(u.C,{children:D.map(((e,r)=>{var i,t,c,a,n,o,l,d;const u=g.vehicles.find((r=>r.id==e.vehicle)),m=u.plate.find((r=>r.id.toString()===e.vehiclePlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:u.name}),(0,N.jsx)(h.c,{children:m.label}),(0,N.jsx)(h.c,{children:null!==(i=e.vehicleEffectiveTime)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(t=e.vehicleCorrectiveMaintenance)&&void 0!==t?t:0}),(0,N.jsx)(h.c,{children:null!==(c=e.vehiclePreventiveMaintenance)&&void 0!==c?c:0}),(0,N.jsx)(h.c,{children:null!==(a=e.vehicleOutOfService)&&void 0!==a?a:0}),(0,N.jsx)(h.c,{children:null!==(n=e.vehicleWaiting)&&void 0!==n?n:0}),(0,N.jsx)(h.c,{children:null!==(o=e.vehicleNoOperator)&&void 0!==o?o:0}),(0,N.jsx)(h.c,{children:null!==(l=e.vehicleInitialHorometer)&&void 0!==l?l:0}),(0,N.jsx)(h.c,{children:null!==(d=e.vehicleFinalHorometer)&&void 0!==d?d:0}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=F.filter((r=>r.id!==e));W(r),H(e)})(e.id)},children:"eliminar"})})]},r)}))})]})]})}},26460:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),c=i(56351),a=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),j=i(54451),v=i(92073),p=i(83866),b=i(49634),y=i(73216),N=i(70579);const f=()=>{var e,r,i;const f=(0,y.zy)().pathname.includes("/edit"),g={vehicle:void 0,vehicleOfferedNumber:void 0,vehicleCertifiedNumber:void 0,vehicleWorkNumber:void 0},{getData:k}=(0,b.A)(),C=k("basics"),[F,W]=(0,t.useState)(g),[S,O]=(0,t.useState)([]),[A,M]=(0,t.useState)({vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0}),[q,H]=(0,t.useState)(!1),{storeVehicle:D,removeVehicle:P,vehicleList:$}=(0,j.A)(),E=e=>{H(!1),"vehicle"===e.target.id&&(W(g),W({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value})};return(0,t.useEffect)((()=>{f||D(S)}),[S]),(0,t.useEffect)((()=>{let e={vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0};for(let c of $){var r,i,t;e={vehicleOfferedNumber:Number(e.vehicleOfferedNumber)+Number(null!==(r=c.actions.vehicleOfferedNumber)&&void 0!==r?r:0),vehicleCertifiedNumber:Number(e.vehicleCertifiedNumber)+Number(null!==(i=c.actions.vehicleCertifiedNumber)&&void 0!==i?i:0),vehicleWorkNumber:Number(e.vehicleWorkNumber)+Number(null!==(t=c.actions.vehicleWorkNumber)&&void 0!==t?t:0)}}M(e)}),[$]),(0,N.jsxs)("div",{className:"work-force-report",children:[!f&&(0,N.jsxs)(N.Fragment,{children:[q&&(0,N.jsx)(c.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{H(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(a.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",label:"Veh\xedculo",value:F.vehicle||"",onChange:e=>{E(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),C.vehicles.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,N.jsx)(u.C,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleOfferedNumber",value:F.vehicleOfferedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleCertifiedNumber",value:F.vehicleCertifiedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"vehicleWorkNumber",value:F.vehicleWorkNumber||"",text:"",onChange:e=>{E(e)}})})]})})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.vehicle&&"0"!==F.vehicle){const e={id:(0,v.A)(),vehicle:F.vehicle,actions:{vehicleOfferedNumber:F.vehicleOfferedNumber,vehicleCertifiedNumber:F.vehicleCertifiedNumber,vehicleWorkNumber:F.vehicleWorkNumber}};W(g),O([...S,e])}else H(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].vehicle&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,N.jsxs)(u.C,{children:[$.map(((e,r)=>{var i,t,c;const a=C.vehicles.find((r=>r.id==e.vehicle));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:a.name}),(0,N.jsx)(h.c,{children:null!==(i=e.actions.vehicleOfferedNumber)&&void 0!==i?i:0}),(0,N.jsx)(h.c,{children:null!==(t=e.actions.vehicleCertifiedNumber)&&void 0!==t?t:0}),(0,N.jsx)(h.c,{children:null!==(c=e.actions.vehicleWorkNumber)&&void 0!==c?c:0}),(0,N.jsx)(h.c,{children:(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=S.filter((r=>r.id!==e));O(r),P(e)})(e.id)},children:"eliminar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{children:null!==(e=A.vehicleOfferedNumber)&&void 0!==e?e:0}),(0,N.jsx)(h.c,{children:null!==(r=A.vehicleCertifiedNumber)&&void 0!==r?r:0}),(0,N.jsx)(h.c,{children:null!==(i=A.vehicleWorkNumber)&&void 0!==i?i:0})]},"total")]})]})]})}},84998:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(47097),c=i(65043),a=i(77154),n=i(28452),o=i(35761);const l=()=>{const{getProject:e,getContract:r}=(0,o.A)(),i=JSON.parse(e()),l=JSON.parse(r()),[s,d]=(0,c.useState)(!1),[u,h]=(0,c.useState)(!1),[m,x]=(0,c.useState)(!1),{company:j,indirectWorkForceList:v,directWorkForceList:p,totalIndirectWorkForce:b,totalDirectWorkForce:y,directDotationWorkForceList:N,machineryWorkForceList:f,equipmentWorkForceList:g,vehicleWorkForceList:k,incident:C,comment:F,machineryList:W,equipmentList:S,vehicleList:O,activityList:A,asarcoMachineryList:M,equipmentPlateList:q,vehiclePlateList:H,aljibeList:D}=(0,c.useContext)(n.D),{mutate:P}=(0,t.n)({mutationFn:async e=>a.A.post("https://pyg-production.up.railway.app/api/v1/reports",e),onSuccess:()=>{d(!1),x(!0)},onError:e=>{d(!1),x(!1),h(e.message)}});let $=[],E={};for(let t of S)E={},E.equipment=t.equipment,E.actions=JSON.stringify(t.actions),$.push(E);let T=[],w={};for(let t of W)w={},w.machinery=t.machinery,w.actions=JSON.stringify(t.actions),T.push(w);let L=[],Y={};for(let t of O)Y={},Y.vehicle=t.vehicle,Y.actions=JSON.stringify(t.actions),L.push(Y);return{registerData:async()=>{d(!0),h(),x(!1);return P({projectId:i.id,contractId:l.id,company:j,indirectWorkForceList:v,totalIndirectWorkForce:b,directWorkForceList:p,totalDirectWorkForce:y,directDotationWorkForceList:N,machineryList:T,machineryWorkForceList:f,equipmentList:$,equipmentWorkForceList:g,vehicleList:L,vehiclePlateList:H,activityList:A,comment:F.comment,incident:C,asarcoMachineryList:M,equipmentPlateList:q,aljibeList:D})},loading:s,error:u,success:m}}},54451:(e,r,i)=>{i.d(r,{A:()=>a});var t=i(65043),c=i(28452);const a=()=>{const{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:a,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:j,indirectDotationWorkForceList:v,storeDirectDotationWorkForceData:p,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:N,machineryWorkForceList:f,storeMachineryWorkForce:g,removeMachineryWorkForce:k,storeEquipmentWorkForce:C,removeEquipmentWorkForce:F,equipmentWorkForceList:W,storeVehicleWorkForce:S,removeVehicleWorkForce:O,vehicleWorkForceList:A,storeComment:M,comment:q,storeIncident:H,incident:D,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:T,storeEquipment:w,removeEquipment:L,equipmentList:Y,storeVehicle:Q,removeVehicle:I,vehicleList:R,storeActivity:U,removeActivity:V,activityList:B,storeAsarcoMachinery:_,removeAsarcoMachinery:J,asarcoMachineryList:z,storeEquipmentPlate:G,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ce}=(0,t.useContext)(c.D);return{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:a,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:j,indirectDotationWorkForceList:v,storeDirectDotationWorkForceData:p,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:N,machineryWorkForceList:f,storeMachineryWorkForce:g,removeMachineryWorkForce:k,storeEquipmentWorkForce:C,removeEquipmentWorkForce:F,equipmentWorkForceList:W,storeVehicleWorkForce:S,removeVehicleWorkForce:O,vehicleWorkForceList:A,storeComment:M,comment:q,storeIncident:H,incident:D,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:T,storeEquipment:w,removeEquipment:L,equipmentList:Y,storeVehicle:Q,removeVehicle:I,vehicleList:R,storeActivity:U,removeActivity:V,activityList:B,storeAsarcoMachinery:_,removeAsarcoMachinery:J,asarcoMachineryList:z,storeEquipmentPlate:G,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ce}}},83866:(e,r,i)=>{i.d(r,{t:()=>t});const t=e=>e.match(/^[0-9]*\.?[0-9]*$/)}}]);
//# sourceMappingURL=10.eeb5d84d.chunk.js.map