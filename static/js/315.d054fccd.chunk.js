"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[315],{49957:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname,f=i.includes("/view"),N="/informe-diario"===i,g={activityFrontWork:void 0,primaveraId:void 0,activityName:void 0,activityDiscipline:void 0,activityTotalAmount:void 0,activityPreviousAcumulatedAmount:void 0,activityActualShiftQuantity:void 0,activityAccumulatedAcvancePercent:void 0,activityUnit:void 0,activityHoursSpendPrevius:void 0,activityHoursSpendShift:void 0,activityHoursAccumulated:void 0},{getData:C}=(0,b.A)(),F=C("basics"),[W,S]=(0,t.useState)(g),[A,O]=(0,t.useState)([]),[M,q]=(0,t.useState)(!1),{storeActivity:D,removeActivity:H,activityList:P}=(0,v.A)(),$=e=>{q(!1),"activityFrontWork"===e.target.id&&(S(g),S({[e.target.id]:e.target.value})),"activityTotalAmount"===e.target.id||"activityPreviousAcumulatedAmount"===e.target.id||"activityActualShiftQuantity"===e.target.id||"activityAccumulatedAcvancePercent"===e.target.id||"activityHoursSpendPrevius"===e.target.id||"activityHoursSpendShift"===e.target.id||"activityHoursAccumulated"===e.target.id?(0,p.t)(e.target.value)&&S({...W,[e.target.id]:e.target.value}):S({...W,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{const e=W.activityHoursSpendShift?Number(W.activityHoursSpendShift):0,r=W.activityHoursSpendPrevius?Number(W.activityHoursSpendPrevius):0;S({...W,activityHoursAccumulated:r+e})}),[W.activityHoursSpendShift,W.activityHoursSpendPrevius]),(0,t.useEffect)((()=>{if(W.activityPreviousAcumulatedAmount&&W.activityActualShiftQuantity&&W.activityTotalAmount){const e=W.activityPreviousAcumulatedAmount?Number(W.activityPreviousAcumulatedAmount):0,r=((W.activityActualShiftQuantity?Number(W.activityActualShiftQuantity):0)+e)/(W.activityTotalAmount?Number(W.activityTotalAmount):0);S({...W,activityAccumulatedAcvancePercent:r.toFixed(2)})}}),[W.activityPreviousAcumulatedAmount,W.activityActualShiftQuantity,W.activityTotalAmount]);const E=e=>{const r=P.filter((r=>r.id!==e));O(r),H(e)};return(0,t.useEffect)((()=>{f||D(A)}),[A]),(0,k.jsxs)("div",{className:"work-force-report",children:[!f&&(0,k.jsxs)(k.Fragment,{children:[M&&(0,k.jsx)(a.J,{autohide:!0,visible:M,color:"danger",onClose:()=>{q(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el frente de trabajo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"activityFrontWork",label:"Frente de trabajo",value:null!==(e=W.activityFrontWork)&&void 0!==e?e:0,onChange:e=>{$(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),F.workFront.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,k.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"primaveraId",value:W.primaveraId||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityName",value:W.activityName||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"activityDiscipline",value:null!==(r=W.activityDiscipline)&&void 0!==r?r:"0",onChange:e=>{$(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),(0,k.jsx)("option",{value:"Obras_civiles",children:"Obras Civiles"}),(0,k.jsx)("option",{value:"Movimiento_de_tierra",children:"Movimiento de tierra"})]})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityTotalAmount",value:W.activityTotalAmount||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityPreviousAcumulatedAmount",value:W.activityPreviousAcumulatedAmount||"",text:"",onChange:e=>{$(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,k.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityActualShiftQuantity",value:W.activityActualShiftQuantity||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityAccumulatedAcvancePercent",value:W.activityAccumulatedAcvancePercent||"",disabled:!0,text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityUnit",value:W.activityUnit||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursSpendPrevius",value:W.activityHoursSpendPrevius||"",text:"",onChange:e=>{$(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursSpendShift",value:W.activityHoursSpendShift||"",text:"",onChange:e=>{$(e)}})})]}),(0,k.jsx)(s.Y,{children:(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"})}),(0,k.jsx)(s.Y,{children:(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"activityHoursAccumulated",value:W.activityHoursAccumulated||"",disabled:!0,text:"",onChange:e=>{$(e)}})})})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(W.activityFrontWork&&"0"!==W.activityFrontWork){const e={id:(0,j.A)(),activityFrontWork:W.activityFrontWork,primaveraId:W.primaveraId,activityName:W.activityName,activityDiscipline:W.activityDiscipline,activityTotalAmount:W.activityTotalAmount,activityPreviousAcumulatedAmount:W.activityPreviousAcumulatedAmount,activityActualShiftQuantity:W.activityActualShiftQuantity,activityAccumulatedAcvancePercent:W.activityAccumulatedAcvancePercent,activityUnit:W.activityUnit,activityHoursSpendPrevius:W.activityHoursSpendPrevius,activityHoursSpendShift:W.activityHoursSpendShift,activityHoursAccumulated:W.activityHoursAccumulated};S(g),O([...P,e])}else q(!0)})()},children:"Registrar"})]}),P.length>0&&P[0].activityFrontWork&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"ID Actividad Primavera"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre de Actividad"}),(0,k.jsx)(d.$,{scope:"col",children:"Disciplina"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Total"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Acum Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"% Avance Acumulado"}),(0,k.jsx)(d.$,{scope:"col",children:"Unidad"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada Anterior"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Real Turno"}),(0,k.jsx)(d.$,{scope:"col",children:"HH Gastada Acumulada"}),(0,k.jsx)(d.$,{scope:"col"})]})}),(0,k.jsx)(u.C,{children:P.map(((e,r)=>{const i=F.workFront.find((r=>r.id==e.activityFrontWork));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:i.name}),(0,k.jsx)(h.c,{children:e.primaveraId}),(0,k.jsx)(h.c,{children:e.activityName}),(0,k.jsx)(h.c,{children:e.activityDiscipline}),(0,k.jsx)(h.c,{children:e.activityTotalAmount}),(0,k.jsx)(h.c,{children:e.activityPreviousAcumulatedAmount}),(0,k.jsx)(h.c,{children:e.activityActualShiftQuantity}),(0,k.jsx)(h.c,{children:e.activityAccumulatedAcvancePercent}),(0,k.jsx)(h.c,{children:e.activityUnit}),(0,k.jsx)(h.c,{children:e.activityHoursSpendPrevius}),(0,k.jsx)(h.c,{children:e.activityHoursSpendShift}),(0,k.jsx)(h.c,{children:e.activityHoursAccumulated}),(0,k.jsx)(h.c,{children:N&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{E(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:N&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=P.find((r=>r.id===e));S({activityFrontWork:r.activityFrontWork,primaveraId:r.primaveraId,activityName:r.activityName,activityDiscipline:r.activityDiscipline,activityTotalAmount:r.activityTotalAmount,activityPreviousAcumulatedAmount:r.activityPreviousAcumulatedAmount,activityActualShiftQuantity:r.activityActualShiftQuantity,activityAccumulatedAcvancePercent:r.activityAccumulatedAcvancePercent,activityUnit:r.activityUnit,activityHoursSpendPrevius:r.activityHoursSpendPrevius,activityHoursSpendShift:r.activityHoursSpendShift,activityHoursAccumulated:r.activityHoursAccumulated}),E(e)})(e.id)},children:"Editar"})})]},r)}))})]})]})}},85930:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(18767),f=i(55316),N=i(70579);const g=()=>{var e,r;const i=(0,y.zy)().pathname,g=i.includes("/view"),C="/informe-diario"===i,F=(0,t.useRef)(null),W={machinery:void 0,asarcoMachineryEffectiveTime:void 0,asarcoMachineryUnscheduleMaintenance:void 0,asarcoMachineryScheduleMaintenance:void 0,asarcoMachineryUnscheduleDelay:void 0,asarcoMachineryReserves:void 0,asarcoMachineryHorometer:void 0,asarcoMachineryOpperationalLoss:void 0,asarcoMachineryScheduleDelay:void 0,machineryPlate:void 0},{getData:S}=(0,b.A)(),A=S("basics"),[O,M]=(0,t.useState)(W),[q,D]=(0,t.useState)([]),[H,P]=(0,t.useState)({asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0,machineryPlate:0}),[$,E]=(0,t.useState)(),[w,T]=(0,t.useState)(!1),[L,Q]=(0,t.useState)(!1),R=()=>{var e;const r=null===F||void 0===F||null===(e=F.current)||void 0===e?void 0:e.getBoundingClientRect();r&&Q(r.top<window.innerHeight&&r.bottom>=0)};(0,t.useEffect)((()=>{X()}),[L]),(0,t.useEffect)((()=>{R()}),[]),(0,t.useEffect)((()=>(document.addEventListener("scroll",R),()=>{document.removeEventListener("scroll",R)})),[]);const[Y,I]=(0,t.useState)(),[B,V]=(0,t.useState)([["Task","Hours per Day"],["Tiempo Efectivo (Hrs)",0],["Mantenci\xf3n Programada (Hrs)",0],["Demora Programada (Hrs)",0],["Perdida Operacional (Hrs)",0],["Mantenci\xf3n No Programada (Hrs)",0],["Demora No Programada (Hrs)",0],["Reservas (Hrs)",0]]),{storeAsarcoMachinery:U,removeAsarcoMachinery:G,asarcoMachineryList:_,storeGraphs:J}=(0,v.A)(),z=e=>{if(T(!1),"machinery"===e.target.id)if(M(W),M({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=A.machinery.find((r=>r.id.toString()===e.target.value.toString()));E(r.plate)}else E();else"machineryPlate"===e.target.id?"0"!==e.target.value?M({...O,[e.target.id]:e.target.value}):M({...O,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&M({...O,[e.target.id]:e.target.value})},K=e=>{const r=_.filter((r=>r.id!==e));D(r),G(e)};(0,t.useEffect)((()=>{g||U(q)}),[q]),(0,t.useEffect)((()=>{let e={asarcoMachineryEffectiveTime:0,asarcoMachineryUnscheduleMaintenance:0,asarcoMachineryScheduleMaintenance:0,asarcoMachineryUnscheduleDelay:0,asarcoMachineryReserves:0,asarcoMachineryHorometer:0,asarcoMachineryOpperationalLoss:0,asarcoMachineryScheduleDelay:0};for(let s of _){var r,i,t,a,c,n,o,l;e={asarcoMachineryEffectiveTime:Number(e.asarcoMachineryEffectiveTime)+Number(null!==(r=s.asarcoMachineryEffectiveTime)&&void 0!==r?r:0),asarcoMachineryUnscheduleMaintenance:Number(e.asarcoMachineryUnscheduleMaintenance)+Number(null!==(i=s.asarcoMachineryUnscheduleMaintenance)&&void 0!==i?i:0),asarcoMachineryScheduleMaintenance:Number(e.asarcoMachineryScheduleMaintenance)+Number(null!==(t=s.asarcoMachineryScheduleMaintenance)&&void 0!==t?t:0),asarcoMachineryUnscheduleDelay:Number(e.asarcoMachineryUnscheduleDelay)+Number(null!==(a=s.asarcoMachineryUnscheduleDelay)&&void 0!==a?a:0),asarcoMachineryReserves:Number(e.asarcoMachineryReserves)+Number(null!==(c=s.asarcoMachineryReserves)&&void 0!==c?c:0),asarcoMachineryHorometer:Number(e.asarcoMachineryHorometer)+Number(null!==(n=s.asarcoMachineryHorometer)&&void 0!==n?n:0),asarcoMachineryOpperationalLoss:Number(e.asarcoMachineryOpperationalLoss)+Number(null!==(o=s.asarcoMachineryOpperationalLoss)&&void 0!==o?o:0),asarcoMachineryScheduleDelay:Number(e.asarcoMachineryScheduleDelay)+Number(null!==(l=s.asarcoMachineryScheduleDelay)&&void 0!==l?l:0)}}P(e)}),[_]);const X=()=>{(0,f.$E)(F.current,{cacheBust:!1}).then((e=>{"data:,"!==e&&I(e)})).catch((e=>{}))};return(0,t.useEffect)((()=>{V([["Task","Hours per Day"],["Tiempo Efectivo (Hrs)",H.asarcoMachineryEffectiveTime],["Mantenci\xf3n Programada (Hrs)",H.asarcoMachineryScheduleMaintenance],["Demora Programada (Hrs)",H.asarcoMachineryScheduleDelay],["Perdida Operacional (Hrs)",H.asarcoMachineryOpperationalLoss],["Mantenci\xf3n No Programada (Hrs)",H.asarcoMachineryUnscheduleMaintenance],["Demora No Programada (Hrs)",H.asarcoMachineryUnscheduleDelay],["Reservas (Hrs)",H.asarcoMachineryReserves]])}),[H]),(0,t.useEffect)((()=>{X()}),[B]),(0,t.useEffect)((()=>{g||J({name:"asarcoChart",value:Y})}),[Y]),(0,N.jsxs)("div",{className:"work-force-report",children:[!g&&(0,N.jsxs)(N.Fragment,{children:[w&&(0,N.jsx)(a.J,{autohide:!0,visible:w,color:"danger",onClose:()=>{T(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(c.B,{children:"Debe seleccionar la m\xe1quina y su patente para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Maquinaria",id:"machinery",value:null!==(e=O.machinery)&&void 0!==e?e:0,onChange:e=>{z(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),A.machinery.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),$&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("br",{}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"machineryPlate",value:null!==(r=O.machineryPlate)&&void 0!==r?r:0,onChange:e=>{z(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),$.map((e=>(0,N.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryEffectiveTime",value:O.asarcoMachineryEffectiveTime||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleMaintenance",value:O.asarcoMachineryUnscheduleMaintenance||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleMaintenance",value:O.asarcoMachineryScheduleMaintenance||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryUnscheduleDelay",value:O.asarcoMachineryUnscheduleDelay||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryReserves",value:O.asarcoMachineryReserves||"",text:"",onChange:e=>{z(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryHorometer",value:O.asarcoMachineryHorometer||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryOpperationalLoss",value:O.asarcoMachineryOpperationalLoss||"",text:"",onChange:e=>{z(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"asarcoMachineryScheduleDelay",value:O.asarcoMachineryScheduleDelay||"",text:"",onChange:e=>{z(e)}})})]})]})]}),(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(O.machinery&&O.machineryPlate){E();const e={id:(0,j.A)(),machinery:O.machinery,asarcoMachineryEffectiveTime:O.asarcoMachineryEffectiveTime,asarcoMachineryUnscheduleMaintenance:O.asarcoMachineryUnscheduleMaintenance,asarcoMachineryScheduleMaintenance:O.asarcoMachineryScheduleMaintenance,asarcoMachineryUnscheduleDelay:O.asarcoMachineryUnscheduleDelay,asarcoMachineryReserves:O.asarcoMachineryReserves,asarcoMachineryHorometer:O.asarcoMachineryHorometer,asarcoMachineryOpperationalLoss:O.asarcoMachineryOpperationalLoss,asarcoMachineryScheduleDelay:O.asarcoMachineryScheduleDelay,machineryPlate:O.machineryPlate};M(W),D([..._,e])}else T(!0)})()},children:"Registrar"})]}),_.length>0&&_[0].machinery&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Maquinaria"}),(0,N.jsx)(d.$,{scope:"col",children:"Patente"}),(0,N.jsx)(d.$,{scope:"col",children:"Tiempo Efectivo (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento No Programado (Hrs) (Por alguna falla o alerta)"}),(0,N.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demora No Programada (Hrs) (Interrupci\xf3n al ciclo de trabajo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Reservas (Hrs) (Sin operador, factores externos)"}),(0,N.jsx)(d.$,{scope:"col",children:"Horometro (Hrs)"}),(0,N.jsx)(d.$,{scope:"col",children:"P\xe9rdida Operacional (Hrs) (depende de otro equipo)"}),(0,N.jsx)(d.$,{scope:"col",children:"Demoras Programadas (Hrs) (Colaci\xf3n y cambio de turno)"})]})}),(0,N.jsxs)(u.C,{children:[_.map(((e,r)=>{const i=A.machinery.find((r=>r.id==e.machinery)),t=i.plate.find((r=>r.id.toString()===e.machineryPlate.toString()));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:i.name}),(0,N.jsx)(h.c,{children:t.label}),(0,N.jsx)(h.c,{children:e.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:e.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:e.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:e.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:e.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:e.asarcoMachineryScheduleDelay}),(0,N.jsx)(h.c,{children:C&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{K(e.id)},children:"eliminar"})}),(0,N.jsx)(h.c,{children:C&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=_.find((r=>r.id===e)),i=A.machinery.find((e=>e.id.toString()===r.machinery.toString()));E(i.plate),M({machinery:r.machinery,asarcoMachineryEffectiveTime:r.asarcoMachineryEffectiveTime,asarcoMachineryUnscheduleMaintenance:r.asarcoMachineryUnscheduleMaintenance,asarcoMachineryScheduleMaintenance:r.asarcoMachineryScheduleMaintenance,asarcoMachineryUnscheduleDelay:r.asarcoMachineryUnscheduleDelay,asarcoMachineryReserves:r.asarcoMachineryReserves,asarcoMachineryHorometer:r.asarcoMachineryHorometer,asarcoMachineryOpperationalLoss:r.asarcoMachineryOpperationalLoss,asarcoMachineryScheduleDelay:r.asarcoMachineryScheduleDelay,machineryPlate:r.machineryPlate}),K(e)})(e.id)},children:"Editar"})})]},r)})),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:"Total"}),(0,N.jsx)(h.c,{}),(0,N.jsx)(h.c,{children:H.asarcoMachineryEffectiveTime}),(0,N.jsx)(h.c,{children:H.asarcoMachineryUnscheduleMaintenance}),(0,N.jsx)(h.c,{children:H.asarcoMachineryScheduleMaintenance}),(0,N.jsx)(h.c,{children:H.asarcoMachineryUnscheduleDelay}),(0,N.jsx)(h.c,{children:H.asarcoMachineryReserves}),(0,N.jsx)(h.c,{children:H.asarcoMachineryHorometer}),(0,N.jsx)(h.c,{children:H.asarcoMachineryOpperationalLoss}),(0,N.jsx)(h.c,{children:H.asarcoMachineryScheduleDelay})]},"total")]})]}),(0,N.jsx)("div",{ref:F,children:(0,N.jsx)(k.t1,{chartType:"PieChart",data:B,width:"100%",height:"300px"})})]})}},17564:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(65043),a=i(64231),c=i(54451),n=i(73216),o=i(70579);const l=()=>{const e=(0,n.zy)().pathname.includes("/view"),[r,i]=(0,t.useState)({comment:""}),{storeComment:l,comment:s}=(0,c.A)();return(0,t.useEffect)((()=>{e||l(r)}),[r]),(0,o.jsx)("div",{className:"work-force-report",children:(0,o.jsx)(a.I,{id:"comment",label:"Comentarios y alertas en genenral",disabled:e,value:e?s.comment:r.comment,onChange:e=>{(e=>{i({...r,[e.target.id]:e.target.value})})(e)},rows:3,text:""})})}},25762:(e,r,i)=>{i.d(r,{A:()=>x});i(65043);var t=i(81917),a=i(44101),c=i(44227),n=i(10825),o=i(97397),l=i(54451),s=i(84998),d=i(35761),u=i(73216),h=i(49634),m=i(70579);const x=()=>{const e=(0,u.zy)().pathname.includes("/view"),{storeCompanyData:r,company:i}=(0,l.A)(),{registerData:x}=(0,s.A)(),{getProject:v,getContract:j}=(0,d.A)(),p=(JSON.parse(v()),JSON.parse(j())),{getData:b}=(0,h.A)(),y=b("basics"),k=e=>{r(e)};return(0,m.jsx)("div",{className:"company-report",children:(0,m.jsxs)(t.q,{children:[(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"date",id:"dailyReportDate",label:"Fecha",value:i.dailyReportDate||"",disabled:e,placeholder:"Fecha",text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportNumber",label:"Informe diario N\xb0",placeholder:"Informe diario N\xb0",text:"",disabled:e,value:i.dailyReportNumber||"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContratistName",label:"Nombre de contratista",placeholder:"Detalle",value:i.dailyReportContratistName||"",text:"",disabled:e,onChange:e=>{k(e)}})})]}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContratistNumber",label:"N\xb0 de contrato",placeholder:"N\xb0 de contrato",disabled:!0,value:i.dailyReportContratistNumber||p.code,text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContractName",label:"Nombre de contrato",placeholder:"Nombre de contrato",value:i.dailyReportContractName||p.name,disabled:!0,text:"",onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportContractManagerName",label:"Administrador de contrato",placeholder:"Administrador de contrato",value:i.dailyReportContractManagerName||"",text:"",disabled:e,onChange:e=>{k(e)}})})]}),(0,m.jsx)(a.s,{children:(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Clima",id:"dailyReportWeather",value:i.dailyReportWeather||"0",label:"Clima",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.weather.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Turno (Personal directo)",id:"dailyReportDirectPersonalShift",label:"Turno (Personal directo)",value:i.dailyReportDirectPersonalShift||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.direct_staff_shift.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportDirectPersonalHours",label:"Horas turno (Personal directo)",placeholder:"Horas turno (Personal directo)",value:i.dailyReportDirectPersonalHours||"",text:"",disabled:e,onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Jornada (Personal directo)",id:"dailyReportDirectPersonalJourney",label:"Jornada (Personal directo)",value:i.dailyReportDirectPersonalJourney||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.shifts.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]}),(0,m.jsxs)(a.s,{children:[(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Turno (Personal indirecto)",id:"dailyReportIndirectPersonalShift",label:"Turno (Personal indirecto)",value:i.dailyReportIndirectPersonalShift||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.indirect_staff_shift.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsx)(n.O,{type:"text",id:"dailyReportIndirectPersonalHours",label:"Horas turno (Personal indirecto)",placeholder:"Horas turno (Personal indirecto)",value:i.dailyReportIndirectPersonalHours||"",text:"",disabled:e,onChange:e=>{k(e)}})}),(0,m.jsx)(c.U,{sm:4,children:(0,m.jsxs)(o.M,{"aria-label":"Jornada (Personal indirecto)",id:"dailyReportIndirectPersonalJourney",label:"Jornada (Personal indirecto)",value:i.dailyReportIndirectPersonalJourney||"0",disabled:e,onChange:e=>{k(e)},children:[(0,m.jsx)("option",{value:"0",children:"Seleccione"}),null===y||void 0===y?void 0:y.shifts.map((e=>(0,m.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]})]})})}},34974:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),v=i(2657),j=i(54451),p=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname,r=e.includes("/view"),i="/informe-diario"===e,N={directWorkFront:void 0,directDotationWorkForceObservation:void 0,directSubWorkFront:void 0,directWorkFrontCharge:void 0,directWorkFrontQuantity:void 0,directDotationWorkForceObservation:void 0},{getData:g}=(0,y.A)(),C=g("basics"),[F,W]=(0,t.useState)(N),[S,A]=(0,t.useState)([]),[O,M]=(0,t.useState)(!1),[q,D]=(0,t.useState)(!1),{storeDirectDotationWorkForceData:H,removeDirectDotationWorkForce:P,directDotationWorkForceList:$}=(0,j.A)(),E=e=>{if(D(!1),"directWorkFront"===e.target.id){const r=C.workFront.find((r=>r.id.toString()===e.target.value.toString()));M(r.hasSubFront)}"directSubWorkFront"===e.target.id||"directWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value}):W({...F,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{W({...F,directSubWorkFront:O?F.directSubWorkFront:void 0})}),[O]);const w=e=>{const r=$.filter((r=>r.id!==e));A(r),P(e)};return(0,t.useEffect)((()=>{r||H(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!r&&(0,f.jsxs)(f.Fragment,{children:[q&&(0,f.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, cargo y cantidad para registrar el personal"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFront",label:"Frente de trabajo",value:F.directWorkFront||"",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),C.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),O&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directSubWorkFront",label:"SubFrente de trabajo",value:F.directSubWorkFront||"",text:"",onChange:e=>{E(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkFrontCharge",value:F.directWorkFrontCharge||"",label:"Cargo",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),C.directPersonal.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"directWorkFrontQuantity",label:"Cantidad",value:F.directWorkFrontQuantity||"",text:"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"directDotationWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:F.directDotationWorkForceObservation||"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.directWorkFront&&F.directWorkFrontCharge&&F.directWorkFrontQuantity){M(!1);const e={id:(0,p.A)(),directDotationWorkForceObservation:F.directDotationWorkForceObservation,directWorkFront:F.directWorkFront,directSubWorkFront:F.directSubWorkFront,directWorkFrontCharge:F.directWorkFrontCharge,directWorkFrontQuantity:F.directWorkFrontQuantity};W(N),A([...$,e])}else D(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].id&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Personal"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:$.map(((e,r)=>{var t;const a=C.workFront.find((r=>r.id==e.directWorkFront)),c=C.directPersonal.find((r=>r.id==e.directWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:a.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:null!==(t=e.directSubWorkFront)&&void 0!==t?t:"N/A"},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.directWorkFrontQuantity},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.directDotationWorkForceObservation},e.id)}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{w(e.id)},children:"eliminar"})}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=$.find((r=>r.id===e));r.directSubWorkFront&&M(!0),W({directWorkFront:r.directWorkFront,directDotationWorkForceObservation:r.directDotationWorkForceObservation,directSubWorkFront:r.directSubWorkFront,directWorkFrontCharge:r.directWorkFrontCharge,directWorkFrontQuantity:r.directWorkFrontQuantity}),w(e)})(e.id)},children:"Editar"})})]},e.id)}))})]})})]})}},43357:(e,r,i)=>{i.d(r,{A:()=>g});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(18767),f=i(55316),N=i(70579);const g=()=>{const e=(0,y.zy)().pathname,r=e.includes("/view"),i="/informe-diario"===e,g=(0,t.useRef)(null),C={directWorkForce:void 0,directWorkForceOfferedNumber:void 0,directWorkForceContractedNumber:void 0,directWorkForceCertifiedNumber:void 0,directWorkForceBreakNumber:void 0,directWorkForceWorkNumber:void 0,directWorkForceHHNumber:void 0},{getData:F}=(0,b.A)(),W=F("basics"),[S,A]=(0,t.useState)(!1),[O,M]=(0,t.useState)(C),[q,D]=(0,t.useState)([]),[H,P]=(0,t.useState)(!1),[$,E]=(0,t.useState)(0),[w,T]=(0,t.useState)(0),[L,Q]=(0,t.useState)(),[R,Y]=(0,t.useState)([["Dotaci\xf3n","Dotaci\xf3n",{role:"style"}],["Dotaci\xf3n Planeada Directos Total",0,"#b87333"],["Dotaci\xf3n Directos Obra Total",0,"silver"]]),{storeDirectWorkForce:I,removeDirectWorkForce:B,directWorkForceList:V,storeGraphs:U}=(0,v.A)(),G=e=>{P(!1),"directWorkForce"===e.target.id&&(M(C),M({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&M({...O,[e.target.id]:e.target.value})},_=e=>{const r=V.filter((r=>r.id!==e));D(r),B(e)};(0,t.useEffect)((()=>{r||I(q)}),[q]),(0,t.useEffect)((()=>{let e=0,r=0;V.map((i=>{e+=Number(i.offeredNumber),r+=Number(i.workNumber)})),E(e),T(r)}),[V]);const J=()=>{(0,f.$E)(g.current,{cacheBust:!1}).then((e=>{"data:,"!==e&&Q(e)})).catch((e=>{}))};(0,t.useEffect)((()=>{Y([["Dotaci\xf3n","Dotaci\xf3n",{role:"style"}],["Dotaci\xf3n Planeada Directos Total",$,"#b87333"],["Dotaci\xf3n Directos Obra Total",w,"silver"]])}),[$,w]),(0,t.useEffect)((()=>{J()}),[R]),(0,t.useEffect)((()=>{r||U({name:"dotationChart",value:L})}),[L]);return(0,t.useEffect)((()=>{J()}),[S]),(0,t.useEffect)((()=>{(()=>{var e;const r=null===g||void 0===g||null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect();r&&A(r.top<window.innerHeight&&r.bottom>=0)})()}),[]),(0,N.jsxs)("div",{className:"work-force-report",children:[!r&&(0,N.jsxs)(N.Fragment,{children:[H&&(0,N.jsx)(a.J,{autohide:!0,visible:H,color:"danger",onClose:()=>{P(!1)},className:"text-white align-items-center",children:(0,N.jsx)("div",{className:"d-flex",children:(0,N.jsx)(c.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,N.jsxs)(n.M,{"aria-label":"Default select example",id:"directWorkForce",value:O.directWorkForce||"",label:"Cargo",onChange:e=>{G(e)},children:[(0,N.jsx)("option",{value:0,children:"Seleccione"}),W.directPersonal.map((e=>(0,N.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,N.jsxs)(o._,{children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,N.jsxs)(u.C,{children:[(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceOfferedNumber",placeholder:"N\xb0 Ofertado",value:O.directWorkForceOfferedNumber||"",onChange:e=>{G(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceContractedNumber",placeholder:"N\xb0 Contratados",value:O.directWorkForceContractedNumber||"",onChange:e=>{G(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceCertifiedNumber",placeholder:"N\xb0 Acreditados",value:O.directWorkForceCertifiedNumber||"",onChange:e=>{G(e)}})})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceBreakNumber",placeholder:"N\xb0 Descanso",value:O.directWorkForceBreakNumber||"",onChange:e=>{G(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceWorkNumber",placeholder:"N\xb0 Obra",value:O.directWorkForceWorkNumber||"",onChange:e=>{G(e)}})}),(0,N.jsx)(h.c,{children:(0,N.jsx)(m.O,{type:"text",id:"directWorkForceHHNumber",placeholder:"HH (Turno)",value:O.directWorkForceHHNumber||"",onChange:e=>{G(e)}})})]})]})]})]}),!r&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(O.directWorkForce){const e={id:(0,j.A)(),directWorkForce:O.directWorkForce,offeredNumber:O.directWorkForceOfferedNumber,contractedNumber:O.directWorkForceContractedNumber,certified:O.directWorkForceCertifiedNumber,breakNumber:O.directWorkForceBreakNumber,workNumber:O.directWorkForceWorkNumber,hh:O.directWorkForceHHNumber};M(C),D([...V,e])}else P(!0)})()},children:"Registrar"}),V.length>0&&V[0].directWorkForce&&(0,N.jsxs)(o._,{className:"resume-table",children:[(0,N.jsx)(l.w,{children:(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,N.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,N.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,N.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,N.jsx)(d.$,{scope:"col"})]})}),(0,N.jsx)(u.C,{children:V.map(((e,r)=>{const t=W.directPersonal.find((r=>r.id==e.directWorkForce));return(0,N.jsxs)(s.Y,{children:[(0,N.jsx)(h.c,{children:t.name}),(0,N.jsx)(h.c,{children:e.offeredNumber}),(0,N.jsx)(h.c,{children:e.contractedNumber}),(0,N.jsx)(h.c,{children:e.certified}),(0,N.jsx)(h.c,{children:e.breakNumber}),(0,N.jsx)(h.c,{children:e.workNumber}),(0,N.jsx)(h.c,{children:e.hh}),(0,N.jsx)(h.c,{children:i&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{_(e.id)},children:"eliminar"})}),(0,N.jsx)(h.c,{children:i&&(0,N.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=V.find((r=>r.id===e));M({directWorkForce:r.directWorkForce,directWorkForceOfferedNumber:r.offeredNumber,directWorkForceContractedNumber:r.contractedNumber,directWorkForceCertifiedNumber:r.certified,directWorkForceBreakNumber:r.breakNumber,directWorkForceWorkNumber:r.workNumber,directWorkForceHHNumber:r.hh}),_(e)})(e.id)},children:"Editar"})})]},r)}))})]}),(0,N.jsx)("div",{ref:g,style:{width:"100%"},children:(0,N.jsx)(k.t1,{chartType:"ColumnChart",width:"100%",height:"400px",data:R})})]})}},54823:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i,f;const N=(0,y.zy)().pathname,g=N.includes("/view"),C="/informe-diario"===N,F={equipment:void 0,equipmentOfferedNumber:void 0,equipmentCertifiedNumber:void 0,equipmentWorkNumber:void 0},{getData:W}=(0,b.A)(),S=W("basics"),[A,O]=(0,t.useState)(F),[M,q]=(0,t.useState)([]),[D,H]=(0,t.useState)({equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0}),[P,$]=(0,t.useState)(!1),{storeEquipment:E,removeEquipment:w,equipmentList:T}=(0,v.A)(),L=e=>{$(!1),"equipment"===e.target.id&&(O(F),O({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&O({...A,[e.target.id]:e.target.value})},Q=e=>{const r=T.filter((r=>r.id!==e));q(r),w(e)};return(0,t.useEffect)((()=>{g||E(M)}),[M]),(0,t.useEffect)((()=>{let e={equipmentOfferedNumber:0,equipmentCertifiedNumber:0,equipmentWorkNumber:0};for(let a of T){var r,i,t;e={equipmentOfferedNumber:Number(e.equipmentOfferedNumber)+Number(null!==(r=a.actions.equipmentOfferedNumber)&&void 0!==r?r:0),equipmentCertifiedNumber:Number(e.equipmentCertifiedNumber)+Number(null!==(i=a.actions.equipmentCertifiedNumber)&&void 0!==i?i:0),equipmentWorkNumber:Number(e.equipmentWorkNumber)+Number(null!==(t=a.actions.equipmentWorkNumber)&&void 0!==t?t:0)}}H(e)}),[T]),(0,k.jsxs)("div",{className:"work-force-report",children:[!g&&(0,k.jsxs)(k.Fragment,{children:[" ",P&&(0,k.jsx)(a.J,{autohide:!0,visible:P,color:"danger",onClose:()=>{$(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=A.equipment)&&void 0!==e?e:0,onChange:e=>{L(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),S.equipment.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentOfferedNumber",value:A.equipmentOfferedNumber||"",text:"",onChange:e=>{L(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentCertifiedNumber",value:A.equipmentCertifiedNumber||"",text:"",onChange:e=>{L(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentWorkNumber",value:A.equipmentWorkNumber||"",text:"",onChange:e=>{L(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(A.equipment&&"0"!==A.equipment){const e={id:(0,j.A)(),equipment:A.equipment,actions:{equipmentOfferedNumber:A.equipmentOfferedNumber,equipmentCertifiedNumber:A.equipmentCertifiedNumber,equipmentWorkNumber:A.equipmentWorkNumber}};O(F),q([...T,e])}else $(!0)})()},children:"Registrar"})]}),T.length>0&&T[0].equipment&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Equipos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[T.map(((e,r)=>{var i,t,a;const c=S.equipment.find((r=>r.id==e.equipment));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:c.name}),(0,k.jsx)(h.c,{children:null!==(i=e.actions.equipmentOfferedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.equipmentCertifiedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.equipmentWorkNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:C&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{Q(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:C&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=T.find((r=>r.id===e));O({equipment:r.equipment,equipmentOfferedNumber:r.actions.equipmentOfferedNumber,equipmentCertifiedNumber:r.actions.equipmentCertifiedNumber,equipmentWorkNumber:r.actions.equipmentWorkNumber}),Q(e)})(e.id)},children:"Editar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:null!==(r=D.equipmentOfferedNumber)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=D.equipmentCertifiedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(f=D.equipmentWorkNumber)&&void 0!==f?f:0})]},"total")]})]})]})}},44619:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r;const i=(0,y.zy)().pathname,f=i.includes("/view"),N="/informe-diario"===i,g={equipment:void 0,equipmentEffectiveTime:void 0,equipmentCorrectiveMaintenance:void 0,equipmentPreventiveMaintenance:void 0,equipmentOutOfService:void 0,equipmentWaiting:void 0,equipmentNoOperator:void 0,equipmentInitialHorometer:void 0,equipmentFinalHorometer:void 0,equipmentPlate:void 0},{getData:C}=(0,b.A)(),F=C("basics"),[W,S]=(0,t.useState)(g),[A,O]=(0,t.useState)([]),[M,q]=(0,t.useState)(),[D,H]=(0,t.useState)(!1),{storeEquipmentPlate:P,removeEquipmentPlate:$,equipmentPlateList:E}=(0,v.A)(),w=e=>{if(H(!1),"equipment"===e.target.id)if(S(g),S({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=F.equipment.find((r=>r.id.toString()===e.target.value.toString()));q(r.plate)}else q();else"equipmentPlate"===e.target.id?"0"!==e.target.value?S({...W,[e.target.id]:e.target.value}):S({...W,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&S({...W,[e.target.id]:e.target.value})},T=e=>{const r=E.filter((r=>r.id!==e));O(r),$(e)};return(0,t.useEffect)((()=>{f||P(A)}),[A]),(0,k.jsxs)("div",{className:"work-force-report",children:[!f&&(0,k.jsxs)(k.Fragment,{children:[D&&(0,k.jsx)(a.J,{autohide:!0,visible:D,color:"danger",onClose:()=>{H(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo y su patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"equipment",value:null!==(e=W.equipment)&&void 0!==e?e:0,onChange:e=>{w(e)},children:[(0,k.jsx)("option",{value:"0",children:"Seleccione"}),F.equipment.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),M&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"equipmentPlate",value:null!==(r=W.equipmentPlate)&&void 0!==r?r:0,onChange:e=>{w(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),M.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentEffectiveTime",value:W.equipmentEffectiveTime||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentCorrectiveMaintenance",value:W.equipmentCorrectiveMaintenance||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentPreventiveMaintenance",value:W.equipmentPreventiveMaintenance||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentOutOfService",value:W.equipmentOutOfService||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentWaiting",value:W.equipmentWaiting||"",text:"",onChange:e=>{w(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentNoOperator",value:W.equipmentNoOperator||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentInitialHorometer",value:W.equipmentInitialHorometer||"",text:"",onChange:e=>{w(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"equipmentFinalHorometer",value:W.equipmentFinalHorometer||"",text:"",onChange:e=>{w(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(W.equipment&&"0"!==W.equipment&&W.equipmentPlate&&"0"!==W.equipmentPlate){q();const e={id:(0,j.A)(),equipment:W.equipment,equipmentEffectiveTime:W.equipmentEffectiveTime,equipmentCorrectiveMaintenance:W.equipmentCorrectiveMaintenance,equipmentPreventiveMaintenance:W.equipmentPreventiveMaintenance,equipmentOutOfService:W.equipmentOutOfService,equipmentWaiting:W.equipmentWaiting,equipmentNoOperator:W.equipmentNoOperator,equipmentInitialHorometer:W.equipmentInitialHorometer,equipmentFinalHorometer:W.equipmentFinalHorometer,equipmentPlate:W.equipmentPlate};S(g),O([...E,e])}else H(!0)})()},children:"Registrar"})]}),E.length>0&&E[0].equipment&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Equipo"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenimiento Programado (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]})}),(0,k.jsx)(u.C,{children:E.map(((e,r)=>{const i=F.equipment.find((r=>r.id==e.equipment)),t=i.plate.find((r=>r.id.toString()===e.equipmentPlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:i.name}),(0,k.jsx)(h.c,{children:t.label}),(0,k.jsx)(h.c,{children:e.equipmentEffectiveTime}),(0,k.jsx)(h.c,{children:e.equipmentCorrectiveMaintenance}),(0,k.jsx)(h.c,{children:e.equipmentPreventiveMaintenance}),(0,k.jsx)(h.c,{children:e.equipmentOutOfService}),(0,k.jsx)(h.c,{children:e.equipmentWaiting}),(0,k.jsx)(h.c,{children:e.equipmentNoOperator}),(0,k.jsx)(h.c,{children:e.equipmentInitialHorometer}),(0,k.jsx)(h.c,{children:e.equipmentFinalHorometer}),(0,k.jsx)(h.c,{children:N&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{T(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:N&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=E.find((r=>r.id===e)),i=F.equipment.find((e=>e.id.toString()===r.equipment.toString()));q(i.plate),S({equipment:r.equipment,equipmentEffectiveTime:r.equipmentEffectiveTime,equipmentCorrectiveMaintenance:r.equipmentCorrectiveMaintenance,equipmentPreventiveMaintenance:r.equipmentPreventiveMaintenance,equipmentOutOfService:r.equipmentOutOfService,equipmentWaiting:r.equipmentWaiting,equipmentNoOperator:r.equipmentNoOperator,equipmentInitialHorometer:r.equipmentInitialHorometer,equipmentFinalHorometer:r.equipmentFinalHorometer,equipmentPlate:r.equipmentPlate}),T(e)})(e.id)},children:"Editar"})})]},r)}))})]})]})}},42566:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),v=i(2657),j=i(54451),p=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname,r=e.includes("/view"),i="/informe-diario"===e,N={equipmentWorkForce:void 0,equipmentWorkForceObservation:void 0,equipmentSubWorkFront:void 0,equipmentWorkFrontCharge:void 0,equipmentWorkFrontQuantity:void 0},{getData:g}=(0,y.A)(),C=g("basics"),[F,W]=(0,t.useState)(N),[S,A]=(0,t.useState)([]),[O,M]=(0,t.useState)(!1),[q,D]=(0,t.useState)(!1),{storeEquipmentWorkForce:H,removeEquipmentWorkForce:P,equipmentWorkForceList:$}=(0,j.A)(),E=e=>{if(D(!1),"equipmentWorkForce"===e.target.id){const r=C.workFront.find((r=>r.id.toString()===e.target.value.toString()));M(r.hasSubFront)}"equipmentSubWorkFront"===e.target.id||"equipmentWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value}):W({...F,[e.target.id]:e.target.value})},w=e=>{const r=$.filter((r=>r.id!==e));A(r),P(e)};return(0,t.useEffect)((()=>{W({...F,equipmentSubWorkFront:O?F.equipmentSubWorkFront:void 0})}),[O]),(0,t.useEffect)((()=>{r||H(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!r&&(0,f.jsxs)(f.Fragment,{children:[" ",q&&(0,f.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, equipo y cantidad para registrar el equipo"})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"equipmentWorkForce",value:F.equipmentWorkForce||"",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),C.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),O&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentSubWorkFront",label:"SubFrente de trabajo",value:F.equipmentSubWorkFront||"",text:"",onChange:e=>{E(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"equipmentWorkFrontCharge",value:F.equipmentWorkFrontCharge||"",label:"Equipo",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),C.equipment.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"equipmentWorkFrontQuantity",label:"Cantidad",value:F.equipmentWorkFrontQuantity||"",text:"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"equipmentWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:F.equipmentWorkForceObservation||"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.equipmentWorkForce&&F.equipmentWorkFrontCharge&&F.equipmentWorkFrontQuantity){M(!1);const e={id:(0,p.A)(),equipmentWorkForce:F.equipmentWorkForce,equipmentWorkForceObservation:F.equipmentWorkForceObservation,equipmentSubWorkFront:F.equipmentSubWorkFront,equipmentWorkFrontCharge:F.equipmentWorkFrontCharge,equipmentWorkFrontQuantity:F.equipmentWorkFrontQuantity};W(N),A([...$,e])}else D(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].equipmentWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Equipo"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:$.map(((e,r)=>{var t;const a=C.workFront.find((r=>r.id==e.equipmentWorkForce)),c=C.equipment.find((r=>r.id==e.equipmentWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:a.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:null!==(t=e.equipmentSubWorkFront)&&void 0!==t?t:"N/A"},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.equipmentWorkFrontQuantity},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.equipmentWorkForceObservation},e.id)}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{w(e.id)},children:"eliminar"})}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=$.find((r=>r.id===e));r.equipmentSubWorkFront&&M(!0),W({equipmentWorkForce:r.equipmentWorkForce,equipmentWorkForceObservation:r.equipmentWorkForceObservation,equipmentSubWorkFront:r.equipmentSubWorkFront,equipmentWorkFrontCharge:r.equipmentWorkFrontCharge,equipmentWorkFrontQuantity:r.equipmentWorkFrontQuantity}),w(e)})(e.id)},children:"Editar"})})]},e.id)}))})]})})})]})}},87921:(e,r,i)=>{i(65043),i(33906),i(54451),i(55316),i(70579)},90761:(e,r,i)=>{i.d(r,{A:()=>b});var t=i(65043),a=i(56351),c=i(77955),n=i(64231),o=i(84709),l=i(9580),s=i(4303),d=i(67861),u=i(96528),h=i(92845),m=i(2657),x=i(54451),v=i(92073),j=i(73216),p=i(70579);const b=()=>{var e,r,i,b;const y=(0,j.zy)().pathname,k=y.includes("/view"),f="/informe-diario"===y,N={incident:"",nonConformity:""},[g,C]=(0,t.useState)(N),[F,W]=(0,t.useState)([]),[S,A]=(0,t.useState)(!1),{storeIncident:O,removeIncident:M,incident:q}=(0,x.A)(),D=e=>{switch(A(!1),e.target.id){case"incident":e.target.value.length<=200&&C({...g,incident:e.target.value});break;case"nonConformity":e.target.value.length<=200&&C({...g,nonConformity:e.target.value})}},H=e=>{const r=q.filter((r=>r.id!==e));W(r),M(e)};return(0,t.useEffect)((()=>{k||O(F)}),[F]),(0,p.jsxs)("div",{className:"work-force-report",children:[!k&&(0,p.jsxs)(p.Fragment,{children:[" ",S&&(0,p.jsx)(a.J,{autohide:!0,visible:S,color:"danger",onClose:()=>{A(!1)},className:"text-white align-items-center",children:(0,p.jsx)("div",{className:"d-flex",children:(0,p.jsx)(c.B,{children:"Debe ingresar un incidente o una no conformidad para generar el registro"})})}),(0,p.jsx)(n.I,{id:"incident",label:"Incidentes lesiones y eventos",rows:3,value:g.incident,text:"".concat(null!==(e=null===g||void 0===g||null===(r=g.incident)||void 0===r?void 0:r.length)&&void 0!==e?e:0," de ").concat(200," caracteres"),onChange:e=>{D(e)}}),(0,p.jsx)(n.I,{id:"nonConformity",label:"No conformidades o interferencias",rows:3,text:"".concat(null!==(i=null===g||void 0===g||null===(b=g.nonConformity)||void 0===b?void 0:b.length)&&void 0!==i?i:0," de ").concat(200," caracteres"),value:g.nonConformity,onChange:e=>{D(e)}}),(0,p.jsx)("br",{}),(0,p.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(()=>{const e={id:(0,v.A)(),incident:g.incident,nonConformity:g.nonConformity};C(N),W([...q,e])})()},children:"Registrar"})]}),q.length>0&&q[0].id&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l._,{className:"resume-table",children:[(0,p.jsx)(s.w,{children:(0,p.jsxs)(d.Y,{children:[(0,p.jsx)(u.$,{scope:"col",children:"Incidente, lesi\xf3n y evento"}),(0,p.jsx)(u.$,{scope:"col",children:"No conformidad o interferencia"})]})}),(0,p.jsx)(h.C,{children:q.map(((e,r)=>(0,p.jsxs)(d.Y,{children:[(0,p.jsx)(m.c,{children:e.incident}),(0,p.jsx)(m.c,{children:e.nonConformity}),(0,p.jsx)(m.c,{children:f&&(0,p.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{H(e.id)},children:"eliminar"})}),(0,p.jsx)(m.c,{children:f&&(0,p.jsx)(o.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=q.find((r=>r.id===e));C({incident:r.incident,nonConformity:r.nonConformity}),H(e)})(e.id)},children:"editar"})})]},r)))})]})})]})}},8270:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{const e=(0,y.zy)().pathname,r=e.includes("/view"),i="/informe-diario"===e,f={indirectWorkForce:void 0,indirectWorkForceOfferedNumber:void 0,indirectWorkForceContractedNumber:void 0,indirectWorkForceCertifiedNumber:void 0,indirectWorkForceBreakNumber:void 0,indirectWorkForceWorkNumber:void 0,indirectWorkForceHHNumber:void 0},{getData:N}=(0,b.A)(),g=N("basics"),[C,F]=(0,t.useState)(f),[W,S]=(0,t.useState)([]),[A,O]=(0,t.useState)(!1),{storeIndirectWorkForceData:M,removeIndirectWorkForce:q,indirectWorkForceList:D}=(0,v.A)(),H=e=>{O(!1),"indirectWorkForce"===e.target.id&&(F(f),F({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&F({...C,[e.target.id]:e.target.value})};(0,t.useEffect)((()=>{r||M(W)}),[W]);const P=e=>{const r=D.filter((r=>r.id!==e));S(r),q(e)};return(0,k.jsxs)("div",{className:"work-force-report",children:[!r&&(0,k.jsxs)(k.Fragment,{children:[A&&(0,k.jsx)(a.J,{autohide:!0,visible:A,color:"danger",onClose:()=>{O(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el cargo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"indirectWorkForce",label:"Cargo",value:C.indirectWorkForce||"",onChange:e=>{H(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),g.indirectPersonal.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Acreditados"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorOfferedNumber",placeholder:"N\xb0 Ofertado",value:C.contractAdministratorOfferedNumber||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorContractedNumber",placeholder:"N\xb0 Contratados",value:C.contractAdministratorContractedNumber||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorCertified",placeholder:"Acreditados",value:C.contractAdministratorCertified||"",text:"",onChange:e=>{H(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,k.jsx)(d.$,{scope:"col",children:"HH (Turno)"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorBreakNumber",placeholder:"N\xb0 Descanso",value:C.contractAdministratorBreakNumber||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorWorkNumber",placeholder:"N\xb0 Obra",value:C.contractAdministratorWorkNumber||"",text:"",onChange:e=>{H(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"contractAdministratorHHNumber",placeholder:"HH (Turno)",value:C.contractAdministratorHHNumber||"",text:"",onChange:e=>{H(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(C.indirectWorkForce){const e={id:(0,j.A)(),indirectWorkForce:C.indirectWorkForce,offeredNumber:C.contractAdministratorOfferedNumber,contractedNumber:C.contractAdministratorContractedNumber,certified:C.contractAdministratorCertified,breakNumber:C.contractAdministratorBreakNumber,workNumber:C.contractAdministratorWorkNumber,hh:C.contractAdministratorHHNumber};F(f),S([...D,e])}else O(!0)})()},children:"Registrar"})]}),D.length>0&&D[0].indirectWorkForce&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Cargo"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Contratados"}),(0,k.jsx)(d.$,{scope:"col",children:"Acreditados"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Descanso"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Obra"}),(0,k.jsx)(d.$,{scope:"col",children:"HH (Turno)"}),(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col"})]})}),(0,k.jsx)(u.C,{children:D.map(((e,r)=>{const t=g.indirectPersonal.find((r=>r.id==e.indirectWorkForce));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:t.name}),(0,k.jsx)(h.c,{children:e.offeredNumber}),(0,k.jsx)(h.c,{children:e.contractedNumber}),(0,k.jsx)(h.c,{children:e.certified}),(0,k.jsx)(h.c,{children:e.breakNumber}),(0,k.jsx)(h.c,{children:e.workNumber}),(0,k.jsx)(h.c,{children:e.hh}),(0,k.jsx)(h.c,{children:i&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{P(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:i&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=D.find((r=>r.id===e));F({indirectWorkForce:r.indirectWorkForce,contractAdministratorOfferedNumber:r.offeredNumber,contractAdministratorContractedNumber:r.contractedNumber,contractAdministratorCertified:r.certified,contractAdministratorBreakNumber:r.breakNumber,contractAdministratorWorkNumber:r.workNumber,contractAdministratorHHNumber:r.hh}),P(e)})(e.id)},children:"Editar"})})]},r)}))})]})]})}},81925:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i,f,N,g;const C=(0,y.zy)().pathname,F=C.includes("/view"),W="/informe-diario"===C,S={aljibe:void 0,aljibeCachimbaName:void 0,aljibeQuantityTurns:void 0,aljibeM3:void 0,aljibePlate:void 0,aljibeOfferedNumber:void 0,aljibeCertifiedNumber:void 0,aljibeWorkNumber:void 0},{getData:A}=(0,b.A)(),O=A("basics"),[M,q]=(0,t.useState)(S),[D,H]=(0,t.useState)([]),[P,$]=(0,t.useState)({aljibeCachimbaName:0,aljibeQuantityTurns:0,aljibeM3:0,aljibePlate:0,aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeWorkNumber:0}),[E,w]=(0,t.useState)(),[T,L]=(0,t.useState)(!1),{storealjibe:Q,removealjibe:R,aljibeList:Y}=(0,v.A)(),I=e=>{if(L(!1),"aljibe"===e.target.id)if(q(S),q({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=O.aljibe.find((r=>r.id.toString()===e.target.value.toString()));w(r.plate)}else w();else"aljibePlate"===e.target.id?"0"!==e.target.value?q({...M,[e.target.id]:e.target.value}):q({...M,[e.target.id]:"0"}):("aljibeCachimbaName"===e.target.id&&q({...M,aljibeCachimbaName:e.target.value}),(0,p.t)(e.target.value)&&q({...M,[e.target.id]:e.target.value}))},B=e=>{const r=Y.filter((r=>r.id!==e));H(r),R(e)};return(0,t.useEffect)((()=>{F||Q(D)}),[D]),(0,t.useEffect)((()=>{let e={aljibeOfferedNumber:0,aljibeCertifiedNumber:0,aljibeM3:0,aljibeWorkNumber:0,aljibeQuantityTurns:0};for(let n of Y){var r,i,t,a,c;e={aljibeOfferedNumber:Number(e.aljibeOfferedNumber)+Number(null!==(r=n.aljibeOfferedNumber)&&void 0!==r?r:0),aljibeCertifiedNumber:Number(e.aljibeCertifiedNumber)+Number(null!==(i=n.aljibeCertifiedNumber)&&void 0!==i?i:0),aljibeM3:Number(e.aljibeM3)+Number(null!==(t=n.aljibeM3)&&void 0!==t?t:0),aljibeWorkNumber:Number(e.aljibeWorkNumber)+Number(null!==(a=n.aljibeWorkNumber)&&void 0!==a?a:0),aljibeQuantityTurns:Number(e.aljibeQuantityTurns)+Number(null!==(c=n.aljibeQuantityTurns)&&void 0!==c?c:0)}}$(e)}),[Y]),(0,k.jsxs)("div",{className:"work-force-report",children:[!F&&(0,k.jsxs)(k.Fragment,{children:[T&&(0,k.jsx)(a.J,{autohide:!0,visible:T,color:"danger",onClose:()=>{L(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el aljibe y su patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Aljibe",id:"aljibe",value:M.aljibe||"",onChange:e=>{I(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),O.aljibe.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),E&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"aljibePlate",value:null!==(e=M.aljibePlate)&&void 0!==e?e:0,onChange:e=>{I(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),E.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeOfferedNumber",value:M.aljibeOfferedNumber||"",text:"",onChange:e=>{I(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeCertifiedNumber",value:M.aljibeCertifiedNumber||"",text:"",onChange:e=>{I(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeWorkNumber",value:M.aljibeWorkNumber||"",text:"",onChange:e=>{I(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de m3"})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeCachimbaName",value:M.aljibeCachimbaName||"",text:"",onChange:e=>{I(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeQuantityTurns",value:M.aljibeQuantityTurns||"",text:"",onChange:e=>{I(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"aljibeM3",value:M.aljibeM3||"",text:"",onChange:e=>{I(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(M.aljibe&&"0"!==M.aljibe&&M.aljibePlate&&"0"!==M.aljibePlate){w();const e={id:(0,j.A)(),aljibe:M.aljibe,aljibeCachimbaName:M.aljibeCachimbaName,aljibeQuantityTurns:M.aljibeQuantityTurns,aljibeM3:M.aljibeM3,aljibePlate:M.aljibePlate,aljibeOfferedNumber:M.aljibeOfferedNumber,aljibeCertifiedNumber:M.aljibeCertifiedNumber,aljibeWorkNumber:M.aljibeWorkNumber};q(S),H([...Y,e])}else L(!0)})()},children:"Registrar"})]}),Y.length>0&&Y[0].aljibe&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Aljibe"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Nombre Cachimba"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de vueltas"}),(0,k.jsx)(d.$,{scope:"col",children:"Cantidad de m3"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[Y.map(((e,r)=>{var i,t,a,c,n,o,l,d;const u=O.aljibe.find((r=>r.id==e.aljibe)),m=u.plate.find((r=>r.id.toString()===e.aljibePlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:null!==(i=u.name)&&void 0!==i?i:""}),(0,k.jsx)(h.c,{children:null!==(t=m.label)&&void 0!==t?t:""}),(0,k.jsx)(h.c,{children:null!==(a=e.aljibeCachimbaName)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:null!==(c=e.aljibeQuantityTurns)&&void 0!==c?c:0}),(0,k.jsx)(h.c,{children:null!==(n=e.aljibeM3)&&void 0!==n?n:0}),(0,k.jsx)(h.c,{children:null!==(o=e.aljibeOfferedNumber)&&void 0!==o?o:0}),(0,k.jsx)(h.c,{children:null!==(l=e.aljibeCertifiedNumber)&&void 0!==l?l:0}),(0,k.jsx)(h.c,{children:null!==(d=e.aljibeWorkNumber)&&void 0!==d?d:0}),(0,k.jsx)(h.c,{children:W&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{B(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:W&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=Y.find((r=>r.id===e)),i=O.aljibe.find((e=>e.id.toString()===r.aljibe.toString()));w(i.plate),q({aljibe:r.aljibe,aljibeCachimbaName:r.aljibeCachimbaName,aljibeQuantityTurns:r.aljibeQuantityTurns,aljibeM3:r.aljibeM3,aljibePlate:r.aljibePlate,aljibeOfferedNumber:r.aljibeOfferedNumber,aljibeCertifiedNumber:r.aljibeCertifiedNumber,aljibeWorkNumber:r.aljibeWorkNumber}),B(e)})(e.id)},children:"editar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{}),(0,k.jsx)(h.c,{}),(0,k.jsx)(h.c,{children:null!==(r=P.aljibeQuantityTurns)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=P.aljibeM3)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(f=P.aljibeOfferedNumber)&&void 0!==f?f:0}),(0,k.jsx)(h.c,{children:null!==(N=P.aljibeCertifiedNumber)&&void 0!==N?N:0}),(0,k.jsx)(h.c,{children:null!==(g=P.aljibeWorkNumber)&&void 0!==g?g:0})]},"total")]})]})]})}},31486:(e,r,i)=>{i.d(r,{A:()=>N});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(10825),l=i(64231),s=i(84709),d=i(9580),u=i(4303),h=i(67861),m=i(96528),x=i(92845),v=i(2657),j=i(54451),p=i(92073),b=i(83866),y=i(49634),k=i(73216),f=i(70579);const N=()=>{const e=(0,k.zy)().pathname,r=e.includes("/view"),i="/informe-diario"===e,N={machineryWorkForce:void 0,machineryWorkForceObservation:void 0,machinerySubWorkFront:void 0,machineryWorkFrontCharge:void 0,machineryWorkFrontQuantity:void 0},{getData:g}=(0,y.A)(),C=g("basics"),[F,W]=(0,t.useState)(N),[S,A]=(0,t.useState)([]),[O,M]=(0,t.useState)(!1),[q,D]=(0,t.useState)(!1),{storeMachineryWorkForce:H,removeMachineryWorkForce:P,machineryWorkForceList:$}=(0,j.A)(),E=e=>{if(D(!1),"machineryWorkForce"===e.target.id){const r=C.workFront.find((r=>r.id.toString()===e.target.value.toString()));M(r.hasSubFront)}"machinerySubWorkFront"===e.target.id||"machineryWorkFrontQuantity"===e.target.id?(0,b.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value}):W({...F,[e.target.id]:e.target.value})},w=e=>{const r=$.filter((r=>r.id!==e));A(r),P(e)};return(0,t.useEffect)((()=>{W({...F,machinerySubWorkFront:O?F.machinerySubWorkFront:void 0})}),[O]),(0,t.useEffect)((()=>{r||H(S)}),[S]),(0,f.jsxs)("div",{className:"work-force-report",children:[!r&&(0,f.jsxs)(f.Fragment,{children:[" ",q&&(0,f.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,f.jsx)("div",{className:"d-flex",children:(0,f.jsx)(c.B,{children:"Debe completar los datos de frente de trabajo, maquinaria y cantidad para registrar la maquinaria."})})}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",label:"Frente de trabajo",id:"machineryWorkForce",value:F.machineryWorkForce||"",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{children:"Seleccione"}),C.workFront.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),O&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machinerySubWorkFront",label:"SubFrente de trabajo",value:F.machinerySubWorkFront||"",text:"",onChange:e=>{E(e)}})]}),(0,f.jsx)("br",{}),(0,f.jsxs)(n.M,{"aria-label":"Default select example",id:"machineryWorkFrontCharge",value:F.machineryWorkFrontCharge||"",label:"Maquinaria",onChange:e=>{E(e)},children:[(0,f.jsx)("option",{value:"0",children:"Seleccione"}),C.machinery.map((e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,f.jsx)("br",{}),(0,f.jsx)(o.O,{type:"text",id:"machineryWorkFrontQuantity",label:"Cantidad",value:F.machineryWorkFrontQuantity||"",text:"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(l.I,{id:"machineryWorkForceObservation",placeholder:"Deja un comentario / observaci\xf3n",value:F.machineryWorkForceObservation||"",onChange:e=>{E(e)}}),(0,f.jsx)("br",{}),(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.machineryWorkForce&&F.machineryWorkFrontCharge&&F.machineryWorkFrontQuantity){M(!1);const e={id:(0,p.A)(),machineryWorkForceObservation:F.machineryWorkForceObservation,machineryWorkForce:F.machineryWorkForce,machinerySubWorkFront:F.machinerySubWorkFront,machineryWorkFrontCharge:F.machineryWorkFrontCharge,machineryWorkFrontQuantity:F.machineryWorkFrontQuantity};W(N),A([...$,e])}else D(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].machineryWorkForce&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d._,{className:"resume-table",children:[(0,f.jsx)(u.w,{children:(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(m.$,{scope:"col",children:"Frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Sub frente de trabajo"}),(0,f.jsx)(m.$,{scope:"col",children:"Maquinaria"}),(0,f.jsx)(m.$,{scope:"col",children:"Cantidad"}),(0,f.jsx)(m.$,{scope:"col",children:"Comentario"}),(0,f.jsx)(m.$,{scope:"col"})]})}),(0,f.jsx)(x.C,{children:$.map(((e,r)=>{var t;const a=C.workFront.find((r=>r.id==e.machineryWorkForce)),c=C.machinery.find((r=>r.id==e.machineryWorkFrontCharge));return(0,f.jsxs)(h.Y,{children:[(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:a.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:null!==(t=e.machinerySubWorkFront)&&void 0!==t?t:"N/A"},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:c.name},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.machineryWorkFrontQuantity},e.id)}),(0,f.jsx)(v.c,{children:(0,f.jsx)("span",{children:e.machineryWorkForceObservation},e.id)}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{w(e.id)},children:"eliminar"})}),(0,f.jsx)(v.c,{children:i&&(0,f.jsx)(s.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=$.find((r=>r.id===e));r.machinerySubWorkFront&&M(!0),W({machineryWorkForce:r.machineryWorkForce,machineryWorkForceObservation:r.machineryWorkForceObservation,machinerySubWorkFront:r.machinerySubWorkFront,machineryWorkFrontCharge:r.machineryWorkFrontCharge,machineryWorkFrontQuantity:r.machineryWorkFrontQuantity}),w(e)})(e.id)},children:"Editar"})})]},e.id)}))})]})})]})}},89756:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname,i=r.includes("/view"),f="/informe-diario"===r,N={machinery:void 0,machineryOfferedNumber:void 0,machineryCertifiedNumber:void 0,machineryWorkNumber:void 0},{getData:g}=(0,b.A)(),C=g("basics"),[F,W]=(0,t.useState)(N),[S,A]=(0,t.useState)([]),[O,M]=(0,t.useState)({machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0}),[q,D]=(0,t.useState)(!1),{storeMachinery:H,removeMachinery:P,machineryList:$}=(0,v.A)(),E=e=>{D(!1),"machinery"===e.target.id&&(W(N),W({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value})},w=e=>{const r=$.filter((r=>r.id!==e));A(r),P(e)};return(0,t.useEffect)((()=>{i||H(S)}),[S]),(0,t.useEffect)((()=>{let e={machineryOfferedNumber:0,machineryCertifiedNumber:0,machineryWorkNumber:0};for(let a of $){var r,i,t;e={machineryOfferedNumber:Number(e.machineryOfferedNumber)+Number(null!==(r=a.actions.machineryOfferedNumber)&&void 0!==r?r:0),machineryCertifiedNumber:Number(e.machineryCertifiedNumber)+Number(null!==(i=a.actions.machineryCertifiedNumber)&&void 0!==i?i:0),machineryWorkNumber:Number(e.machineryWorkNumber)+Number(null!==(t=a.actions.machineryWorkNumber)&&void 0!==t?t:0)}}M(e)}),[$]),(0,k.jsxs)("div",{className:"work-force-report",children:[!i&&(0,k.jsxs)(k.Fragment,{children:[" ",q&&(0,k.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar la maquinaria para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"machinery",value:null!==(e=F.machinery)&&void 0!==e?e:0,label:"Maquinaria",onChange:e=>{E(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),C.machinery.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryOfferedNumber",value:F.machineryOfferedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryCertifiedNumber",value:F.machineryCertifiedNumber||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"machineryWorkNumber",value:F.machineryWorkNumber||"",text:"",onChange:e=>{E(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.machinery){const e={id:(0,j.A)(),machinery:F.machinery,actions:{machineryOfferedNumber:F.machineryOfferedNumber,machineryCertifiedNumber:F.machineryCertifiedNumber,machineryWorkNumber:F.machineryWorkNumber}};W(N),A([...$,e])}else D(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].machinery&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 maq en Obra"})]})}),(0,k.jsxs)(u.C,{children:[$.map(((e,r)=>{var i,t,a;const c=C.machinery.find((r=>r.id==e.machinery));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:c.name}),(0,k.jsx)(h.c,{children:null!==(i=e.actions.machineryOfferedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.machineryCertifiedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.machineryWorkNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:f&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{w(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:f&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=$.find((r=>r.id===e));W({machinery:r.machinery,machineryOfferedNumber:r.actions.machineryOfferedNumber,machineryCertifiedNumber:r.actions.machineryCertifiedNumber,machineryWorkNumber:r.actions.machineryWorkNumber}),w(e)})(e.id)},children:"Editar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:O.machineryOfferedNumber}),(0,k.jsx)(h.c,{children:O.machineryCertifiedNumber}),(0,k.jsx)(h.c,{children:O.machineryWorkNumber})]},"total")]})]})]})}},56732:(e,r,i)=>{i.d(r,{A:()=>o});i(65043);var t=i(44101),a=i(44227),c=i(10825),n=(i(54451),i(70579));const o=()=>(0,n.jsx)("div",{className:"work-force-report",children:(0,n.jsx)("section",{children:Array.from({length:10},((e,r)=>(0,n.jsxs)(t.s,{children:[(0,n.jsx)(a.U,{children:(0,n.jsx)(c.O,{type:"text",id:"equipmentCorrectiveMaintenance",label:"Descripci\xf3n",text:""})}),(0,n.jsx)(a.U,{children:(0,n.jsx)(c.O,{type:"file",id:"inputGroupFile03","aria-describedby":"inputGroupFileAddon03",label:"Fotograf\xeda","aria-label":"Upload"})})]},r)))})})},31148:(e,r,i)=>{i.d(r,{A:()=>v});var t=i(65043),a=i(9580),c=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const v=()=>{const e=(0,m.zy)().pathname.includes("/view"),r={directSubtotalOfferedNumber:void 0,directSubtotalContractedNumber:void 0,directSubtotalCertifiedNumber:void 0,directSubtotalBreakNumber:void 0,directSubtotalWorkNumber:void 0,directSubtotalHHNumber:void 0,directPreviusAccumulated:void 0,directCurrentAccumulated:void 0},{storeTotalDirectWorkForce:i,directWorkForceList:v,totalDirectWorkForce:j}=(0,u.A)(),[p,b]=(0,t.useState)(r),[y,k]=(0,t.useState)(0),[f,N]=(0,t.useState)(0),[g,C]=(0,t.useState)(0),[F,W]=(0,t.useState)(0),[S,A]=(0,t.useState)(0),[O,M]=(0,t.useState)(0),[q,D]=(0,t.useState)(0),[H,P]=(0,t.useState)(0),[$,E]=(0,t.useState)(0);return(0,t.useEffect)((()=>{b({...p,directCurrentAccumulated:H})}),[H]),(0,t.useEffect)((()=>{if(e)k(j.directSubstotalHHNumber),N(j.directSubtotalOfferedNumber),C(j.directSubtotalContractedNumber),W(j.directSubtotalCertifiedNumber),A(j.directSubtotalBreakNumber),M(j.directSubtotalWorkNumber),P(j.directCurrentAccumulated),D(j.directPreviusAccumulated);else{let e=0,r=0,i=0,t=0,a=0,c=0,n=0;for(let l of v)n++,E(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),a+=Number(l.breakNumber),c+=Number(l.workNumber);k(e),N(r),C(i),W(t),A(a),M(c),P(Number(p.directPreviusAccumulated)+Number(e));const o={directSubtotalOfferedNumber:r,directSubtotalContractedNumber:i,directSubtotalCertifiedNumber:t,directSubtotalBreakNumber:a,directSubtotalWorkNumber:c,directSubstotalHHNumber:e,directPreviusAccumulated:p.directPreviusAccumulated||0,directCurrentAccumulated:Number(p.directPreviusAccumulated)+Number(e)};b(o)}}),[v]),(0,t.useEffect)((()=>{!e&&$>0&&i(p)}),[p]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(a._,{children:[(0,x.jsx)(c.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal Directos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalOfferedNumber",value:f||"0",placeholder:"N\xb0 Ofertado",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalContractedNumber",placeholder:"N\xb0 Contratados",value:g||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalCertifiedNumber",placeholder:"Acreditados",value:F||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalBreakNumber",placeholder:"N\xb0 Descanso",value:S||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalWorkNumber",placeholder:"N\xb0 Obra",value:O||"0",text:"",disabled:!0})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"directSubtotalHHNumber",placeholder:"HH (Turno)",value:y||"0",text:"",disabled:!0})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directPreviusAccumulated",value:e?q:p.directPreviusAccumulated||"",disabled:e,placeholder:"Total",text:"",onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(b({...p,directPreviusAccumulated:e.target.value}),P(Number(e.target.value)+Number(y)))})(e)}})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH directos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"directCurrentAccumulated",value:H||"0",placeholder:"Total",text:"",disabled:!0})})]})]})]})})}},56627:(e,r,i)=>{i.d(r,{A:()=>v});var t=i(65043),a=i(9580),c=i(4303),n=i(67861),o=i(96528),l=i(92845),s=i(2657),d=i(10825),u=i(54451),h=i(83866),m=i(73216),x=i(70579);const v=()=>{const e=(0,m.zy)().pathname,r=e.includes("/view"),i={indirectSubtotalOfferedNumber:void 0,indirectSubtotalContractedNumber:void 0,indirectSubtotalCertifiedNumber:void 0,indirectSubtotalBreakNumber:void 0,indirectSubtotalWorkNumber:void 0,indirectSubtotalHHNumber:void 0,indirectPreviusAccumulated:void 0,indirectCurrentAccumulated:void 0},{storeTotalIndirectWorkForce:v,indirectWorkForceList:j,totalIndirectWorkForce:p}=(0,u.A)(),[b,y]=(0,t.useState)(i),[k,f]=(0,t.useState)(0),[N,g]=(0,t.useState)(0),[C,F]=(0,t.useState)(0),[W,S]=(0,t.useState)(0),[A,O]=(0,t.useState)(0),[M,q]=(0,t.useState)(0),[D,H]=(0,t.useState)(0),[P,$]=(0,t.useState)(0),[E,w]=(0,t.useState)(0);return(0,t.useEffect)((()=>{y({...b,indirectCurrentAccumulated:P})}),[P]),(0,t.useEffect)((()=>{if(r)f(p.indirectSubstotalHHNumber),g(p.indirectSubtotalOfferedNumber),F(p.indirectSubtotalContractedNumber),S(p.indirectSubtotalCertifiedNumber),O(p.indirectSubtotalBreakNumber),q(p.indirectSubtotalWorkNumber),$(p.indirectCurrentAccumulated),H(p.indirectPreviusAccumulated);else{let e=0,r=0,i=0,t=0,a=0,c=0,n=0;for(let l of j)n++,w(n),e+=Number(l.hh),r+=Number(l.offeredNumber),i+=Number(l.contractedNumber),t+=Number(l.certified),a+=Number(l.breakNumber),c+=Number(l.workNumber);f(e),g(r),F(i),S(t),O(a),q(c),$(Number(b.indirectPreviusAccumulated)+Number(e));const o={indirectSubtotalOfferedNumber:r,indirectSubtotalContractedNumber:i,indirectSubtotalCertifiedNumber:t,indirectSubtotalBreakNumber:a,indirectSubtotalWorkNumber:c,indirectSubstotalHHNumber:e,indirectPreviusAccumulated:b.indirectPreviusAccumulated||0,indirectCurrentAccumulated:Number(b.indirectPreviusAccumulated)+Number(e)};y(o)}}),[j]),(0,t.useEffect)((()=>{!r&&E>0&&v(b)}),[b]),(0,x.jsx)("div",{className:"work-force-report",children:(0,x.jsxs)(a._,{children:[(0,x.jsx)(c.w,{children:(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"col"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Ofertado"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Contratados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Acreditados"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Descanso"}),(0,x.jsx)(o.$,{scope:"col",children:"N\xb0 Obra"}),(0,x.jsx)(o.$,{scope:"col",children:"HH (Turno)"})]})}),(0,x.jsxs)(l.C,{children:[(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Subtotal indirectos"}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalOfferedNumber",value:N||"0",disabled:!0,placeholder:"N\xb0 Ofertado",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalContractedNumber",value:C||"0",disabled:!0,placeholder:"N\xb0 Contratados",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalCertifiedNumber",value:W||"0",placeholder:"Acreditados",disabled:!0,text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalBreakNumber",value:A||"0",disabled:!0,placeholder:"N\xb0 Descanso",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalWorkNumber",value:M||"0",disabled:!0,placeholder:"N\xb0 Obra",text:""})}),(0,x.jsx)(s.c,{children:(0,x.jsx)(d.O,{type:"text",id:"indirectSubtotalHHNumber",value:k||"0",disabled:!0,placeholder:"HH (Turno)",text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Anterior"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectPreviusAccumulated",value:r?D:b.indirectPreviusAccumulated||"",disabled:r,onChange:e=>{(e=>{(0,h.t)(e.target.value)&&(y({...b,indirectPreviusAccumulated:e.target.value}),$(Number(e.target.value)+Number(k)))})(e)},text:""})})]}),(0,x.jsxs)(n.Y,{children:[(0,x.jsx)(o.$,{scope:"row",children:"Total HH Indirectos Acumulado Actual"}),(0,x.jsx)(s.c,{colSpan:6,children:(0,x.jsx)(d.O,{type:"text",id:"indirectCurrentAccumulated",value:P||"0",disabled:!0,placeholder:"Total",text:""})})]})]})]})})}},63171:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e;const r=(0,y.zy)().pathname,i=r.includes("/view"),f="/informe-diario"===r,N={vehicle:void 0,vehicleEffectiveTime:void 0,vehicleCorrectiveMaintenance:void 0,vehiclePreventiveMaintenance:void 0,vehicleOutOfService:void 0,vehicleWaiting:void 0,vehicleNoOperator:void 0,vehicleInitialHorometer:void 0,vehicleFinalHorometer:void 0,vehiclePlate:void 0},{getData:g}=(0,b.A)(),C=g("basics"),[F,W]=(0,t.useState)(N),[S,A]=(0,t.useState)([]),[O,M]=(0,t.useState)(),[q,D]=(0,t.useState)(!1),{storeVehiclePlate:H,removeVehiclePlate:P,vehiclePlateList:$}=(0,v.A)(),E=e=>{if(D(!1),"vehicle"===e.target.id)if(W(N),W({[e.target.id]:e.target.value}),"0"!==e.target.value){const r=C.vehicles.find((r=>r.id.toString()===e.target.value.toString()));M(r.plate)}else M();else"vehiclePlate"===e.target.id?"0"!==e.target.value?W({...F,[e.target.id]:e.target.value}):W({...F,[e.target.id]:"0"}):(0,p.t)(e.target.value)&&W({...F,[e.target.id]:e.target.value})},w=e=>{const r=$.filter((r=>r.id!==e));A(r),P(e)};return(0,t.useEffect)((()=>{i||H(S)}),[S]),(0,k.jsxs)("div",{className:"work-force-report",children:[!i&&(0,k.jsxs)(k.Fragment,{children:[q&&(0,k.jsx)(a.J,{autohide:!0,visible:q,color:"danger",onClose:()=>{D(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo y la patente para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",value:F.vehicle||0,label:"Veh\xedculo",onChange:e=>{E(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),C.vehicles.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),O&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",label:"Patente",id:"vehiclePlate",value:null!==(e=F.vehiclePlate)&&void 0!==e?e:0,onChange:e=>{E(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),O.map((e=>(0,k.jsx)("option",{value:e.id,children:e.label},e.id)))]})]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "})]})}),(0,k.jsxs)(u.C,{children:[(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleEffectiveTime",value:F.vehicleEffectiveTime||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleCorrectiveMaintenance",value:F.vehicleCorrectiveMaintenance||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehiclePreventiveMaintenance",value:F.vehiclePreventiveMaintenance||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleOutOfService",value:F.vehicleOutOfService||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleWaiting",value:F.vehicleWaiting||"",text:"",onChange:e=>{E(e)}})})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "})]}),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleNoOperator",value:F.vehicleNoOperator||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleInitialHorometer",value:F.vehicleInitialHorometer||"",text:"",onChange:e=>{E(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleFinalHorometer",value:F.vehicleFinalHorometer||"",text:"",onChange:e=>{E(e)}})})]})]})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(F.vehicle&&"0"!==F.vehicle&&F.vehiclePlate&&"0"!==F.vehiclePlate){M();const e={id:(0,j.A)(),vehicle:F.vehicle,vehicleEffectiveTime:F.vehicleEffectiveTime,vehicleCorrectiveMaintenance:F.vehicleCorrectiveMaintenance,vehiclePreventiveMaintenance:F.vehiclePreventiveMaintenance,vehicleOutOfService:F.vehicleOutOfService,vehicleWaiting:F.vehicleWaiting,vehicleNoOperator:F.vehicleNoOperator,vehicleInitialHorometer:F.vehicleInitialHorometer,vehicleFinalHorometer:F.vehicleFinalHorometer,vehiclePlate:F.vehiclePlate};W(N),A([...$,e])}else D(!0)})()},children:"Registrar"})]}),$.length>0&&$[0].vehicle&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"Veh\xedculo"}),(0,k.jsx)(d.$,{scope:"col",children:"Patente"}),(0,k.jsx)(d.$,{scope:"col",children:"Operativos (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n Correctiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Mantenci\xf3n preventiva (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Fuera de Servicio (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"En Espera (Hrs) "}),(0,k.jsx)(d.$,{scope:"col",children:"Sin Operador (Hrs)"}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Inicial "}),(0,k.jsx)(d.$,{scope:"col",children:"Horometro Final "}),(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col"})]})}),(0,k.jsx)(u.C,{children:$.map(((e,r)=>{var i,t,a,c,n,o,l,d;const u=C.vehicles.find((r=>r.id==e.vehicle)),m=u.plate.find((r=>r.id.toString()===e.vehiclePlate.toString()));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:u.name}),(0,k.jsx)(h.c,{children:m.label}),(0,k.jsx)(h.c,{children:null!==(i=e.vehicleEffectiveTime)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.vehicleCorrectiveMaintenance)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.vehiclePreventiveMaintenance)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:null!==(c=e.vehicleOutOfService)&&void 0!==c?c:0}),(0,k.jsx)(h.c,{children:null!==(n=e.vehicleWaiting)&&void 0!==n?n:0}),(0,k.jsx)(h.c,{children:null!==(o=e.vehicleNoOperator)&&void 0!==o?o:0}),(0,k.jsx)(h.c,{children:null!==(l=e.vehicleInitialHorometer)&&void 0!==l?l:0}),(0,k.jsx)(h.c,{children:null!==(d=e.vehicleFinalHorometer)&&void 0!==d?d:0}),(0,k.jsx)(h.c,{children:f&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{w(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:f&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=$.find((r=>r.id===e)),i=C.vehicles.find((e=>e.id.toString()===r.vehicle.toString()));M(i.plate),W({vehicle:r.vehicle,vehicleEffectiveTime:r.vehicleEffectiveTime,vehicleCorrectiveMaintenance:r.vehicleCorrectiveMaintenance,vehiclePreventiveMaintenance:r.vehiclePreventiveMaintenance,vehicleOutOfService:r.vehicleOutOfService,vehicleWaiting:r.vehicleWaiting,vehicleNoOperator:r.vehicleNoOperator,vehicleInitialHorometer:r.vehicleInitialHorometer,vehicleFinalHorometer:r.vehicleFinalHorometer,vehiclePlate:r.vehiclePlate}),w(e)})(e.id)},children:"Editar"})})]},r)}))})]})]})}},26460:(e,r,i)=>{i.d(r,{A:()=>f});var t=i(65043),a=i(56351),c=i(77955),n=i(97397),o=i(9580),l=i(4303),s=i(67861),d=i(96528),u=i(92845),h=i(2657),m=i(10825),x=i(84709),v=i(54451),j=i(92073),p=i(83866),b=i(49634),y=i(73216),k=i(70579);const f=()=>{var e,r,i;const f=(0,y.zy)().pathname,N=f.includes("/view"),g="/informe-diario"===f,C={vehicle:void 0,vehicleOfferedNumber:void 0,vehicleCertifiedNumber:void 0,vehicleWorkNumber:void 0},{getData:F}=(0,b.A)(),W=F("basics"),[S,A]=(0,t.useState)(C),[O,M]=(0,t.useState)([]),[q,D]=(0,t.useState)({vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0}),[H,P]=(0,t.useState)(!1),{storeVehicle:$,removeVehicle:E,vehicleList:w}=(0,v.A)(),T=e=>{P(!1),"vehicle"===e.target.id&&(A(C),A({[e.target.id]:e.target.value})),(0,p.t)(e.target.value)&&A({...S,[e.target.id]:e.target.value})},L=e=>{const r=w.filter((r=>r.id!==e));M(r),E(e)};return(0,t.useEffect)((()=>{N||$(O)}),[O]),(0,t.useEffect)((()=>{let e={vehicleOfferedNumber:0,vehicleCertifiedNumber:0,vehicleWorkNumber:0};for(let a of w){var r,i,t;e={vehicleOfferedNumber:Number(e.vehicleOfferedNumber)+Number(null!==(r=a.actions.vehicleOfferedNumber)&&void 0!==r?r:0),vehicleCertifiedNumber:Number(e.vehicleCertifiedNumber)+Number(null!==(i=a.actions.vehicleCertifiedNumber)&&void 0!==i?i:0),vehicleWorkNumber:Number(e.vehicleWorkNumber)+Number(null!==(t=a.actions.vehicleWorkNumber)&&void 0!==t?t:0)}}D(e)}),[w]),(0,k.jsxs)("div",{className:"work-force-report",children:[!N&&(0,k.jsxs)(k.Fragment,{children:[H&&(0,k.jsx)(a.J,{autohide:!0,visible:H,color:"danger",onClose:()=>{P(!1)},className:"text-white align-items-center",children:(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)(c.B,{children:"Debe seleccionar el equipo para generar el registro"})})}),(0,k.jsxs)(n.M,{"aria-label":"Default select example",id:"vehicle",label:"Veh\xedculo",value:S.vehicle||"",onChange:e=>{T(e)},children:[(0,k.jsx)("option",{value:0,children:"Seleccione"}),W.vehicles.map((e=>(0,k.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,k.jsxs)(o._,{children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculo en Obra"})]})}),(0,k.jsx)(u.C,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleOfferedNumber",value:S.vehicleOfferedNumber||"",text:"",onChange:e=>{T(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleCertifiedNumber",value:S.vehicleCertifiedNumber||"",text:"",onChange:e=>{T(e)}})}),(0,k.jsx)(h.c,{children:(0,k.jsx)(m.O,{type:"text",id:"vehicleWorkNumber",value:S.vehicleWorkNumber||"",text:"",onChange:e=>{T(e)}})})]})})]}),(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(()=>{if(S.vehicle&&"0"!==S.vehicle){const e={id:(0,j.A)(),vehicle:S.vehicle,actions:{vehicleOfferedNumber:S.vehicleOfferedNumber,vehicleCertifiedNumber:S.vehicleCertifiedNumber,vehicleWorkNumber:S.vehicleWorkNumber}};A(C),M([...w,e])}else P(!0)})()},children:"Registrar"})]}),w.length>0&&w[0].vehicle&&(0,k.jsxs)(o._,{className:"resume-table",children:[(0,k.jsx)(l.w,{children:(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(d.$,{scope:"col"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos oferta"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos Acreditado"}),(0,k.jsx)(d.$,{scope:"col",children:"N\xb0 Veh\xedculos en Obra"})]})}),(0,k.jsxs)(u.C,{children:[w.map(((e,r)=>{var i,t,a;const c=W.vehicles.find((r=>r.id==e.vehicle));return(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:c.name}),(0,k.jsx)(h.c,{children:null!==(i=e.actions.vehicleOfferedNumber)&&void 0!==i?i:0}),(0,k.jsx)(h.c,{children:null!==(t=e.actions.vehicleCertifiedNumber)&&void 0!==t?t:0}),(0,k.jsx)(h.c,{children:null!==(a=e.actions.vehicleWorkNumber)&&void 0!==a?a:0}),(0,k.jsx)(h.c,{children:g&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{L(e.id)},children:"eliminar"})}),(0,k.jsx)(h.c,{children:g&&(0,k.jsx)(x.Q,{className:"btn-project-action",onClick:()=>{(e=>{const r=w.find((r=>r.id===e));A({vehicle:r.vehicle,vehicleOfferedNumber:r.actions.vehicleOfferedNumber,vehicleCertifiedNumber:r.actions.vehicleCertifiedNumber,vehicleWorkNumber:r.actions.vehicleWorkNumber}),L(e)})(e.id)},children:"Editar"})})]},r)})),(0,k.jsxs)(s.Y,{children:[(0,k.jsx)(h.c,{children:"Total"}),(0,k.jsx)(h.c,{children:null!==(e=q.vehicleOfferedNumber)&&void 0!==e?e:0}),(0,k.jsx)(h.c,{children:null!==(r=q.vehicleCertifiedNumber)&&void 0!==r?r:0}),(0,k.jsx)(h.c,{children:null!==(i=q.vehicleWorkNumber)&&void 0!==i?i:0})]},"total")]})]})]})}},27304:(e,r,i)=>{i.d(r,{A:()=>o});i(65043);var t=i(93750),a=i.n(t);const c=JSON.parse('{"v":"5.5.9","fr":60,"ip":0,"op":107,"w":700,"h":700,"nm":"loading 19","ddd":1,"assets":[],"layers":[{"ddd":1,"ind":1,"ty":3,"nm":"Null 12","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.197],"y":[1]},"o":{"x":[0.82],"y":[0]},"t":0,"s":[0]},{"t":107,"s":[-360]}],"ix":9},"rz":{"a":1,"k":[{"i":{"x":[0.425],"y":[1]},"o":{"x":[0.478],"y":[0]},"t":0,"s":[0]},{"t":107,"s":[-90]}],"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[350,350,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"ip":0,"op":390,"st":0,"bm":0},{"ddd":1,"ind":2,"ty":4,"nm":"Shape Layer 9","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":50,"s":[0]},{"t":106,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-5,"op":440,"st":50,"bm":0},{"ddd":1,"ind":3,"ty":4,"nm":"Shape Layer 8","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":42,"s":[0]},{"t":98,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-13,"op":432,"st":42,"bm":0},{"ddd":1,"ind":4,"ty":4,"nm":"Shape Layer 7","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":36,"s":[0]},{"t":92,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,57.233,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-19,"op":426,"st":36,"bm":0},{"ddd":1,"ind":5,"ty":4,"nm":"Shape Layer 6","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":32,"s":[0]},{"t":88,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-13,"op":422,"st":32,"bm":0},{"ddd":1,"ind":6,"ty":4,"nm":"Shape Layer 5","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":24,"s":[0]},{"t":80,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[22,22,22],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-21,"op":414,"st":24,"bm":0},{"ddd":1,"ind":7,"ty":4,"nm":"Shape Layer 4","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[0]},{"t":74,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,0.043,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-27,"op":408,"st":18,"bm":0},{"ddd":1,"ind":8,"ty":4,"nm":"Shape Layer 3","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":14,"s":[0]},{"t":70,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[56.739,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-2,"op":404,"st":14,"bm":0},{"ddd":1,"ind":9,"ty":4,"nm":"Shape Layer 2","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":6,"s":[0]},{"t":62,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-0.021,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.14901960784313725,0.21568627450980393,0.27450980392156865,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-10,"op":396,"st":6,"bm":0},{"ddd":1,"ind":10,"ty":4,"nm":"Shape Layer 1","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"rx":{"a":0,"k":0,"ix":8},"ry":{"a":1,"k":[{"i":{"x":[0.704],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[0]},{"t":56,"s":[-180]}],"ix":9},"rz":{"a":0,"k":0,"ix":10},"or":{"a":0,"k":[0,0,0],"ix":7},"p":{"a":0,"k":[-56.781,-57.147,0],"ix":2},"a":{"a":0,"k":[14.666,-67.334,0],"ix":1},"s":{"a":0,"k":[43,43,43],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[133.332,133.332],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.03137254901960784,0.7098039215686275,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.011764705882352941,0.06666666666666667,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[14.666,-67.334],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-16,"op":390,"st":0,"bm":0}],"markers":[]}');var n=i(70579);const o=()=>(0,n.jsx)(a(),{animationData:c,loop:!0,width:20,className:"loading"})},84998:(e,r,i)=>{i.d(r,{A:()=>l});var t=i(47097),a=i(65043),c=i(77154),n=i(28452),o=i(35761);const l=()=>{const{getProject:e,getContract:r}=(0,o.A)(),i=JSON.parse(e()),l=JSON.parse(r()),[s,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),{company:v,indirectWorkForceList:j,directWorkForceList:p,totalIndirectWorkForce:b,totalDirectWorkForce:y,directDotationWorkForceList:k,machineryWorkForceList:f,equipmentWorkForceList:N,vehicleWorkForceList:g,incident:C,comment:F,machineryList:W,equipmentList:S,vehicleList:A,activityList:O,asarcoMachineryList:M,equipmentPlateList:q,vehiclePlateList:D,aljibeList:H,clearContext:P,graphList:$}=(0,a.useContext)(n.D),{mutate:E}=(0,t.n)({mutationFn:async e=>c.A.post("https://pyg-production.up.railway.app/api/v1/reports",e),onSuccess:()=>{d(!1),x(!0),P()},onError:e=>{d(!1),x(!1),h("Recuerda rellenar todos los campos")}});let w=[],T={};for(let t of S)T={},T.equipment=t.equipment,T.actions=JSON.stringify(t.actions),w.push(T);let L=[],Q={};for(let t of W)Q={},Q.machinery=t.machinery,Q.actions=JSON.stringify(t.actions),L.push(Q);let R=[],Y={};for(let t of A)Y={},Y.vehicle=t.vehicle,Y.actions=JSON.stringify(t.actions),R.push(Y);return{registerData:async()=>{d(!0),h(),x(!1);return E({projectId:i.id,contractId:l.id,company:v,indirectWorkForceList:j,totalIndirectWorkForce:b,directWorkForceList:p,totalDirectWorkForce:y,directDotationWorkForceList:k,machineryList:L,machineryWorkForceList:f,equipmentList:w,equipmentWorkForceList:N,vehicleList:R,vehiclePlateList:D,activityList:O,comment:F,incident:C,asarcoMachineryList:M,equipmentPlateList:q,aljibeList:H,graphList:$})},loading:s,error:u,success:m,clearData:()=>{P()}}}},54451:(e,r,i)=>{i.d(r,{A:()=>c});var t=i(65043),a=i(28452);const c=()=>{const{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:c,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:v,indirectDotationWorkForceList:j,storeDirectDotationWorkForceData:p,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:k,machineryWorkForceList:f,storeMachineryWorkForce:N,removeMachineryWorkForce:g,storeEquipmentWorkForce:C,removeEquipmentWorkForce:F,equipmentWorkForceList:W,storeVehicleWorkForce:S,removeVehicleWorkForce:A,vehicleWorkForceList:O,storeComment:M,comment:q,storeIncident:D,incident:H,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:w,storeEquipment:T,removeEquipment:L,equipmentList:Q,storeVehicle:R,removeVehicle:Y,vehicleList:I,storeActivity:B,removeActivity:V,activityList:U,storeAsarcoMachinery:G,removeAsarcoMachinery:_,asarcoMachineryList:J,storeEquipmentPlate:z,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ae,clearContext:ce,storeGraphs:ne,graphList:oe}=(0,t.useContext)(a.D);return{company:e,storeCompanyData:r,storeIndirectWorkForceData:i,storeDirectWorkForce:c,removeDirectWorkForce:n,directWorkForceList:o,indirectWorkForceList:l,removeIndirectWorkForce:s,storeTotalIndirectWorkForce:d,totalIndirectWorkForce:u,storeTotalDirectWorkForce:h,totalDirectWorkForce:m,storeIndirectDotationWorkForceData:x,removeIndirectDotationWorkForce:v,indirectDotationWorkForceList:j,storeDirectDotationWorkForceData:p,removeDirectDotationWorkForce:b,directDotationWorkForceList:y,storeDotationWorkfoce:k,machineryWorkForceList:f,storeMachineryWorkForce:N,removeMachineryWorkForce:g,storeEquipmentWorkForce:C,removeEquipmentWorkForce:F,equipmentWorkForceList:W,storeVehicleWorkForce:S,removeVehicleWorkForce:A,vehicleWorkForceList:O,storeComment:M,comment:q,storeIncident:D,incident:H,removeIncident:P,storeMachinery:$,removeMachinery:E,machineryList:w,storeEquipment:T,removeEquipment:L,equipmentList:Q,storeVehicle:R,removeVehicle:Y,vehicleList:I,storeActivity:B,removeActivity:V,activityList:U,storeAsarcoMachinery:G,removeAsarcoMachinery:_,asarcoMachineryList:J,storeEquipmentPlate:z,removeEquipmentPlate:K,equipmentPlateList:X,storeVehiclePlate:Z,removeVehiclePlate:ee,vehiclePlateList:re,storealjibe:ie,removealjibe:te,aljibeList:ae,clearContext:ce,storeGraphs:ne,graphList:oe}}},83866:(e,r,i)=>{i.d(r,{t:()=>t});const t=e=>e.match(/^[0-9]*\.?[0-9]*$/)}}]);
//# sourceMappingURL=315.d054fccd.chunk.js.map