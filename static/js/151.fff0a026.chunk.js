"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[151],{73532:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var n=t(65043),r=(t(25762),t(8270),t(56627),t(31148),t(54451)),a=t(70579);t(34974);t(89756),t(31486),t(54823),t(42566),t(26460);t(49957),t(17564),t(87921),t(90761),t(43357);var l=t(84998),s=(t(85930),t(44619),t(63171),t(81925),t(56732),t(73216)),i=t(4398),c=t(11418),d=t(16323),m=t(81917),u=t(44101),f=t(44227),p=t(64231),v=t(85968),b=t(84709);const y=e=>{const[o,t]=(0,n.useState)(""),[r,l]=(0,n.useState)(!1);return(0,a.jsxs)(i.z,{scrollable:!0,visible:e.visible,onClose:()=>e.sendDataToParent(!1),"aria-labelledby":"ScrollingLongContentExampleLabel2",size:"xl",className:"project-creation-modal",children:[(0,a.jsx)(c.E,{}),(0,a.jsx)(d.T,{children:(0,a.jsx)(m.q,{children:(0,a.jsx)(u.s,{children:(0,a.jsx)(f.U,{sm:12,children:(0,a.jsx)(p.I,{id:"rejectCommentary",label:"Comentario",value:o||"",rows:3,invalid:r,text:r&&"Debe agregar un comentario para rechazar el informe diario.",onChange:e=>{(e=>{t(e.target.value)})(e)}})})})})}),(0,a.jsxs)(v.I,{children:[(0,a.jsx)(b.Q,{color:"danger",onClick:()=>(l(!1),void(""!==o?e.sendDataToParent(!1):l(!0))),children:"Rechazar"}),(0,a.jsx)(b.Q,{color:"primary",onClick:()=>{e.sendDataToParent(!1)},children:"Aprobar"})]})]})};var h=t(50286),g=t(33577),N=t(49634);const x=()=>{(0,s.zy)().pathname.includes("/edit"),(0,s.Zp)();const[e,o]=(0,n.useState)(!1),{company:t,indirectWorkForceList:i,totalIndirectWorkForce:c,directWorkForceList:d,totalDirectWorkForce:m,asarcoMachineryList:u,machineryList:f,equipmentList:p,equipmentPlateList:v,vehicleList:b,vehiclePlateList:x,activityList:C,aljibeList:E,comment:L,incident:k,directDotationWorkForceList:T,machineryWorkForceList:w,equipmentWorkForceList:j}=(0,r.A)(),[P,F]=(0,n.useState)(!1),[R,D]=(0,n.useState)(),[W,O]=(0,n.useState)();(0,n.useEffect)((()=>{t.dailyReportDate||window.location.reload()}),[t]);const{getData:A}=(0,N.A)(),z=A("basics"),{registerData:S}=(0,l.A)();return(0,a.jsxs)("div",{className:"dailyReport",children:[e&&(0,a.jsx)(y,{visible:!0,sendDataToParent:async e=>{o(e)}}),(0,a.jsxs)("div",{children:["dsadsa",(0,a.jsx)(h.XP,{document:(0,a.jsx)(g.default,{company:t,indirectWorkForceList:i,basicQuery:z,totalIndirectWorkForce:c,directWorkForceList:d,totalDirectWorkForce:m,asarcoMachineryList:u,machineryList:f,equipmentList:p,equipmentPlateList:v,vehiclePlateList:x,vehicleList:b,activityList:C,aljibeList:E,comment:L,incident:k,directDotationWorkForceList:T,machineryWorkForceList:w,equipmentWorkForceList:j}),fileName:"Reporte 1.pdf",children:e=>{let{blob:o,url:t,loading:n,error:r}=e;return console.log("blob",o),console.log("url",t),console.log("loading",n),console.log("error",r),F(n),D(o),O(t),n?"Loading document...":"Descargar PDF!"}})]}),!P&&W&&R?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(a.Fragment,{children:"cargando"})]})};var C=t(80861),E=t(96105),L=t(23682);const k=()=>{let e=(0,s.Zp)();const{getData:o}=(0,N.A)(),t=o("basics");return(0,n.useEffect)((()=>{t||e("/dashboard")}),[t]),(0,a.jsx)("div",{className:"daily-report",children:(0,a.jsx)(C.E,{children:(0,a.jsx)(E.W,{children:(0,a.jsx)(L.d,{children:(0,a.jsx)(x,{})})})})})}},23682:(e,o,t)=>{t.d(o,{d:()=>i});var n=t(22378),r=t(65043),a=t(65173),l=t.n(a),s=t(25196),i=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.as,l=void 0===a?"p":a,i=e.className,c=(0,n.Tt)(e,["children","as","className"]);return r.createElement(l,(0,n.Cl)({className:(0,s.A)("card-text",i)},c,{ref:o}),t)}));i.propTypes={as:l().elementType,children:l().node,className:l().string},i.displayName="CCardText"},4398:(e,o,t)=>{t.d(o,{z:()=>v,m:()=>p});var n=t(22378),r=t(65043),a=t(65173),l=t.n(a),s=t(25196),i=t(46125),c=t(372),d=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.className,l=(0,n.Tt)(e,["children","className"]);return r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal-content",a)},l,{ref:o}),t)}));d.propTypes={children:l().node,className:l().string},d.displayName="CModalContent";var m=(0,r.forwardRef)((function(e,o){var t,a=e.children,l=e.alignment,i=e.className,c=e.fullscreen,d=e.scrollable,m=e.size,u=(0,n.Tt)(e,["children","alignment","className","fullscreen","scrollable","size"]);return r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal-dialog",(t={"modal-dialog-centered":"center"===l},t["boolean"===typeof c?"modal-fullscreen":"modal-fullscreen-".concat(c,"-down")]=c,t["modal-dialog-scrollable"]=d,t["modal-".concat(m)]=m,t),i)},u,{ref:o}),a)}));m.propTypes={alignment:l().oneOf(["top","center"]),children:l().node,className:l().string,fullscreen:l().oneOfType([l().bool,l().oneOf(["sm","md","lg","xl","xxl"])]),scrollable:l().bool,size:l().oneOf(["sm","lg","xl"])},m.displayName="CModalDialog";var u=t(94462),f=t(80413),p=(0,r.createContext)({}),v=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.alignment,l=e.backdrop,v=void 0===l||l,b=e.className,y=e.duration,h=void 0===y?150:y,g=e.focus,N=void 0===g||g,x=e.fullscreen,C=e.keyboard,E=void 0===C||C,L=e.onClose,k=e.onClosePrevented,T=e.onShow,w=e.portal,j=void 0===w||w,P=e.scrollable,F=e.size,R=e.transition,D=void 0===R||R,W=e.unmountOnClose,O=void 0===W||W,A=e.visible,z=(0,n.Tt)(e,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),S=(0,r.useRef)(null),M=(0,r.useRef)(null),q=(0,r.useRef)(null),I=(0,u.E2)(o,M),B=(0,r.useState)(A),Q=B[0],G=B[1],V=(0,r.useState)(!1),Y=V[0],Z=V[1],_={visible:Q,setVisible:G};(0,r.useEffect)((function(){G(A)}),[A]),(0,r.useEffect)((function(){var e;return Q?(S.current=document.activeElement,document.addEventListener("mouseup",U),document.addEventListener("keydown",X)):null===(e=S.current)||void 0===e||e.focus(),function(){document.removeEventListener("mouseup",U),document.removeEventListener("keydown",X)}}),[Q]);var H=function(){return"static"===v?Z(!0):(G(!1),L&&L())};(0,r.useLayoutEffect)((function(){k&&k(),setTimeout((function(){return Z(!1)}),h)}),[Y]),(0,r.useLayoutEffect)((function(){return Q?(document.body.classList.add("modal-open"),v&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout((function(){var e;N&&(null===(e=M.current)||void 0===e||e.focus())}),D?h:0)):(document.body.classList.remove("modal-open"),v&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),v&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}}),[Q]);var U=function(e){M.current&&M.current==e.target&&H()},X=function(e){"Escape"===e.key&&E&&H()};return r.createElement(r.Fragment,null,r.createElement(f.Ay,{in:Q,mountOnEnter:!0,nodeRef:M,onEnter:T,onExit:L,unmountOnExit:O,timeout:D?h:0},(function(e){return r.createElement(c.Y,{portal:j},r.createElement(p.Provider,{value:_},r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal",{"modal-static":Y,fade:D,show:"entered"===e},b),tabIndex:-1},Q?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:(0,n.Cl)({},"exited"!==e&&{display:"block"})},z,{ref:I}),r.createElement(m,{alignment:a,fullscreen:x,scrollable:P,size:F},r.createElement(d,{ref:q},t)))))})),v&&r.createElement(c.Y,{portal:j},r.createElement(i.W,{visible:Q})))}));v.propTypes={alignment:l().oneOf(["top","center"]),backdrop:l().oneOfType([l().bool,l().oneOf(["static"])]),children:l().node,className:l().string,duration:l().number,focus:l().bool,fullscreen:l().oneOfType([l().bool,l().oneOf(["sm","md","lg","xl","xxl"])]),keyboard:l().bool,onClose:l().func,onClosePrevented:l().func,onShow:l().func,portal:l().bool,scrollable:l().bool,size:l().oneOf(["sm","lg","xl"]),transition:l().bool,unmountOnClose:l().bool,visible:l().bool},v.displayName="CModal"},16323:(e,o,t)=>{t.d(o,{T:()=>i});var n=t(22378),r=t(65043),a=t(65173),l=t.n(a),s=t(25196),i=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.className,l=(0,n.Tt)(e,["children","className"]);return r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal-body",a)},l,{ref:o}),t)}));i.propTypes={children:l().node,className:l().string},i.displayName="CModalBody"},85968:(e,o,t)=>{t.d(o,{I:()=>i});var n=t(22378),r=t(65043),a=t(65173),l=t.n(a),s=t(25196),i=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.className,l=(0,n.Tt)(e,["children","className"]);return r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal-footer",a)},l,{ref:o}),t)}));i.propTypes={children:l().node,className:l().string},i.displayName="CModalFooter"},11418:(e,o,t)=>{t.d(o,{E:()=>d});var n=t(22378),r=t(65043),a=t(65173),l=t.n(a),s=t(25196),i=(0,r.forwardRef)((function(e,o){var t=e.className,a=e.dark,l=e.disabled,i=e.white,c=(0,n.Tt)(e,["className","dark","disabled","white"]);return r.createElement("button",(0,n.Cl)({type:"button",className:(0,s.A)("btn","btn-close",{"btn-close-white":i},l,t),"aria-label":"Close",disabled:l},a&&{"data-coreui-theme":"dark"},c,{ref:o}))}));i.propTypes={className:l().string,dark:l().bool,disabled:l().bool,white:l().bool},i.displayName="CCloseButton";var c=t(4398),d=(0,r.forwardRef)((function(e,o){var t=e.children,a=e.className,l=e.closeButton,d=void 0===l||l,m=(0,n.Tt)(e,["children","className","closeButton"]),u=(0,r.useContext)(c.m).setVisible;return r.createElement("div",(0,n.Cl)({className:(0,s.A)("modal-header",a)},m,{ref:o}),t,d&&r.createElement(i,{onClick:function(){return u(!1)}}))}));d.propTypes={children:l().node,className:l().string,closeButton:l().bool},d.displayName="CModalHeader"}}]);
//# sourceMappingURL=151.fff0a026.chunk.js.map