"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[955],{21888:(e,a,l)=>{l.d(a,{A:()=>f});l(65043);var t=l(4398),n=l(11418),c=l(89689),r=l(16323),i=l(81917),s=l(44101),o=l(44227),d=l(10825),m=l(64231),b=l(3805),p=l(85968),h=l(84709),x=l(70579);const f=e=>{const a=()=>{e.sendDataToParent(!1)};return(0,x.jsxs)(t.z,{scrollable:!0,visible:e.visible,onClose:()=>a(),"aria-labelledby":"ScrollingLongContentExampleLabel2",size:"xl",className:"project-creation-modal",children:[(0,x.jsx)(n.E,{children:(0,x.jsx)(c.l,{id:"ScrollingLongContentExampleLabel2",children:"A\xf1adir Proyecto"})}),(0,x.jsx)(r.T,{children:(0,x.jsxs)(i.q,{children:[(0,x.jsxs)(s.s,{children:[(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(d.O,{type:"text",id:"projectName",label:"Nombre de proyecto",placeholder:"Nombre de proyecto",text:"",onChange:e=>{}})}),(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(d.O,{type:"text",id:"contract",label:"Contrato",placeholder:"Contrato",text:""})})]}),(0,x.jsxs)(s.s,{children:[(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(d.O,{type:"text",id:"manager",label:"Encargado",placeholder:"Encargado",text:""})}),(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(d.O,{type:"file",id:"formFile",label:"Elegir archivo"})})]}),(0,x.jsx)(s.s,{children:(0,x.jsx)(o.U,{sm:12,children:(0,x.jsx)(m.I,{id:"description",label:"Descripci\xf3n",rows:3,text:""})})}),(0,x.jsx)(s.s,{children:(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(d.O,{type:"color",id:"color",defaultValue:"#FFFFFF",label:"Color de fondo",title:"Color de fondo"})})}),(0,x.jsx)(s.s,{children:(0,x.jsx)(o.U,{sm:6,children:(0,x.jsx)(b.C,{id:"active",label:"Activo"})})})]})}),(0,x.jsxs)(p.I,{children:[(0,x.jsx)(h.Q,{color:"secondary",onClick:()=>a(),children:"Cerrar"}),(0,x.jsx)(h.Q,{className:"btn-add",children:"A\xf1adir proyecto"})]})]})}},14955:(e,a,l)=>{l.r(a),l.d(a,{default:()=>k});var t=l(65043),n=l(73216),c=l(44227),r=l(80861),i=l(64907),s=l(96105),o=l(23682),d=l(44101),m=l(30529),b=l(3526),p=l(6145),h=l(35761),x=l(27304),f=l(36566);const j=e=>{const{data:a,isLoading:l,error:t}=(0,f.b)(e);return{data:a,isLoading:l,error:t}};var u=l(49634),v=l(21888),g=l(70579);const k=()=>{const e=(0,n.Zp)(),a=localStorage.getItem("USER_TYPE"),{getData:l}=(0,u.A)(),f=l("contracts"),{getContract:k,saveProject:C,saveContract:E}=(0,h.A)(),y=JSON.parse(k()),{data:N,isLoading:A,error:F}=j(1),[T,L]=(0,t.useState)(),[O,U]=(0,t.useState)(),[I,S]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{if("admin"!==a)f&&y||e("/project_selector");else{const e=f.contract.find((e=>e.id===y.id));L(e),U(e.project)}}),[f,y]),(0,t.useEffect)((()=>{"admin"!==a&&N&&U(N)}),[N]),(0,g.jsxs)(g.Fragment,{children:[I&&(0,g.jsx)(v.A,{visible:!0,sendDataToParent:e=>{S(e)}}),(0,g.jsx)(c.U,{sm:6,className:"project-selector-container",children:(0,g.jsxs)(r.E,{children:[(0,g.jsx)(i.Q,{children:(0,g.jsx)("h3",{children:"Seleccion de Proyecto"})}),(0,g.jsx)(s.W,{children:(0,g.jsxs)(o.d,{children:[A&&(0,g.jsx)(x.A,{}),!A&&O&&O.map(((l,t)=>{var n;return(0,g.jsx)(d.s,{children:(0,g.jsx)(c.U,{children:(0,g.jsx)(m.$,{onClick:()=>{(l=>{if("admin"!==a){const a={name:l.name,id:l.id};C(a),e("/contrato")}else{const a={name:l.name,id:l.id};C(a),e("/dashboard")}})(l)},className:"mb-3",icon:(0,g.jsx)(p.A,{className:"my-4 text-white",icon:"https://pgproject.cl/uploads/1705996608_a41c61e65ecf2a35c699.jpg",height:52}),chart:(0,g.jsxs)(b.T,{className:"project-selector-container",children:[(0,g.jsx)(d.s,{children:(0,g.jsx)("span",{className:"project-title",children:l.name})}),l.manager&&(0,g.jsx)(d.s,{children:(0,g.jsxs)("span",{className:"project-manager",children:["Encargado: ",l.manager]})})]}),style:{"--cui-card-cap-bg":"#1A4D55",cursor:"pointer"},values:[{title:"Contratos",value:(null===l||void 0===l||null===(n=l.contracts)||void 0===n?void 0:n.length)||0}]})})},t)})),(0,g.jsx)(d.s,{children:(0,g.jsx)(c.U,{children:(0,g.jsx)(m.$,{onClick:()=>{S(!I)},className:"mb-3",icon:(0,g.jsx)(p.A,{className:"my-4 text-white",icon:"https://pgproject.cl/uploads/1705996608_a41c61e65ecf2a35c699.jpg",height:52}),chart:(0,g.jsx)(b.T,{className:"project-selector-container",children:(0,g.jsx)(d.s,{children:(0,g.jsx)("span",{className:"project-title",children:"Crear nuevo proyecto"})})}),style:{"--cui-card-cap-bg":"#1A4D55",cursor:"pointer"}})})},0)]})})]})})]})}},3805:(e,a,l)=>{l.d(a,{C:()=>m});var t=l(22378),n=l(65043),c=l(65173),r=l.n(c),i=l(25196),s=l(23668),o=l(65823),d=l(94462),m=(0,n.forwardRef)((function(e,a){var l=e.className,c=e.button,r=e.feedback,m=e.feedbackInvalid,b=e.feedbackValid,p=e.floatingLabel,h=e.tooltipFeedback,x=e.hitArea,f=e.id,j=e.indeterminate,u=e.inline,v=e.invalid,g=e.label,k=e.reverse,C=e.type,E=void 0===C?"checkbox":C,y=e.valid,N=(0,t.Tt)(e,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),A=(0,n.useRef)(null),F=(0,d.E2)(a,A);(0,n.useEffect)((function(){A.current&&j&&(A.current.indeterminate=j)}),[j,A.current]);var T=function(){return n.createElement("input",(0,t.Cl)({type:E,className:(0,i.A)(c?"btn-check":"form-check-input",{"is-invalid":v,"is-valid":y,"me-2":x}),id:f},N,{ref:F}))},L=function(){return n.createElement(s._,{describedby:N["aria-describedby"],feedback:r,feedbackInvalid:m,feedbackValid:b,floatingLabel:p,invalid:v,tooltipFeedback:h,valid:y})},O=function(){var e;return n.createElement(o.A,(0,t.Cl)({customClassName:(0,i.A)(c?(0,i.A)("btn",c.variant?"btn-".concat(c.variant,"-").concat(c.color):"btn-".concat(c.color),(e={},e["btn-".concat(c.size)]=c.size,e),"".concat(c.shape)):"form-check-label")},f&&{htmlFor:f}),g)};return n.createElement((function(){return c?n.createElement(n.Fragment,null,n.createElement(T,null),g&&n.createElement(O,null),n.createElement(L,null)):g?x?n.createElement(n.Fragment,null,n.createElement(T,null),n.createElement(o.A,(0,t.Cl)({customClassName:(0,i.A)("form-check-label stretched-link",l)},f&&{htmlFor:f}),g),n.createElement(L,null)):n.createElement("div",{className:(0,i.A)("form-check",{"form-check-inline":u,"form-check-reverse":k,"is-invalid":v,"is-valid":y},l)},n.createElement(T,null),n.createElement(O,null),n.createElement(L,null)):n.createElement(T,null)}),null)}));m.propTypes=(0,t.Cl)({button:r().object,className:r().string,hitArea:r().oneOf(["full"]),id:r().string,indeterminate:r().bool,inline:r().bool,label:r().oneOfType([r().string,r().node]),reverse:r().bool,type:r().oneOf(["checkbox","radio"])},s._.propTypes),m.displayName="CFormCheck"},64231:(e,a,l)=>{l.d(a,{I:()=>o});var t=l(22378),n=l(65043),c=l(65173),r=l.n(c),i=l(25196),s=l(64557),o=(0,n.forwardRef)((function(e,a){var l=e.children,c=e.className,r=e.feedback,o=e.feedbackInvalid,d=e.feedbackValid,m=e.floatingClassName,b=e.floatingLabel,p=e.id,h=e.invalid,x=e.label,f=e.plainText,j=e.text,u=e.tooltipFeedback,v=e.valid,g=(0,t.Tt)(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return n.createElement(s.O,{describedby:g["aria-describedby"],feedback:r,feedbackInvalid:o,feedbackValid:d,floatingClassName:m,floatingLabel:b,id:p,invalid:h,label:x,text:j,tooltipFeedback:u,valid:v},n.createElement("textarea",(0,t.Cl)({className:(0,i.A)(f?"form-control-plaintext":"form-control",{"is-invalid":h,"is-valid":v},c),id:p},g,{ref:a}),l))}));o.propTypes=(0,t.Cl)({className:r().string,id:r().string,plainText:r().bool},s.O.propTypes),o.displayName="CFormTextarea"}}]);
//# sourceMappingURL=955.4a059f6d.chunk.js.map