"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[455],{21455:(e,i,s)=>{s.r(i),s.d(i,{default:()=>U});var a=s(65043),r=s(80861),c=s(96105),t=s(23682),n=s(49634),l=s(73216),o=s(54101),d=s(6122),h=s(72717),j=s(13127),m=s(84709),u=s(25762),x=s(8270),y=s(56627),p=s(31148),N=(s(35411),s(34974)),b=(s(18024),s(89756)),f=s(31486),R=s(54823),L=s(42566),A=s(26460),S=(s(68094),s(49957)),F=s(17564),M=(s(87921),s(90761)),B=s(43357),k=s(84998),K=s(85930),v=s(44619),g=s(63171),D=s(81925),W=s(56732),E=s(33245),q=s(50286),P=s(84793),C=s(54451),z=s(27304),w=s(55316),O=s(70579);const I=()=>{const e=(0,l.zy)().pathname.includes("/view"),i=((0,l.Zp)(),(0,a.useRef)(null)),s=(0,a.useRef)(null),[r,c]=(0,a.useState)(!1),{company:t,indirectWorkForceList:I,totalIndirectWorkForce:U,directWorkForceList:G,totalDirectWorkForce:T,asarcoMachineryList:Q,machineryList:V,equipmentList:Z,equipmentPlateList:$,vehicleList:_,vehiclePlateList:X,activityList:H,aljibeList:J,comment:Y,incident:ee,directDotationWorkForceList:ie,machineryWorkForceList:se,equipmentWorkForceList:ae,graphList:re}=(0,C.A)(),[ce,te]=(0,a.useState)(),[ne,le]=(0,a.useState)(),[oe,de]=(0,a.useState)(!1),[he,je]=(0,a.useState)(),[me,ue]=(0,a.useState)(),[xe,ye]=(0,a.useState)(0),[pe,Ne]=(0,a.useState)(0),[be,fe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{T.directSubtotalOfferedNumber&&T.directSubtotalWorkNumber&&fe(!0),ye(T.directSubtotalOfferedNumber),Ne(T.directSubtotalWorkNumber)}),[T]);const[Re,Le]=(0,a.useState)(0),[Ae,Se]=(0,a.useState)(0),[Fe,Me]=(0,a.useState)(0),[Be,ke]=(0,a.useState)(0),[Ke,ve]=(0,a.useState)(0),[ge,De]=(0,a.useState)(0),[We,Ee]=(0,a.useState)(0),[qe,Pe]=(0,a.useState)(0),[Ce,ze]=(0,a.useState)(!1);(0,a.useEffect)((()=>{for(let e of Q)ze(!0),Pe(qe+Number(e.asarcoMachineryEffectiveTime)+Number(e.asarcoMachineryScheduleMaintenance)+Number(e.asarcoMachineryScheduleDelay)+Number(e.asarcoMachineryOpperationalLoss)+Number(e.asarcoMachineryUnscheduleMaintenance)+Number(e.asarcoMachineryUnscheduleDelay)+Number(e.asarcoMachineryReserves)),Le(Re+Number(e.asarcoMachineryEffectiveTime)),Se(Ae+Number(e.asarcoMachineryScheduleMaintenance)),Me(Fe+Number(e.asarcoMachineryScheduleDelay)),ke(Be+Number(e.asarcoMachineryOpperationalLoss)),ve(Ke+Number(e.asarcoMachineryUnscheduleMaintenance)),De(ge+Number(e.asarcoMachineryUnscheduleDelay)),Ee(We+Number(e.asarcoMachineryReserves))}),[Q]),(0,a.useEffect)((()=>{t.dailyReportDate||window.location.reload()}),[t]);const{getData:we}=(0,n.A)(),Oe=we("basics"),{registerData:Ie}=(0,k.A)();return(0,O.jsxs)("div",{className:"dailyReport",children:[r&&(0,O.jsx)(E.A,{visible:!0,sendDataToParent:async e=>{c(e)}}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{}),(0,O.jsx)(q.XP,{document:(0,O.jsx)(P.default,{company:t,indirectWorkForceList:I,basicQuery:Oe,totalIndirectWorkForce:U,directWorkForceList:G,totalDirectWorkForce:T,asarcoMachineryList:Q,machineryList:V,equipmentList:Z,equipmentPlateList:$,vehiclePlateList:X,vehicleList:_,activityList:H,aljibeList:J,comment:Y,incident:ee,directDotationWorkForceList:ie,machineryWorkForceList:se,equipmentWorkForceList:ae,imagenColumnChart:ce,imagenPieChart:ne,graphList:re}),fileName:"Reporte 1.pdf",children:e=>{let{blob:a,url:r,loading:c,error:t}=e;return de(c),je(a),Ce&&(ne&&"data:,"!==ne||(le(),(0,w.$E)(s.current,{cacheBust:!1}).then((e=>{le(e)})).catch((e=>{})))),be&&(ce&&"data:,"!==ce||(te(),(0,w.$E)(i.current,{cacheBust:!1}).then((e=>{te(e)})).catch((e=>{})))),ue(r),c?"Generando documento...":"Descargar PDF"}})]}),!oe&&me&&he?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(o.E,{className:"dailyReport-accordion",activeItemKey:1,children:[(0,O.jsxs)(d.l,{itemKey:1,children:[(0,O.jsx)(h.B,{children:"1) Empresa"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(u.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:2,children:[(0,O.jsx)(h.B,{children:"2) Fuerza de trabajo personal indirecto"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(x.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:3,children:[(0,O.jsx)(h.B,{children:"3) Fuerza laboral total personal indirecto"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(y.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:4,children:[(0,O.jsx)(h.B,{children:"4) Fuerza laboral contratista personal directo"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(B.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:5,children:[(0,O.jsx)(h.B,{children:"5) Fuerza laboral total personal directo"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(p.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:6,children:[(0,O.jsx)(h.B,{children:"6) Dotaci\xf3n por frente de trabajo personal directo"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(N.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:7,children:[(0,O.jsx)(h.B,{children:"7) Maquinarias contratistas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(b.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:8,children:[(0,O.jsx)(h.B,{children:"8) Maquinarias por frente de trabajo"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(f.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:9,children:[(0,O.jsx)(h.B,{children:"9) ASARCO Maquinarias"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(K.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:10,children:[(0,O.jsx)(h.B,{children:"10) Equipos contratistas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(R.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:11,children:[(0,O.jsx)(h.B,{children:"11) Equipos con patentes contratistas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(v.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:12,children:[(0,O.jsx)(h.B,{children:"12) Equipos por frente de trabajo"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(L.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:13,children:[(0,O.jsx)(h.B,{children:"13) Veh\xedculos menores contratistas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(A.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:14,children:[(0,O.jsx)(h.B,{children:"14) Veh\xedculos con patente menores contratistas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(g.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:15,children:[(0,O.jsx)(h.B,{children:"15) Descripci\xf3n de actividades desarrolladas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(S.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:16,children:[(0,O.jsx)(h.B,{children:"16) Control de aguas industriales utilizadas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(D.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:17,children:[(0,O.jsx)(h.B,{children:"17) Comentarios y alertas en general"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(F.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:18,children:[(0,O.jsx)(h.B,{children:"18) Registro fotogr\xe1fico diario"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(W.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:19,children:[(0,O.jsx)(h.B,{children:"19) Incidentes, lesiones o eventos"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(M.A,{})})]}),(0,O.jsxs)(d.l,{itemKey:20,children:[(0,O.jsx)(h.B,{children:"20) Firmas"}),(0,O.jsx)(j.i,{className:"dailyReport-accordion",children:(0,O.jsx)(O.Fragment,{})})]})]}),(0,O.jsx)(m.Q,{className:"btn-project-action",onClick:()=>{e?c(!r):Ie()},children:"Registrar informe diario"})]}):(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(z.A,{})})]})},U=()=>{let e=(0,l.Zp)();const{getData:i}=(0,n.A)(),s=i("basics");return(0,a.useEffect)((()=>{s||e("/dashboard")}),[s]),(0,O.jsx)("div",{className:"daily-report",children:(0,O.jsx)(r.E,{children:(0,O.jsx)(c.W,{children:(0,O.jsx)(t.d,{children:(0,O.jsx)(I,{})})})})})}}}]);
//# sourceMappingURL=455.daa2b66f.chunk.js.map