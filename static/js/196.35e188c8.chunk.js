"use strict";(self.webpackChunkP_G=self.webpackChunkP_G||[]).push([[196],{36566:(e,a,s)=>{s.d(a,{MS:()=>i,OZ:()=>d,XU:()=>l,b:()=>c,ny:()=>o});var r=s(92535),n=s(77154);const t=localStorage.getItem("USER_TYPE"),c=e=>(0,r.I)({queryKey:["projects"],refetchType:"all",refetchOnWindowFocus:!0,queryFn:async()=>(async e=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/projects")).data.data)()}),d=e=>(0,r.I)({queryKey:["contracts"],refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://2b3570b8072a44e09ce5b5a80a4c8012.api.mockbin.io/")).data.data)()}),i=e=>(0,r.I)({queryKey:["basics"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async e=>(await n.A.get("https://ad66ae1fb4124d5d84a95b384d69a128.api.mockbin.io/")).data.data)()}),l=()=>(0,r.I)({queryKey:["users"],refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://b4b07e25f42d4135b6fc3791a6e1d1f8.api.mockbin.io/")).data.data)()}),o=()=>(console.log("userType",t),(0,r.I)({queryKey:["reports"],staleTime:0,gcTime:2147483647,refetchType:"all",queryFn:async()=>(async()=>(await n.A.get("https://pyg-production.up.railway.app/api/v1/reports")).data.data)()}))},59196:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var r=s(65043),n=s(4082),t=s(80861),c=s(25104),d=s(96105),i=s(23682),l=s(44101),o=s(84709),h=s(44227),p=s(73216),j=s(46290),m=s(35761),y=s(36566);const x=e=>{const{data:a,isLoading:s,error:r}=(0,y.MS)(e);return{data:a,isLoading:s,error:r}};var u=s(49634),b=s(70579);const g=()=>{let e=(0,p.Zp)();const{getProject:a,getContract:s}=(0,m.A)(),g=JSON.parse(a()),f=JSON.parse(s()),{data:T,isLoading:N,error:v}=x(f.id),{getData:k}=(0,u.A)();(0,y.ny)();const A=k("reports");(0,r.useEffect)((()=>{g&&f||e("/project_selector")}),[g,f]);const C=a=>{e(a)};return(0,b.jsxs)("div",{className:"dashboard",children:[(0,b.jsxs)(t.E,{children:[(0,b.jsx)(c.V,{children:"Panel Informativo"}),(0,b.jsx)(d.W,{children:(0,b.jsx)(i.d,{children:(0,b.jsx)(n.A,{})})})]}),"admin"===localStorage.getItem("USER_TYPE")&&A&&A.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("br",{}),(0,b.jsx)(t.E,{children:(0,b.jsx)(d.W,{children:(0,b.jsx)(i.d,{children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{children:["Tienes ",A.length," informes diarios por firmar."]}),A.map((e=>(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.s,{children:(0,b.jsx)(o.Q,{className:"dashboard-button",onClick:()=>{localStorage.setItem("daily_report",e.id),C("/informe-diario/edit")},children:e.id})})})))]})})})})]}),(0,b.jsx)("br",{}),(0,b.jsx)(t.E,{children:(0,b.jsx)(d.W,{children:(0,b.jsx)(i.d,{children:(0,b.jsx)(j.A,{})})})}),(0,b.jsx)("br",{}),(0,b.jsx)(t.E,{children:(0,b.jsx)(d.W,{children:(0,b.jsx)(i.d,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(l.s,{children:[(0,b.jsx)(h.U,{sm:4,children:(0,b.jsx)(o.Q,{className:"dashboard-button",onClick:()=>{C("/informe-diario")},children:"Informe Diario"})}),(0,b.jsx)(h.U,{sm:4,children:(0,b.jsx)(o.Q,{className:"dashboard-button",onClick:()=>{C("/trisemanal")},children:"Trisemanal"})}),(0,b.jsx)(h.U,{sm:4,children:(0,b.jsx)(o.Q,{className:"dashboard-button",onClick:()=>{C("/carta-gantt")},children:"Carta Gantt"})})]}),(0,b.jsxs)(l.s,{children:[(0,b.jsx)(h.U,{sm:4,children:(0,b.jsx)(o.Q,{className:"dashboard-button",onClick:()=>{C("/avance")},children:"Avance"})}),(0,b.jsx)(h.U,{sm:4,children:(0,b.jsx)(o.Q,{className:"dashboard-button",children:"TOP NO+PAPEL"})}),(0,b.jsx)(h.U,{sm:4})]})]})})})})]})}},25104:(e,a,s)=>{s.d(a,{V:()=>i});var r=s(22378),n=s(65043),t=s(65173),c=s.n(t),d=s(25196),i=(0,n.forwardRef)((function(e,a){var s=e.children,t=e.as,c=void 0===t?"div":t,i=e.className,l=(0,r.Tt)(e,["children","as","className"]);return n.createElement(c,(0,r.Cl)({className:(0,d.A)("card-header",i)},l,{ref:a}),s)}));i.propTypes={as:c().elementType,children:c().node,className:c().string},i.displayName="CCardHeader"}}]);
//# sourceMappingURL=196.35e188c8.chunk.js.map